{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/tiled_scrolling_demo/TiledScrollingDemo.ts","src/wolfie2d/Game.ts","src/wolfie2d/files/ResourceManager.ts","src/wolfie2d/loop/GameLoopTemplate.ts","src/wolfie2d/math/MathUtilities.ts","src/wolfie2d/math/Matrix.ts","src/wolfie2d/math/Vector3.ts","src/wolfie2d/rendering/TextRenderer.ts","src/wolfie2d/rendering/WebGLGameRenderingComponent.ts","src/wolfie2d/rendering/WebGLGameRenderingSystem.ts","src/wolfie2d/rendering/WebGLGameShader.ts","src/wolfie2d/rendering/WebGLGameSpriteRenderer.ts","src/wolfie2d/rendering/WebGLGameTexture.ts","src/wolfie2d/rendering/WebGLGameTiledLayerRenderer.ts","src/wolfie2d/scene/SceneGraph.ts","src/wolfie2d/scene/SceneObject.ts","src/wolfie2d/scene/Viewport.ts","src/wolfie2d/scene/sprite/AnimatedSprite.ts","src/wolfie2d/scene/sprite/AnimatedSpriteType.ts","src/wolfie2d/scene/sprite/Behavior.ts","src/wolfie2d/scene/sprite/BugBehavior1.ts","src/wolfie2d/scene/sprite/BugBehavior2.ts","src/wolfie2d/scene/tiles/TileSet.ts","src/wolfie2d/scene/tiles/TiledLayer.ts","src/wolfie2d/ui/UIController.ts"],"names":[],"mappings":"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","file":"demo.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*\r\n * TiledScrollingDemo.ts - demonstrates how tiled layers can be rendered\r\n * and scrolled using a viewport. \r\n */\r\nimport {Game} from '../wolfie2d/Game'\r\nimport {AnimatedSprite} from '../wolfie2d/scene/sprite/AnimatedSprite'\r\nimport {AnimatedSpriteType} from '../wolfie2d/scene/sprite/AnimatedSpriteType'\r\nimport {TiledLayer} from '../wolfie2d/scene/tiles/TiledLayer'\r\nimport {SceneGraph} from '../wolfie2d/scene/SceneGraph'\r\nimport {Viewport} from '../wolfie2d/scene/Viewport'\r\nimport {TextToRender, TextRenderer} from '../wolfie2d/rendering/TextRenderer'\r\n\r\n// THIS IS THE ENTRY POINT INTO OUR APPLICATION, WE MAKE\r\n// THE Game OBJECT AND INITIALIZE IT WITH THE CANVASES\r\nlet game = new Game(\"game_canvas\", \"text_canvas\");\r\n\r\n// WE THEN LOAD OUR GAME SCENE, WHICH WILL FIRST LOAD\r\n// ALL GAME RESOURCES, THEN CREATE ALL SHADERS FOR\r\n// RENDERING, AND THEN PLACE ALL GAME OBJECTS IN THE SCENE.\r\n// ONCE IT IS COMPLETED WE CAN START THE GAME\r\nconst DESERT_SCENE_PATH = \"resources/scenes/ScrollableDesert.json\";\r\ngame.getResourceManager().loadScene(DESERT_SCENE_PATH, \r\n                                    game.getSceneGraph(),\r\n                                    game.getRenderingSystem(), \r\n                                    function() {\r\n    // ADD ANY CUSTOM STUFF WE NEED HERE, LIKE TEXT RENDERING\r\n    // LET'S ADD A BUNCH OF RANDOM SPRITES\r\n    let world : TiledLayer[] = game.getSceneGraph().getTiledLayers();\r\n    let worldWidth : number = world[0].getColumns() * world[0].getTileSet().getTileWidth();\r\n    let worldHeight : number = world[0].getRows() * world[0].getTileSet().getTileHeight();\r\n\r\n    //Add player character mantis\r\n    let type : AnimatedSpriteType = game.getResourceManager().getAnimatedSpriteType(\"MANTIS\");\r\n    let player : AnimatedSprite = new AnimatedSprite(type, \"IDLE\");\r\n    player.setPlayer();\r\n    player.getPosition().set(880, 480, 0, 1);\r\n    game.getSceneGraph().addAnimatedSprite(player);\r\n\r\n    // Add 50 ants\r\n    for (let i = 0; i < 50; i++) {\r\n        let type : AnimatedSpriteType = game.getResourceManager().getAnimatedSpriteType(\"ANT\");\r\n        let randomSprite : AnimatedSprite = new AnimatedSprite(type, \"IDLE\");\r\n        let randomX : number = Math.random() * worldWidth;\r\n        let randomY : number = Math.random() * worldHeight;\r\n        randomSprite.getPosition().set(randomX, randomY, 0, 1);\r\n        randomSprite.addBehavior(1, game.getSceneGraph(), worldWidth - 100, worldHeight - 100);\r\n        game.getSceneGraph().addAnimatedSprite(randomSprite);\r\n    }\r\n    // Add 50 bed bugs\r\n    for (let i = 0; i < 50; i++) {\r\n        let type : AnimatedSpriteType = game.getResourceManager().getAnimatedSpriteType(\"BED_BUG\");\r\n        let randomSprite : AnimatedSprite = new AnimatedSprite(type, \"IDLE\");\r\n        let randomX : number = Math.random() * (worldWidth - 50);\r\n        let randomY : number = Math.random() * (worldHeight - 50);\r\n        randomSprite.getPosition().set(randomX, randomY, 0, 1);\r\n        randomSprite.addBehavior2(2, game.getSceneGraph(), worldWidth - 100, worldHeight - 100, player);\r\n        game.getSceneGraph().addAnimatedSprite(randomSprite);\r\n    }\r\n\r\n    // NOW ADD TEXT RENDERING. WE ARE GOING TO RENDER 3 THINGS:\r\n        // NUMBER OF SPRITES IN THE SCENE\r\n        // LOCATION IN GAME WORLD OF VIEWPORT\r\n        // NUMBER OF SPRITES IN VISIBLE SET (i.e. IN THE VIEWPORT)\r\n    let sceneGraph : SceneGraph = game.getSceneGraph();\r\n    let spritesInSceneText : TextToRender = new TextToRender(\"Sprites in Scene\", \"\", 20, 50, function() {\r\n        spritesInSceneText.text = \"Sprites in Scene: \" + sceneGraph.getNumSprites();\r\n    });\r\n    let viewportText : TextToRender = new TextToRender(\"Viewport\", \"\", 20, 70, function() {\r\n        let viewport : Viewport = sceneGraph.getViewport();\r\n        viewportText.text = \"Viewport (w, h, x, y): (\"  + viewport.getWidth() + \", \"\r\n                                                        + viewport.getHeight() + \", \"\r\n                                                        + viewport.getX() + \", \"\r\n                                                        + viewport.getY() + \")\";\r\n    });\r\n    let spritesInViewportText : TextToRender = new TextToRender(\"Sprites in Viewport\", \"\", 20, 90, function() {\r\n        spritesInViewportText.text = \"Sprites in Viewport: \" + sceneGraph.numViewport();\r\n    });\r\n    let worldDimensionsText : TextToRender = new TextToRender(\"World Dimensions\", \"\", 20, 110, function() {\r\n        worldDimensionsText.text = \"World Dimensions (w, h): (\" + worldWidth + \", \" + worldHeight + \")\";\r\n    });\r\n    let textRenderer = game.getRenderingSystem().getTextRenderer();\r\n    textRenderer.addTextToRender(spritesInSceneText);\r\n    textRenderer.addTextToRender(viewportText);\r\n    textRenderer.addTextToRender(spritesInViewportText);\r\n    textRenderer.addTextToRender(worldDimensionsText);\r\n\r\n    // AND START THE GAME LOOP\r\n    game.start();\r\n});","/*\r\n * Game is the focal point of the application, it has 4 subsystems,\r\n * the resource manager, the scene graph, the rendering system, and\r\n * the UI controller. In addition it serves as the game loop, providing\r\n * both an update and draw function that is called on a schedule.\r\n */\r\nimport {GameLoopTemplate} from './loop/GameLoopTemplate'\r\nimport {WebGLGameRenderingSystem} from './rendering/WebGLGameRenderingSystem'\r\nimport {SceneGraph} from './scene/SceneGraph'\r\nimport {AnimatedSprite} from './scene/sprite/AnimatedSprite'\r\nimport {TiledLayer} from './scene/tiles/TiledLayer'\r\nimport {ResourceManager} from './files/ResourceManager'\r\nimport {UIController} from './ui/UIController'\r\nimport {Viewport} from './scene/Viewport'\r\n\r\nexport class Game extends GameLoopTemplate {\r\n    private resourceManager : ResourceManager;\r\n    private sceneGraph : SceneGraph;\r\n    private renderingSystem : WebGLGameRenderingSystem;\r\n    private uiController : UIController;\r\n\r\n    public constructor(gameCanvasId : string, textCanvasId : string) {\r\n        super();\r\n        this.resourceManager= new ResourceManager();\r\n        this.sceneGraph= new SceneGraph();\r\n        this.renderingSystem= new WebGLGameRenderingSystem(gameCanvasId, textCanvasId);\r\n        this.uiController = new UIController(gameCanvasId, this.sceneGraph);\r\n\r\n        // MAKE SURE THE SCENE GRAPH' S VIEWPORT IS PROPERLY SETUP\r\n        let viewportWidth : number = (<HTMLCanvasElement>document.getElementById(gameCanvasId)).width;\r\n        let viewportHeight : number = (<HTMLCanvasElement>document.getElementById(gameCanvasId)).height;\r\n        let viewport : Viewport = new Viewport(viewportWidth, viewportHeight);\r\n        this.sceneGraph.setViewport(viewport);\r\n    }\r\n\r\n    public getRenderingSystem() : WebGLGameRenderingSystem {\r\n        return this.renderingSystem;\r\n    }\r\n\r\n    public getResourceManager() : ResourceManager {\r\n        return this.resourceManager;\r\n    }\r\n\r\n    public getSceneGraph() : SceneGraph {\r\n        return this.sceneGraph;\r\n    }\r\n\r\n    public begin() : void {\r\n    }\r\n\r\n    /*\r\n     * This draws the game. Note that we are not currently using the \r\n     * interpolation value, but could once physics is involved.\r\n     */\r\n    public draw(interpolationPercentage : number) : void {\r\n        // GET THE TILED LAYERS TO RENDER FROM THE SCENE GRAPH\r\n        let visibleLayers : Array<TiledLayer>;\r\n        visibleLayers = this.sceneGraph.getTiledLayers();\r\n\r\n        // GET THE VISIBLE SET FROM THE SCENE GRAPH\r\n        let visibleSprites : Array<AnimatedSprite>;\r\n        visibleSprites = <Array<AnimatedSprite>>this.sceneGraph.scope();\r\n\r\n        let viewport : Viewport = this.sceneGraph.getViewport();\r\n\r\n        // RENDER THE VISIBLE SET, WHICH SHOULD ALL BE RENDERABLE\r\n        this.renderingSystem.render(viewport, visibleLayers, visibleSprites);\r\n    }\r\n\r\n    /**\r\n     * Updates the scene.\r\n     */\r\n    public update(delta : number) : void {\r\n        this.sceneGraph.update(delta);\r\n    }\r\n    \r\n    /**\r\n     * Updates the FPS counter.\r\n     */\r\n    public end(fps : number, panic : boolean) : void {\r\n        if (panic) {\r\n            var discardedTime = Math.round(this.resetFrameDelta());\r\n            console.warn('Main loop panicked, probably because the browser tab was put in the background. Discarding ' + discardedTime + 'ms');\r\n        }\r\n    }\r\n}","/*\r\n * ResourceManager.js\r\n *\r\n * This class is responsible for managing all shared resources. This means things\r\n * that may be needed by multiple game objects. In this application this means\r\n * textures for the purpose of GPU rendering and animated sprite types.\r\n */\r\nimport { SpriteTypeData, AnimationStateData } from './SpriteTypeData'\r\nimport { MapData, TiledLayerData, TiledLayerProperty, TileSetData } from './MapData'\r\nimport { SceneData, NamedPath } from './SceneData'\r\nimport { WebGLGameRenderingSystem } from '../rendering/WebGLGameRenderingSystem'\r\nimport { WebGLGameTexture } from '../rendering/WebGLGameTexture'\r\nimport { AnimatedSpriteType } from '../scene/sprite/AnimatedSpriteType'\r\nimport { SceneGraph } from '../scene/SceneGraph'\r\nimport { TiledLayer } from '../scene/tiles/TiledLayer'\r\nimport { TileSet } from '../scene/tiles/TileSet'\r\n\r\nexport class ResourceManager {\r\n    // GAME SHADER PROGRAM SOURCE CODE WILL BE LOADED HERE. NOTE THAT\r\n    // WE HAVE ONE MAP FOR MAPPING THE SHADER NAME TO THE SOURCE CODE\r\n    // AND ANOTHER FOR MAPPING THE SHADER NAME TO THE FILE PATH\r\n    private gameShadersSource: Map<string, string> = new Map();\r\n    private gameShadersSourcePaths: Map<string, string> = new Map();\r\n    private numShadersToLoad: number;\r\n    private numShadersLoaded: number;\r\n\r\n    // SPRITE TYPES\r\n    private gameSpriteTypes: Map<string, AnimatedSpriteType> = new Map();\r\n    private gameSpriteTypePaths: Map<string, string> = new Map();\r\n    private numSpriteTypesToLoad: number;\r\n    private numSpriteTypesLoaded: number;\r\n\r\n    // TILE SETS\r\n    private gameTileSets: Map<string, TileSet> = new Map();\r\n    private gameTileSetPaths: Map<string, string> = new Map();\r\n    private numTileSetsToLoad: number;\r\n    private numTileSetsLoaded: number;\r\n\r\n    // GAME TEXTURES \r\n    private gameTextures: Map<string, WebGLGameTexture> = new Map();\r\n    private numTexturesToLoad: number;\r\n    private numTexturesLoaded: number;\r\n\r\n    public constructor() { }\r\n\r\n    // ACCESSOR METHODS\r\n\r\n    public getShaderSource(shaderName: string): string {\r\n        return this.gameShadersSource.get(shaderName);\r\n    }\r\n\r\n    public getAnimatedSpriteType(spriteTypeName: string): AnimatedSpriteType {\r\n        return this.gameSpriteTypes.get(spriteTypeName);\r\n    }\r\n\r\n    public getTileSet(tileSetName: string): TileSet {\r\n        return this.gameTileSets.get(tileSetName);\r\n    }\r\n\r\n    public getTexture(texturePath: string): WebGLGameTexture {\r\n        return this.gameTextures.get(texturePath);\r\n    }\r\n\r\n    public clear() : void {\r\n        // CLEAR THE SHADER SOURCE \r\n        this.gameShadersSource.clear();\r\n        this.gameShadersSourcePaths.clear();\r\n\r\n        // CLEAR THE SPRITE TYPES\r\n        this.gameSpriteTypes.clear();\r\n        this.gameSpriteTypePaths.clear();\r\n\r\n        // CLEAR THE TEXTURES\r\n        this.gameTextures.clear();\r\n\r\n        // WE REALLY SHOULD ADD FUNCTIONALITY TO REMOVE\r\n        // ALL THE RESOURCES FROM THE GPU ONE BY ONE\r\n        // BUT THAT'S SOMETHING FOR THE FUTURE\r\n    }\r\n\r\n    /**\r\n     * loadScene is responsible for loading all the external files needed for\r\n     * playing the game. These will be used for loading the scene, maps,\r\n     * animated sprites, textures, and shaders.\r\n     */\r\n    public loadScene(   scenePath: string,\r\n                        sceneGraph: SceneGraph,\r\n                        renderingSystem: WebGLGameRenderingSystem,\r\n                        callback: Function): void {\r\n        // CLEAR THE SCENE GRAPH TO GET RID OF ALL THE OLD STUFF\r\n        // THAT MAY HAVE BEEN LOADED FOR SOME OTHER LEVEL\r\n        sceneGraph.clear();\r\n\r\n        // CLEAR ALL THE SCENE RESOURCES \r\n        this.clear();\r\n\r\n        // WE HAVE OUR OWN CUSTOM JSON FILE FORMAT TO REPRESENT OUR SCENE\r\n        let thisResourceManager: ResourceManager = this;\r\n        this.loadTextFile(scenePath, function (jsonSceneText: string) {\r\n            let sceneData: SceneData = <SceneData>JSON.parse(jsonSceneText);\r\n            thisResourceManager.loadShadersSource(renderingSystem, sceneData.shaderSourcePaths, function () {\r\n                // NEXT LOAD THE MAP, WHICH WILL FORCE A LOADING OF\r\n                // ANY USED TILE SET TEXTURES AS WELL AS THE CREATION\r\n                // OF TILED LAYERS TO BE ADDED TO THE SCENE\r\n                thisResourceManager.loadMap(sceneData.mapPath, renderingSystem, sceneGraph, function () {\r\n                    // NOW THAT THE MAP HAS BEEN LOADED LOAD ALL THE SPRITE TYPES\r\n                    thisResourceManager.loadSpriteTypes(renderingSystem, sceneData.spriteTypePaths, function () {\r\n                        // NOW WE CAN INIT ALL SHADERS\r\n                        thisResourceManager.initAllShaders(renderingSystem, sceneGraph);\r\n\r\n                        callback();\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    public initAllShaders(  renderingSystem: WebGLGameRenderingSystem,\r\n                            sceneGraph: SceneGraph): void {\r\n        // SETUP THE SPRITE RENDERER FOR USE WITH THE SPRITE SHADER THAT'S BEEN LOADED\r\n        let spriteRendererVertexShaderSource: string = this.getShaderSource(\"SPRITE_VERTEX_SHADER\");\r\n        let spriteRendererFragmentShaderSource: string = this.getShaderSource(\"SPRITE_FRAGMENT_SHADER\");\r\n        renderingSystem.getSpriteRenderer().init(renderingSystem.getWebGL(), spriteRendererVertexShaderSource, spriteRendererFragmentShaderSource, null);\r\n\r\n        // SETUP THE TILED LAYER RENDERER FOR USE WITH THE TILED SHADER THAT'S BEEN LOADED\r\n        let tiledLayerVertexShaderSource: string = this.getShaderSource(\"TILED_LAYER_VERTEX_SHADER\");\r\n        let tiledLayerFragmentShaderSource: string = this.getShaderSource(\"TILED_LAYER_FRAGMENT_SHADER\");\r\n        renderingSystem.getTiledLayerRenderer().init(renderingSystem.getWebGL(), tiledLayerVertexShaderSource, tiledLayerFragmentShaderSource, sceneGraph.getTiledLayers());\r\n    }\r\n\r\n    public loadShadersSource(   renderingSystem: WebGLGameRenderingSystem,\r\n                                namedPaths: Array<NamedPath>,\r\n                                callback: Function): void {\r\n        // START BY LOADING ALL THE SHADER SOURCE FILES THESE CAN THEN BE\r\n        // RETRIEVED LATER BY THE RENDERERS WHEN ITS TIME TO BUILD THE \r\n        // SHADER PROGRAMS\r\n        let thisResourceManager: ResourceManager = this;\r\n        this.numShadersLoaded = 0;\r\n        this.numShadersToLoad = namedPaths.length;\r\n        for (let i: number = 0; i < namedPaths.length; i++) {\r\n            let namedPath: NamedPath = namedPaths[i];\r\n            let shaderName: string = namedPath.name;\r\n            let shaderPath: string = namedPath.path;\r\n            this.loadTextFile(shaderPath, function (shaderSourceCode: string) {\r\n                thisResourceManager.gameShadersSource.set(shaderName, shaderSourceCode);\r\n                thisResourceManager.gameShadersSourcePaths.set(shaderName, shaderPath);\r\n                thisResourceManager.completeLoadingShader(function () {\r\n                    // ALL SOURCE CODE IS LOADED SO DO WHAT'S NEXT\r\n                    callback();\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    public buildPathToFileInSameDirectory(baseFileWithPath : string, targetFileName : string) : string {\r\n        let lastIndexOfSlash: number = baseFileWithPath.lastIndexOf('/');\r\n        let targetFilePath : string = \"./\";\r\n        if (lastIndexOfSlash > 0)\r\n            targetFilePath = baseFileWithPath.substring(0, lastIndexOfSlash);\r\n        targetFilePath += \"/\" + targetFileName;\r\n        return targetFilePath;\r\n    }\r\n\r\n    public loadMap( mapPath: string,\r\n                    renderingSystem: WebGLGameRenderingSystem,\r\n                    sceneGraph: SceneGraph,\r\n                    callback: Function): void {\r\n        let thisResourceManager: ResourceManager = this;\r\n        this.loadTextFile(mapPath, function (jsonMapText: string) {\r\n            let mapData: MapData = <MapData>JSON.parse(jsonMapText);\r\n\r\n            // WE ONLY USE ONE TILE SET\r\n            let tilesetFileName: string = mapData.tilesets[0].image;\r\n            let tilesetFilePath = thisResourceManager.buildPathToFileInSameDirectory(mapPath, tilesetFileName);\r\n\r\n            // USE THE PATHS TOLOAD THE TILE SET TEXTURES\r\n            thisResourceManager.loadTexture(tilesetFilePath, renderingSystem, function (tilesetTexture : WebGLGameTexture) {\r\n                // NOW THAT THE TILE SET TEXTURES HAVE BEEN LOADED,\r\n                // LOAD ALL THEIR ASSOCIATED TILESET DATA\r\n                for (let i = 0; i < mapData.tilesets.length; i++) {\r\n                    let tileSetData : TileSetData = mapData.tilesets[i];\r\n                    let rows : number = Math.ceil(tileSetData.tilecount/tileSetData.columns);\r\n                    let tileSetToAdd : TileSet = new TileSet(\r\n                                                    tileSetData.name,\r\n                                                    tileSetData.columns,\r\n                                                    rows,\r\n                                                    tileSetData.tilewidth,\r\n                                                    tileSetData.tileheight,\r\n                                                    tileSetData.spacing,\r\n                                                    tileSetData.imagewidth,\r\n                                                    tileSetData.imageheight,\r\n                                                    tileSetData.firstgid - 1,\r\n                                                    tilesetTexture);                    \r\n                    thisResourceManager.gameTileSets.set(tileSetToAdd.getName(), tileSetToAdd);\r\n                }\r\n\r\n                // AND NOW THAT THE TILE SETS HAVE BEEN LOADED\r\n                // WE CAN LOAD THE MAP'S TILED LAYERS, THOUGH NOTE\r\n                // IN THIS EXAMPLE WE ARE GOING TO KEEP IT SIMPLE\r\n                // AND ASSUME THERE IS ONLY ONE TILE SET\r\n                for (let i = 0; i < mapData.layers.length; i++) {\r\n                    let layerData : TiledLayerData = mapData.layers[i];\r\n\r\n                    // THIS LINE OF CODE IS FUNKY, WE CAN ONLY DO THIS WITH A SINGLE TILE SET,\r\n                    // SO TO MAKE THIS A REAL GAME ENGINE THIS WOULD NEED TO BE FIXED\r\n                    let layerTileSet : TileSet = thisResourceManager.gameTileSets.values().next().value;\r\n\r\n                    // WE ARE ASSUMING EACH LAYER USES JUST ONE TILE SET, WHICH MIGHT NOT\r\n                    // NECESSARILY BE TRUE. BUT FOR NOW, LET'S JUST MAKE THE LAYERS ALL\r\n                    // USING THE SAME TILE SET, ADD THE TILES, AND THEN ADD THEM TO THE SCENE GRAPH\r\n                    let tiledLayer : TiledLayer = new TiledLayer(layerData.width, layerData.height,layerTileSet);\r\n                    for (let j = 0; j < layerData.data.length; j++) {\r\n                        let tileIndex : number = layerData.data[j] - 1;\r\n                        tiledLayer.addTile(tileIndex);\r\n                    }\r\n                    sceneGraph.addLayer(tiledLayer);\r\n                }\r\n\r\n                callback();\r\n            });\r\n        });\r\n    }\r\n\r\n    /*\r\n     * Loads the texturePath file argument and once\r\n     * that is done it calls the callback function.\r\n     */\r\n    public loadTexture(texturePath: string,\r\n        renderingSystem: WebGLGameRenderingSystem,\r\n        callback: Function): void {\r\n        let thisResourceManager = this;\r\n        thisResourceManager.loadImage(texturePath, function (path: string, image: HTMLImageElement) {\r\n            let textureToLoad: WebGLGameTexture = new WebGLGameTexture();\r\n            let id: number = thisResourceManager.gameTextures.size;\r\n            thisResourceManager.gameTextures.set(path, textureToLoad);\r\n            renderingSystem.initWebGLTexture(textureToLoad, id, image, function () {\r\n                callback(textureToLoad);\r\n            });\r\n        });\r\n    }\r\n\r\n    /*\r\n     * Loads all the sprite types listed in the spriteTypePaths argument and once\r\n     * that is done it calls the callback function.\r\n     */\r\n    public loadSpriteTypes( renderingSystem : WebGLGameRenderingSystem,\r\n                            spriteTypePaths: Array<NamedPath>,\r\n                            callback: Function): void {\r\n        // THEN LOAD THE TEXTURES WE'LL BE USING\r\n        this.numSpriteTypesToLoad = spriteTypePaths.length;\r\n        this.numSpriteTypesLoaded = 0;\r\n        let thisResourceManager = this;\r\n        for (let namedPath of spriteTypePaths) {\r\n            let name: string = namedPath.name;\r\n            let path: string = namedPath.path;\r\n            this.loadSpriteType(renderingSystem, name, path, function () {\r\n                thisResourceManager.completeLoadingSpriteType(callback);\r\n            });\r\n        }\r\n    }\r\n\r\n    // PRIVATE HELPER METHODS\r\n\r\n    // LOADS A NEW JSON FILE AND UPON COMPLETION CALLS THE callback FUNCTION\r\n    private loadTextFile(textFilePath: string, callback: Function): void {\r\n        let xobj: XMLHttpRequest = new XMLHttpRequest();\r\n        xobj.overrideMimeType(\"application/json\");\r\n        xobj.open('GET', textFilePath, true);\r\n        xobj.onreadystatechange = function () {\r\n            if ((xobj.readyState == 4) && (xobj.status == 200)) {\r\n                callback(xobj.responseText);\r\n            }\r\n        };\r\n        xobj.send(null);\r\n    }\r\n\r\n    // CHECKS TO SEE IF ALL SHADER LOADING IS COMPLETE, IF YES, callback IS INVOKED\r\n    private completeLoadingShader(callback: Function): void {\r\n        this.numShadersLoaded++;\r\n        if (this.numShadersLoaded === this.numShadersToLoad) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    // CHECKS TO SEE IF ALL SPRITE TYPE LOADING IS COMPLETE, IF YES, callback IS INVOKED\r\n    private completeLoadingSpriteType(callback: Function): void {\r\n        this.numSpriteTypesLoaded++;\r\n        if (this.numSpriteTypesLoaded === this.numSpriteTypesToLoad) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    // CHECKS TO SEE IF ALL TEXTURE LOADING IS COMPLETE, IF YES, callback IS INVOKED\r\n    private completeLoadingTexture(callback: Function): void {\r\n        this.numTexturesLoaded++;\r\n        if (this.numTexturesLoaded === this.numTexturesToLoad) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Loads an Image into RAM and once that process is complete it\r\n     * calls the callback method argument, presumably to then load\r\n     * it into GPU memory.\r\n     */\r\n    private loadImage(path: string, callback: Function): void {\r\n        // MAKE THE IMAGE\r\n        var image = new Image();\r\n\r\n        // ONCE THE IMAGE LOADING IS COMPLETED, THE CALLBACK WILL GET CALLED\r\n        image.onload = function () {\r\n            callback(path, image);\r\n        }\r\n\r\n        // START IMAGE LOADING\r\n        image.src = path;\r\n    }\r\n\r\n    /*\r\n     * This function loads a single sprite type resource from a JSON file and upon\r\n     * completion calls the callback function.\r\n     */\r\n    private loadSpriteType(renderingSystem : WebGLGameRenderingSystem, spriteTypeName: string, jsonFilePath: string, callback: Function): void {\r\n        let thisResourceManager: ResourceManager = this;\r\n        this.loadTextFile(jsonFilePath, function (jsonText: string) {\r\n            thisResourceManager.loadSpriteTypeData(renderingSystem, jsonFilePath, jsonText, function(spriteType : AnimatedSpriteType) {\r\n                thisResourceManager.gameSpriteTypes.set(spriteTypeName, spriteType);\r\n                thisResourceManager.gameSpriteTypePaths.set(spriteTypeName, jsonFilePath);\r\n                callback();\r\n            });\r\n        });\r\n    }\r\n\r\n    /*\r\n     * This helper function loads all the json text into an AnimatedSpriteType\r\n     * object and returns it.\r\n     */\r\n    private loadSpriteTypeData = (  renderingSystem : WebGLGameRenderingSystem, \r\n                                    spriteFilePath : string, \r\n                                    jsonText: string,\r\n                                    callback : Function): void => {\r\n        let jsonData: SpriteTypeData = <SpriteTypeData>JSON.parse(jsonText);\r\n        let texturePath : string = this.buildPathToFileInSameDirectory(spriteFilePath, jsonData.spriteSheetImage);\r\n        let thisResourceManager : ResourceManager = this;\r\n        this.loadTexture(texturePath, renderingSystem, function(spritesheetTexture : WebGLGameTexture) {\r\n            let spriteWidth: number = jsonData.spriteWidth;\r\n            let spriteHeight: number = jsonData.spriteHeight;\r\n            let animatedSpriteType = new AnimatedSpriteType(spritesheetTexture, spriteWidth, spriteHeight);\r\n            for (let i = 0; i < jsonData.animations.length; i++) {\r\n                let animation = <AnimationStateData>jsonData.animations[i];\r\n                animatedSpriteType.addAnimation(animation.name);\r\n                for (var j = 0; j < animation.frames.length; j++) {\r\n                    var frame = animation.frames[j];\r\n                    animatedSpriteType.addAnimationFrame(animation.name, frame.index, frame.duration);\r\n                }\r\n            }\r\n            callback(animatedSpriteType);\r\n        });\r\n    }\r\n}","export abstract class GameLoopTemplate {\r\n    // ALL INSTANCE VARIABLES WILL BE INITIALIZED VIA THE CONSTRUCTOR\r\n    private fps: number;\r\n    private simulationTimestep: number;\r\n    private frameDelta: number;\r\n    private lastFrameTimeMs: number;\r\n    private fpsAlpha: number;\r\n    private fpsUpdateInterval: number;\r\n    private lastFpsUpdate: number;\r\n    private framesSinceLastFpsUpdate: number;\r\n    private numUpdateSteps: number;\r\n    private minFrameDelay: number;\r\n    private running: boolean;\r\n    private started: boolean;\r\n    private panic: boolean;\r\n    private raf: number;\r\n\r\n    constructor() {\r\n        // An exponential moving average of the frames per second.\r\n        this.fps = 60;\r\n\r\n        // The amount of time (in milliseconds) to simulate each time update() runs.\r\n        // See `MainLoop.setSimulationTimestep()` for details.\r\n        this.simulationTimestep = 1000 / this.fps;\r\n\r\n        // The cumulative amount of in-app time that hasn't been simulated yet.\r\n        // See the comments inside animate() for details.\r\n        this.frameDelta = 0;\r\n\r\n        // The timestamp in milliseconds of the last time the main loop was run.\r\n        // Used to compute the time elapsed between frames.\r\n        this.lastFrameTimeMs = 0;\r\n\r\n        // A factor that affects how heavily to weight more recent seconds'\r\n        // performance when calculating the average frames per second. Valid values\r\n        // range from zero to one inclusive. Higher values result in weighting more\r\n        // recent seconds more heavily.\r\n        this.fpsAlpha = 0.9;\r\n\r\n        // The minimum duration between updates to the frames-per-second estimate.\r\n        // Higher values increase accuracy, but result in slower updates.\r\n        this.fpsUpdateInterval = 1000;\r\n\r\n        // The timestamp (in milliseconds) of the last time the `fps` moving\r\n        // average was updated.\r\n        this.lastFpsUpdate = 0;\r\n\r\n        // The number of frames delivered since the last time the `fps` moving\r\n        // average was updated (i.e. since `lastFpsUpdate`).\r\n        this.framesSinceLastFpsUpdate = 0;\r\n\r\n        // The number of times update() is called in a given frame. This is only\r\n        // relevant inside of animate(), but a reference is held externally so that\r\n        // this variable is not marked for garbage collection every time the main\r\n        // loop runs.\r\n        this.numUpdateSteps = 0;\r\n\r\n        // The minimum amount of time in milliseconds that must pass since the last\r\n        // frame was executed before another frame can be executed. The\r\n        // multiplicative inverse caps the FPS (the default of zero means there is\r\n        // no cap).\r\n        this.minFrameDelay = 0;\r\n\r\n        // Whether the main loop is running.\r\n        this.running = false;\r\n\r\n        // `true` if `MainLoop.start()` has been called and the most recent time it\r\n        // was called has not been followed by a call to `MainLoop.stop()`. This is\r\n        // different than `running` because there is a delay of a few milliseconds\r\n        // after `MainLoop.start()` is called before the application is considered\r\n        // \"running.\" This delay is due to waiting for the next frame.\r\n        this.started = false;\r\n\r\n        // Whether the simulation has fallen too far behind real time.\r\n        // Specifically, `panic` will be set to `true` if too many updates occur in\r\n        // one frame. This is only relevant inside of animate(), but a reference is\r\n        // held externally so that this variable is not marked for garbage\r\n        // collection every time the main loop runs.\r\n        this.panic = false;\r\n    }\r\n\r\n    /**\r\n     * Gets how many milliseconds should be simulated by every run of update().\r\n     *\r\n     * See `MainLoop.setSimulationTimestep()` for details on this value.\r\n     *\r\n     * @return {Number}\r\n     *   The number of milliseconds that should be simulated by every run of\r\n     *   {@link #setUpdate update}().\r\n     */\r\n    getSimulationTimestep(): number {\r\n        return this.simulationTimestep;\r\n    }\r\n\r\n    /**\r\n     * Sets how many milliseconds should be simulated by every run of update().\r\n     *\r\n     * The perceived frames per second (FPS) is effectively capped at the\r\n     * multiplicative inverse of the simulation timestep. That is, if the\r\n     * timestep is 1000 / 60 (which is the default), then the maximum perceived\r\n     * FPS is effectively 60. Decreasing the timestep increases the maximum\r\n     * perceived FPS at the cost of running {@link #setUpdate update}() more\r\n     * times per frame at lower frame rates. Since running update() more times\r\n     * takes more time to process, this can actually slow down the frame rate.\r\n     * Additionally, if the amount of time it takes to run update() exceeds or\r\n     * very nearly exceeds the timestep, the application will freeze and crash\r\n     * in a spiral of death (unless it is rescued; see `MainLoop.setEnd()` for\r\n     * an explanation of what can be done if a spiral of death is occurring).\r\n     *\r\n     * The exception to this is that interpolating between updates for each\r\n     * render can increase the perceived frame rate and reduce visual\r\n     * stuttering. See `MainLoop.setDraw()` for an explanation of how to do\r\n     * this.\r\n     *\r\n     * If you are considering decreasing the simulation timestep in order to\r\n     * raise the maximum perceived FPS, keep in mind that most monitors can't\r\n     * display more than 60 FPS. Whether humans can tell the difference among\r\n     * high frame rates depends on the application, but for reference, film is\r\n     * usually displayed at 24 FPS, other videos at 30 FPS, most games are\r\n     * acceptable above 30 FPS, and virtual reality might require 75 FPS to\r\n     * feel natural. Some gaming monitors go up to 144 FPS. Setting the\r\n     * timestep below 1000 / 144 is discouraged and below 1000 / 240 is\r\n     * strongly discouraged. The default of 1000 / 60 is good in most cases.\r\n     *\r\n     * The simulation timestep should typically only be changed at\r\n     * deterministic times (e.g. before the main loop starts for the first\r\n     * time, and not in response to user input or slow frame rates) to avoid\r\n     * introducing non-deterministic behavior. The update timestep should be\r\n     * the same for all players/users in multiplayer/multi-user applications.\r\n     *\r\n     * See also `MainLoop.getSimulationTimestep()`.\r\n     *\r\n     * @param {Number} timestep\r\n     *   The number of milliseconds that should be simulated by every run of\r\n     *   {@link #setUpdate update}().\r\n     */\r\n    setSimulationTimestep(timestep: number): void {\r\n        this.simulationTimestep = timestep;\r\n    }\r\n\r\n    /**\r\n     * Returns the exponential moving average of the frames per second.\r\n     *\r\n     * @return {Number}\r\n     *   The exponential moving average of the frames per second.\r\n     */\r\n    getFPS(): number {\r\n        return this.fps;\r\n    }\r\n\r\n    /**\r\n     * Gets the maximum frame rate.\r\n     *\r\n     * Other factors also limit the FPS; see `MainLoop.setSimulationTimestep`\r\n     * for details.\r\n     *\r\n     * See also `MainLoop.setMaxAllowedFPS()`.\r\n     *\r\n     * @return {Number}\r\n     *   The maximum number of frames per second allowed.\r\n     */\r\n    getMaxAllowedFPS(): number {\r\n        return 1000 / this.minFrameDelay;\r\n    }\r\n\r\n    /**\r\n     * Sets a maximum frame rate.\r\n     *\r\n     * See also `MainLoop.getMaxAllowedFPS()`.\r\n     *\r\n     * @param {Number} [fps=Infinity]\r\n     *   The maximum number of frames per second to execute. If Infinity or not\r\n     *   passed, there will be no FPS cap (although other factors do limit the\r\n     *   FPS; see `MainLoop.setSimulationTimestep` for details). If zero, this\r\n     *   will stop the loop, and when the loop is next started, it will return\r\n     *   to the previous maximum frame rate. Passing negative values will stall\r\n     *   the loop until this function is called again with a positive value.\r\n     *\r\n     * @chainable\r\n     */\r\n    setMaxAllowedFPS(fps: number): void {\r\n        if (typeof fps === 'undefined') {\r\n            fps = Infinity;\r\n        }\r\n        if (fps === 0) {\r\n            this.stop();\r\n        }\r\n        else {\r\n            // Dividing by Infinity returns zero.\r\n            this.minFrameDelay = 1000 / fps;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset the amount of time that has not yet been simulated to zero.\r\n     *\r\n     * This introduces non-deterministic behavior if called after the\r\n     * application has started running (unless it is being reset, in which case\r\n     * it doesn't matter). However, this can be useful in cases where the\r\n     * amount of time that has not yet been simulated has grown very large\r\n     * (for example, when the application's tab gets put in the background and\r\n     * the browser throttles the timers as a result). In applications with\r\n     * lockstep the player would get dropped, but in other networked\r\n     * applications it may be necessary to snap or ease the player/user to the\r\n     * authoritative state and discard pending updates in the process. In\r\n     * non-networked applications it may also be acceptable to simply resume\r\n     * the application where it last left off and ignore the accumulated\r\n     * unsimulated time.\r\n     *\r\n     * @return {Number}\r\n     *   The cumulative amount of elapsed time in milliseconds that has not yet\r\n     *   been simulated, but is being discarded as a result of calling this\r\n     *   function.\r\n     */\r\n    resetFrameDelta() : number {\r\n        var oldFrameDelta = this.frameDelta;\r\n        this.frameDelta = 0;\r\n        return oldFrameDelta;\r\n    }\r\n\r\n    /**\r\n     * Starts the main loop.\r\n     *\r\n     * Note that the application is not considered \"running\" immediately after\r\n     * this function returns; rather, it is considered \"running\" after the\r\n     * application draws its first frame. The distinction is that event\r\n     * handlers should remain paused until the application is running, even\r\n     * after `MainLoop.start()` is called. Check `MainLoop.isRunning()` for the\r\n     * current status. To act after the application starts, register a callback\r\n     * with requestAnimationFrame() after calling this function and execute the\r\n     * action in that callback. It is safe to call `MainLoop.start()` multiple\r\n     * times even before the application starts running and without calling\r\n     * `MainLoop.stop()` in between, although there is no reason to do this;\r\n     * the main loop will only start if it is not already started.\r\n     *\r\n     * See also `MainLoop.stop()`.\r\n     */\r\n    start(): void {\r\n        if (!this.started) {\r\n            // Since the application doesn't start running immediately, track\r\n            // whether this function was called and use that to keep it from\r\n            // starting the main loop multiple times.\r\n            this.started = true;\r\n\r\n            // In the main loop, draw() is called after update(), so if we\r\n            // entered the main loop immediately, we would never render the\r\n            // initial state before any updates occur. Instead, we run one\r\n            // frame where all we do is draw, and then start the main loop with\r\n            // the next frame.\r\n            this.raf = requestAnimationFrame(this.startLoop.bind(this));\r\n        }\r\n    }\r\n\r\n    startLoop(timestamp : number): void {\r\n        // Render the initial state before any updates occur.\r\n        this.draw(1);\r\n\r\n        // The application isn't considered \"running\" until the\r\n        // application starts drawing.\r\n        this.running = true;\r\n\r\n        // Reset variables that are used for tracking time so that we\r\n        // don't simulate time passed while the application was paused.\r\n        this.lastFrameTimeMs = timestamp;\r\n        this.lastFpsUpdate = timestamp;\r\n        this.framesSinceLastFpsUpdate = 0;\r\n\r\n        // Start the main loop.\r\n        this.raf = window.requestAnimationFrame(this.animate.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Returns whether the main loop is currently running.\r\n     *\r\n     * See also `MainLoop.start()` and `MainLoop.stop()`.\r\n     *\r\n     * @return {Boolean}\r\n     *   Whether the main loop is currently running.\r\n     */\r\n    isRunning(): boolean {\r\n        return this.running;\r\n    }\r\n\r\n    /**\r\n     * Stops the main loop.\r\n     *\r\n     * Event handling and other background tasks should also be paused when the\r\n     * main loop is paused.\r\n     *\r\n     * Note that pausing in multiplayer/multi-user applications will cause the\r\n     * player's/user's client to become out of sync. In this case the\r\n     * simulation should exit, or the player/user needs to be snapped to their\r\n     * updated position when the main loop is started again.\r\n     *\r\n     * See also `MainLoop.start()` and `MainLoop.isRunning()`.\r\n     */\r\n    stop(): void {\r\n        this.running = false;\r\n        this.started = false;\r\n        window.cancelAnimationFrame(this.raf);\r\n    }\r\n\r\n    /**\r\n     * The main loop that runs updates and rendering.\r\n     * \r\n     * @param {DOMHighResTimeStamp} timestamp\r\n     * The current timestamp. In practice this is supplied by\r\n     * requestAnimationFrame at the time that it starts to fire callbacks. This\r\n     * should only be used for comparison to other timestamps because the epoch\r\n     * (i.e. the \"zero\" time) depends on the engine running this code. In engines\r\n     * that support `DOMHighResTimeStamp` (all modern browsers except iOS Safari\r\n     * 8) the epoch is the time the page started loading, specifically\r\n     * `performance.timing.navigationStart`. Everywhere else, including node.js,\r\n     * the epoch is the Unix epoch (1970-01-01T00:00:00Z).\r\n     * \r\n     * @ignore\r\n     */\r\n    animate(timestamp : number): void {\r\n        // Run the loop again the next time the browser is ready to render.\r\n        // We set rafHandle immediately so that the next frame can be canceled\r\n        // during the current frame.\r\n        this.raf = window.requestAnimationFrame(this.animate.bind(this));\r\n\r\n        // Throttle the frame rate (if minFrameDelay is set to a non-zero value by\r\n        // `MainLoop.setMaxAllowedFPS()`).\r\n        if (timestamp < this.lastFrameTimeMs + this.minFrameDelay) {\r\n            return;\r\n        }\r\n\r\n        // frameDelta is the cumulative amount of in-app time that hasn't been\r\n        // simulated yet. Add the time since the last frame. We need to track total\r\n        // not-yet-simulated time (as opposed to just the time elapsed since the\r\n        // last frame) because not all actually elapsed time is guaranteed to be\r\n        // simulated each frame. See the comments below for details.\r\n        this.frameDelta += timestamp - this.lastFrameTimeMs;\r\n        this.lastFrameTimeMs = timestamp;\r\n\r\n        // Run any updates that are not dependent on time in the simulation. See\r\n        // `MainLoop.setBegin()` for additional details on how to use this.\r\n        this.begin(timestamp, this.frameDelta);\r\n\r\n        // Update the estimate of the frame rate, `fps`. Approximately every\r\n        // second, the number of frames that occurred in that second are included\r\n        // in an exponential moving average of all frames per second. This means\r\n        // that more recent seconds affect the estimated frame rate more than older\r\n        // seconds.\r\n        if (timestamp > this.lastFpsUpdate + this.fpsUpdateInterval) {\r\n            // Compute the new exponential moving average.\r\n            this.fps =\r\n                // Divide the number of frames since the last FPS update by the\r\n                // amount of time that has passed to get the mean frames per second\r\n                // over that period. This is necessary because slightly more than a\r\n                // second has likely passed since the last update.\r\n                this.fpsAlpha * this.framesSinceLastFpsUpdate * 1000 / (timestamp - this.lastFpsUpdate) +\r\n                (1 - this.fpsAlpha) * this.fps;\r\n\r\n            // Reset the frame counter and last-updated timestamp since their\r\n            // latest values have now been incorporated into the FPS estimate.\r\n            this.lastFpsUpdate = timestamp;\r\n            this.framesSinceLastFpsUpdate = 0;\r\n        }\r\n        // Count the current frame in the next frames-per-second update. This\r\n        // happens after the previous section because the previous section\r\n        // calculates the frames that occur up until `timestamp`, and `timestamp`\r\n        // refers to a time just before the current frame was delivered.\r\n        this.framesSinceLastFpsUpdate++;\r\n\r\n        /*\r\n         * A naive way to move an object along its X-axis might be to write a main\r\n         * loop containing the statement `obj.x += 10;` which would move the object\r\n         * 10 units per frame. This approach suffers from the issue that it is\r\n         * dependent on the frame rate. In other words, if your application is\r\n         * running slowly (that is, fewer frames per second), your object will also\r\n         * appear to move slowly, whereas if your application is running quickly\r\n         * (that is, more frames per second), your object will appear to move\r\n         * quickly. This is undesirable, especially in multiplayer/multi-user\r\n         * applications.\r\n         *\r\n         * One solution is to multiply the speed by the amount of time that has\r\n         * passed between rendering frames. For example, if you want your object to\r\n         * move 600 units per second, you might write `obj.x += 600 * delta`, where\r\n         * `delta` is the time passed since the last frame. (For convenience, let's\r\n         * move this statement to an update() function that takes `delta` as a\r\n         * parameter.) This way, your object will move a constant distance over\r\n         * time. However, at low frame rates and high speeds, your object will move\r\n         * large distances every frame, which can cause it to do strange things\r\n         * such as move through walls. Additionally, we would like our program to\r\n         * be deterministic. That is, every time we run the application with the\r\n         * same input, we would like exactly the same output. If the time between\r\n         * frames (the `delta`) varies, our output will diverge the longer the\r\n         * program runs due to accumulated rounding errors, even at normal frame\r\n         * rates.\r\n         *\r\n         * A better solution is to separate the amount of time simulated in each\r\n         * update() from the amount of time between frames. Our update() function\r\n         * doesn't need to change; we just need to change the delta we pass to it\r\n         * so that each update() simulates a fixed amount of time (that is, `delta`\r\n         * should have the same value each time update() is called). The update()\r\n         * function can be run multiple times per frame if needed to simulate the\r\n         * total amount of time passed since the last frame. (If the time that has\r\n         * passed since the last frame is less than the fixed simulation time, we\r\n         * just won't run an update() until the the next frame. If there is\r\n         * unsimulated time left over that is less than our timestep, we'll just\r\n         * leave it to be simulated during the next frame.) This approach avoids\r\n         * inconsistent rounding errors and ensures that there are no giant leaps\r\n         * through walls between frames.\r\n         *\r\n         * That is what is done below. It introduces a new problem, but it is a\r\n         * manageable one: if the amount of time spent simulating is consistently\r\n         * longer than the amount of time between frames, the application could\r\n         * freeze and crash in a spiral of death. This won't happen as long as the\r\n         * fixed simulation time is set to a value that is high enough that\r\n         * update() calls usually take less time than the amount of time they're\r\n         * simulating. If it does start to happen anyway, see `MainLoop.setEnd()`\r\n         * for a discussion of ways to stop it.\r\n         *\r\n         * Additionally, see `MainLoop.setUpdate()` for a discussion of performance\r\n         * considerations.\r\n         *\r\n         * Further reading for those interested:\r\n         *\r\n         * - http://gameprogrammingpatterns.com/game-loop.html\r\n         * - http://gafferongames.com/game-physics/fix-your-timestep/\r\n         * - https://gamealchemist.wordpress.com/2013/03/16/thoughts-on-the-javascript-game-loop/\r\n         * - https://developer.mozilla.org/en-US/docs/Games/Anatomy\r\n         */\r\n        this.numUpdateSteps = 0;\r\n        while (this.frameDelta >= this.simulationTimestep) {\r\n            this.update(this.simulationTimestep);\r\n            this.frameDelta -= this.simulationTimestep;\r\n\r\n            /*\r\n             * Sanity check: bail if we run the loop too many times.\r\n             *\r\n             * One way this could happen is if update() takes longer to run than\r\n             * the time it simulates, thereby causing a spiral of death. For ways\r\n             * to avoid this, see `MainLoop.setEnd()`. Another way this could\r\n             * happen is if the browser throttles serving frames, which typically\r\n             * occurs when the tab is in the background or the device battery is\r\n             * low. An event outside of the main loop such as audio processing or\r\n             * synchronous resource reads could also cause the application to hang\r\n             * temporarily and accumulate not-yet-simulated time as a result.\r\n             *\r\n             * 240 is chosen because, for any sane value of simulationTimestep, 240\r\n             * updates will simulate at least one second, and it will simulate four\r\n             * seconds with the default value of simulationTimestep. (Safari\r\n             * notifies users that the script is taking too long to run if it takes\r\n             * more than five seconds.)\r\n             *\r\n             * If there are more updates to run in a frame than this, the\r\n             * application will appear to slow down to the user until it catches\r\n             * back up. In networked applications this will usually cause the user\r\n             * to get out of sync with their peers, but if the updates are taking\r\n             * this long already, they're probably already out of sync.\r\n             */\r\n            if (++this.numUpdateSteps >= 240) {\r\n                this.panic = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        /*\r\n         * Render the screen. We do this regardless of whether update() has run\r\n         * during this frame because it is possible to interpolate between updates\r\n         * to make the frame rate appear faster than updates are actually\r\n         * happening. See `MainLoop.setDraw()` for an explanation of how to do\r\n         * that.\r\n         *\r\n         * We draw after updating because we want the screen to reflect a state of\r\n         * the application that is as up-to-date as possible. (`MainLoop.start()`\r\n         * draws the very first frame in the application's initial state, before\r\n         * any updates have occurred.) Some sources speculate that rendering\r\n         * earlier in the requestAnimationFrame callback can get the screen painted\r\n         * faster; this is mostly not true, and even when it is, it's usually just\r\n         * a trade-off between rendering the current frame sooner and rendering the\r\n         * next frame later.\r\n         *\r\n         * See `MainLoop.setDraw()` for details about draw() itself.\r\n         */\r\n        this.draw(this.frameDelta / this.simulationTimestep);\r\n\r\n        // Run any updates that are not dependent on time in the simulation. See\r\n        // `MainLoop.setEnd()` for additional details on how to use this.\r\n        this.end(this.fps, this.panic);\r\n\r\n        this.panic = false;\r\n    }\r\n\r\n    // SUBCLASSES MUST OVERRIDE FOUR REQUIRED METHODS:\r\n        // begin\r\n        // update\r\n        // draw\r\n        // end\r\n\r\n    /**\r\n     * A function that runs at the beginning of the main loop.\r\n     *\r\n     * The begin() function is typically used to process input before the\r\n     * updates run. Processing input here (in chunks) can reduce the running\r\n     * time of event handlers, which is useful because long-running event\r\n     * handlers can sometimes delay frames.\r\n     *\r\n     * Unlike {@link #setUpdate update}(), which can run zero or more times per\r\n     * frame, begin() always runs exactly once per frame. This makes it useful\r\n     * for any updates that are not dependent on time in the simulation.\r\n     * Examples include adjusting HUD calculations or performing long-running\r\n     * updates incrementally. Compared to {@link #setEnd end}(), generally\r\n     * actions should occur in begin() if they affect anything that\r\n     * {@link #setUpdate update}() or {@link #setDraw draw}() use.\r\n     *\r\n     * @param {Function} begin\r\n     *   The begin() function.\r\n     * @param {Number} [begin.timestamp]\r\n     *   The current timestamp (when the frame started), in milliseconds. This\r\n     *   should only be used for comparison to other timestamps because the\r\n     *   epoch (i.e. the \"zero\" time) depends on the engine running this code.\r\n     *   In engines that support `DOMHighResTimeStamp` (all modern browsers\r\n     *   except iOS Safari 8) the epoch is the time the page started loading,\r\n     *   specifically `performance.timing.navigationStart`. Everywhere else,\r\n     *   including node.js, the epoch is the Unix epoch (1970-01-01T00:00:00Z).\r\n     * @param {Number} [begin.delta]\r\n     *   The total elapsed time that has not yet been simulated, in\r\n     *   milliseconds.\r\n     */\r\n    abstract begin(timestamp : number, delta : number) : void;\r\n\r\n    /**\r\n     * A function that runs updates (i.e. AI and physics).\r\n     *\r\n     * The update() function should simulate anything that is affected by time.\r\n     * It can be called zero or more times per frame depending on the frame\r\n     * rate.\r\n     *\r\n     * As with everything in the main loop, the running time of update()\r\n     * directly affects the frame rate. If update() takes long enough that the\r\n     * frame rate drops below the target (\"budgeted\") frame rate, parts of the\r\n     * update() function that do not need to execute between every frame can be\r\n     * moved into Web Workers. (Various sources on the internet sometimes\r\n     * suggest other scheduling patterns using setTimeout() or setInterval().\r\n     * These approaches sometimes offer modest improvements with minimal\r\n     * changes to existing code, but because JavaScript is single-threaded, the\r\n     * updates will still block rendering and drag down the frame rate. Web\r\n     * Workers execute in separate threads, so they free up more time in the\r\n     * main loop.)\r\n     *\r\n     * This script can be imported into a Web Worker using importScripts() and\r\n     * used to run a second main loop in the worker. Some considerations:\r\n     *\r\n     * - Profile your code before doing the work to move it into Web Workers.\r\n     *   It could be the rendering that is the bottleneck, in which case the\r\n     *   solution is to decrease the visual complexity of the scene.\r\n     * - It doesn't make sense to move the *entire* contents of update() into\r\n     *   workers unless {@link #setDraw draw}() can interpolate between frames.\r\n     *   The lowest-hanging fruit is background updates (like calculating\r\n     *   citizens' happiness in a city-building game), physics that doesn't\r\n     *   affect the scene (like flags waving in the wind), and anything that is\r\n     *   occluded or happening far off screen.\r\n     * - If draw() needs to interpolate physics based on activity that occurs\r\n     *   in a worker, the worker needs to pass the interpolation value back to\r\n     *   the main thread so that is is available to draw().\r\n     * - Web Workers can't access the state of the main thread, so they can't\r\n     *   directly modify objects in your scene. Moving data to and from Web\r\n     *   Workers is a pain. The fastest way to do it is with Transferable\r\n     *   Objects: basically, you can pass an ArrayBuffer to a worker,\r\n     *   destroying the original reference in the process.\r\n     *\r\n     * You can read more about Web Workers and Transferable Objects at\r\n     * [HTML5 Rocks](http://www.html5rocks.com/en/tutorials/workers/basics/).\r\n     *\r\n     * @param {Function} update\r\n     *   The update() function.\r\n     * @param {Number} [update.delta]\r\n     *   The amount of time in milliseconds to simulate in the update. In most\r\n     *   cases this timestep never changes in order to ensure deterministic\r\n     *   updates. The timestep is the same as that returned by\r\n     *   `MainLoop.getSimulationTimestep()`.\r\n     */\r\n    abstract update(timeStep : number) : void;\r\n\r\n    /**\r\n     * A function that draws things on the screen.\r\n     *\r\n     * The draw() function gets passed the percent of time that the next run of\r\n     * {@link #setUpdate update}() will simulate that has actually elapsed, as\r\n     * a decimal. In other words, draw() gets passed how far between update()\r\n     * calls it is. This is useful because the time simulated by update() and\r\n     * the time between draw() calls is usually different, so the parameter to\r\n     * draw() can be used to interpolate motion between frames to make\r\n     * rendering appear smoother. To illustrate, if update() advances the\r\n     * simulation at each vertical bar in the first row below, and draw() calls\r\n     * happen at each vertical bar in the second row below, then some frames\r\n     * will have time left over that is not yet simulated by update() when\r\n     * rendering occurs in draw():\r\n     *\r\n     *     update() timesteps:  |  |  |  |  |  |  |  |  |\r\n     *     draw() calls:        |   |   |   |   |   |   |\r\n     *\r\n     * To interpolate motion for rendering purposes, objects' state after the\r\n     * last update() must be retained and used to calculate an intermediate\r\n     * state. Note that this means renders will be up to one update() behind.\r\n     * This is still better than extrapolating (projecting objects' state after\r\n     * a future update()) which can produce bizarre results. Storing multiple\r\n     * states can be difficult to set up, and keep in mind that running this\r\n     * process takes time that could push the frame rate down, so it's often\r\n     * not worthwhile unless stuttering is visible.\r\n     *\r\n     * @param {Function} draw\r\n     *   The draw() function.\r\n     * @param {Number} [draw.interpolationPercentage]\r\n     *   The cumulative amount of time that hasn't been simulated yet, divided\r\n     *   by the amount of time that will be simulated the next time update()\r\n     *   runs. Useful for interpolating frames.\r\n     */\r\n    public abstract draw(interpolationPercentage : number) : void;\r\n\r\n    /**\r\n     * A function that runs at the end of the main loop.\r\n     *\r\n     * Unlike {@link #setUpdate update}(), which can run zero or more times per\r\n     * frame, end() always runs exactly once per frame. This makes it useful\r\n     * for any updates that are not dependent on time in the simulation.\r\n     * Examples include cleaning up any temporary state set up by\r\n     * {@link #setBegin begin}(), lowering the visual quality if the frame rate\r\n     * is too low, or performing long-running updates incrementally. Compared\r\n     * to begin(), generally actions should occur in end() if they use anything\r\n     * that update() or {@link #setDraw draw}() affect.\r\n     *\r\n     * @param {Function} end\r\n     *   The end() function.\r\n     * @param {Number} [end.fps]\r\n     *   The exponential moving average of the frames per second. This is the\r\n     *   same value returned by `MainLoop.getFPS()`. It can be used to take\r\n     *   action when the FPS is too low (or to restore to normalcy if the FPS\r\n     *   moves back up). Examples of actions to take if the FPS is too low\r\n     *   include exiting the application, lowering the visual quality, stopping\r\n     *   or reducing activities outside of the main loop like event handlers or\r\n     *   audio playback, performing non-critical updates less frequently, or\r\n     *   increasing the simulation timestep (by calling\r\n     *   `MainLoop.setSimulationTimestep()`). Note that this last option\r\n     *   results in more time being simulated per update() call, which causes\r\n     *   the application to behave non-deterministically.\r\n     * @param {Boolean} [end.panic=false]\r\n     *   Indicates whether the simulation has fallen too far behind real time.\r\n     *   Specifically, `panic` will be `true` if too many updates occurred in\r\n     *   one frame. In networked lockstep applications, the application should\r\n     *   wait for some amount of time to see if the user can catch up before\r\n     *   dropping the user. In networked but non-lockstep applications, this\r\n     *   typically indicates that the user needs to be snapped or eased to the\r\n     *   current authoritative state. When this happens, it may be convenient\r\n     *   to call `MainLoop.resetFrameDelta()` to discard accumulated pending\r\n     *   updates. In non-networked applications, it may be acceptable to allow\r\n     *   the application to keep running for awhile to see if it will catch up.\r\n     *   However, this could also cause the application to look like it is\r\n     *   running very quickly for a few frames as it transitions through the\r\n     *   intermediate states. An alternative that may be acceptable is to\r\n     *   simply ignore the unsimulated elapsed time by calling\r\n     *   `MainLoop.resetFrameDelta()` even though this introduces\r\n     *   non-deterministic behavior. In all cases, if the application panics\r\n     *   frequently, this is an indication that the main loop is running too\r\n     *   slowly. However, most of the time the drop in frame rate will probably\r\n     *   be noticeable before a panic occurs. To help the application catch up\r\n     *   after a panic caused by a spiral of death, the same steps can be taken\r\n     *   that are suggested above if the FPS drops too low.\r\n     */\r\n    abstract end(fps : number, panic : boolean) : void;\r\n}","/*\r\n * MathUtilities provides a number of services for rendering using 4x4 matrices, like\r\n * transformting (i.e. translation, rotation, and scaling) 3d or 2d points from world\r\n * coordinate systems to screen coordinate systems.\r\n */\r\nimport {Matrix} from './Matrix'\r\nimport {Vector3} from './Vector3'\r\n\r\nexport namespace MathUtilities {\r\n    export function determinant4x4(result : Matrix) : number {\r\n        let det0 = result.get(0, 0) * (\r\n            (result.get(1, 1) * ((result.get(2, 2) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 2))))\r\n            - (result.get(1, 2) * ((result.get(2, 1) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 1))))\r\n            + (result.get(1, 3) * ((result.get(2, 1) * result.get(3, 2)) - (result.get(3, 1) * result.get(2, 2)))));\r\n        let det1 = result.get(0, 1) * (\r\n            (result.get(1, 0) * ((result.get(2, 2) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 2))))\r\n            - (result.get(1, 2) * ((result.get(2, 0) * result.get(3, 3)) - (result.get(3, 0) * result.get(2, 3))))\r\n            + (result.get(1, 3) * ((result.get(2, 0) * result.get(3, 2)) - (result.get(3, 0) * result.get(2, 2)))));\r\n        let det2 = result.get(0, 2) * (\r\n            (result.get(1, 0) * ((result.get(2, 1) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 1))))\r\n            - (result.get(1, 1) * ((result.get(2, 0) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 0))))\r\n            + (result.get(1, 3) * ((result.get(2, 0) * result.get(3, 1)) - (result.get(2, 1) * result.get(3, 0)))));\r\n        let det3 = result.get(0, 3) * (\r\n            (result.get(1, 0) * ((result.get(2, 1) * result.get(3, 2)) - (result.get(2, 2) * result.get(3, 1))))\r\n            - (result.get(1, 1) * ((result.get(2, 0) * result.get(3, 2)) - (result.get(2, 2) * result.get(3, 0))))\r\n            + (result.get(1, 2) * ((result.get(2, 0) * result.get(3, 1)) - (result.get(2, 1) * result.get(3, 0)))));\r\n        let det = det0 - det1 + det2 - det3;\r\n        console.log(\"det = \" + det0 + \" + \" + det1 + \" + \" + det2 + \" + \" + det3);\r\n        return det;\r\n    }\r\n    export function identity(result : Matrix) : void {\r\n        if (result.getRows() === result.getColumns()) {\r\n            for (let i = 0; i < result.getRows(); i++) {\r\n                for (let j = 0; j < result.getColumns(); j++) {\r\n                    if (i === j)\r\n                        result.set(1.0, i, j);\r\n                    else\r\n                        result.set(0.0, i, j);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    export function inverse(result : Matrix, mat : Matrix) : void {\r\n        let det = this.determinant(mat);\r\n        let m00 = mat.get(0, 0); let m01 = mat.get(0, 1); let m02 = mat.get(0, 2); let m03 = mat.get(0, 3);\r\n        let m10 = mat.get(1, 0); let m11 = mat.get(1, 1); let m12 = mat.get(1, 2); let m13 = mat.get(1, 3);\r\n        let m20 = mat.get(2, 0); let m21 = mat.get(2, 1); let m22 = mat.get(2, 2); let m23 = mat.get(2, 3);\r\n        let m30 = mat.get(3, 0); let m31 = mat.get(3, 1); let m32 = mat.get(3, 2); let m33 = mat.get(3, 3);\r\n        let temp = new Matrix(4, 4);\r\n        temp.set((m12 * m23 * m31) - (m13 * m22 * m31) + (m13 * m21 * m32) - (m11 * m23 * m32) - (m12 * m21 * m33) + (m11 * m22 * m33), 0, 0);\r\n        temp.set((m03 * m22 * m31) - (m02 * m23 * m31) - (m03 * m21 * m32) + (m01 * m23 * m32) + (m02 * m21 * m33) - (m01 * m22 * m33), 0, 1);\r\n        temp.set((m02 * m13 * m31) - (m03 * m12 * m31) + (m03 * m11 * m32) - (m01 * m13 * m32) - (m02 * m11 * m33) + (m01 * m12 * m33), 0, 2);\r\n        temp.set((m03 * m12 * m21) - (m02 * m13 * m21) - (m03 * m11 * m22) + (m01 * m13 * m22) + (m02 * m11 * m23) - (m01 * m12 * m23), 0, 3);\r\n        temp.set((m13 * m22 * m30) - (m12 * m23 * m30) - (m13 * m20 * m32) + (m10 * m23 * m32) + (m12 * m20 * m33) - (m10 * m22 * m33), 1, 0);\r\n        temp.set((m02 * m23 * m30) - (m03 * m22 * m30) + (m03 * m20 * m32) - (m00 * m23 * m32) - (m02 * m20 * m33) + (m00 * m22 * m33), 1, 1);\r\n        temp.set((m03 * m12 * m30) - (m02 * m13 * m30) - (m03 * m10 * m32) + (m00 * m13 * m32) + (m02 * m10 * m33) - (m00 * m12 * m33), 1, 2);\r\n        temp.set((m02 * m13 * m20) - (m03 * m12 * m20) + (m03 * m10 * m22) - (m00 * m13 * m22) - (m02 * m10 * m23) + (m00 * m12 * m23), 1, 3);\r\n        temp.set((m11 * m23 * m30) - (m13 * m21 * m30) + (m13 * m20 * m31) - (m10 * m23 * m31) - (m11 * m20 * m33) + (m10 * m21 * m33), 2, 0);\r\n        temp.set((m03 * m21 * m30) - (m01 * m23 * m30) - (m03 * m20 * m31) + (m00 * m23 * m31) + (m01 * m20 * m33) - (m00 * m21 * m33), 2, 1);\r\n        temp.set((m01 * m13 * m30) - (m03 * m11 * m30) + (m03 * m10 * m31) - (m00 * m13 * m31) - (m01 * m10 * m33) + (m00 * m11 * m33), 2, 2);\r\n        temp.set((m03 * m11 * m20) - (m01 * m13 * m20) - (m03 * m10 * m21) + (m00 * m13 * m21) + (m01 * m10 * m23) - (m00 * m11 * m23), 2, 3);\r\n        temp.set((m12 * m21 * m30) - (m11 * m22 * m30) - (m12 * m20 * m31) + (m10 * m22 * m31) + (m11 * m20 * m32) - (m10 * m21 * m32), 3, 0);\r\n        temp.set((m01 * m22 * m30) - (m02 * m21 * m30) + (m02 * m20 * m31) - (m00 * m22 * m31) - (m01 * m20 * m32) + (m00 * m21 * m32), 3, 1);\r\n        temp.set((m02 * m11 * m30) - (m01 * m12 * m30) - (m02 * m10 * m31) + (m00 * m12 * m31) + (m01 * m10 * m32) - (m00 * m11 * m32), 3, 2);\r\n        temp.set((m01 * m12 * m20) - (m02 * m11 * m20) + (m02 * m10 * m21) - (m00 * m12 * m21) - (m01 * m10 * m22) + (m00 * m11 * m22), 3, 3);\r\n        for (let i = 0; i < 4; i++) {\r\n            for (let j = 0; j < 4; j++) {\r\n                result.set(temp.get(i, j) / det, i, j);\r\n            }\r\n        }\r\n    }\r\n    export function model(result : Matrix, translation : Vector3, rotation : Vector3, scale : Vector3) : void {\r\n        // TRANSLATION MATRIX\t\r\n        let translationMatrix = new Matrix(4, 4);\r\n        this.identity(translationMatrix);\r\n        this.translate(translationMatrix, translation);\r\n\r\n        // ROTATION MATRIX\r\n        let rotationMatrix = new Matrix(4, 4);\r\n        this.identity(rotationMatrix);\r\n        this.rotate(rotationMatrix, rotation);\r\n\r\n        // SCALING MATRIX\r\n        let scaleMatrix = new Matrix(4, 4);\r\n        this.identity(scaleMatrix);\r\n        this.scale(scaleMatrix, scale);\r\n\r\n        // AND NOW MULTIPLY THEM TOGETHER IN THE CORRECT ORDER\r\n        let tempMatrix = new Matrix(4, 4);\r\n        this.multiply(tempMatrix, translationMatrix, rotationMatrix);\r\n        this.multiply(result, tempMatrix, scaleMatrix);\r\n    }\r\n\r\n    export function multiply(result : Matrix, mat0 : Matrix, mat1 : Matrix) : void {\r\n        // result MIGHT BE mat0 OR mat1 SO IT'S BEST IF WE\r\n        // CALCULATE TEMP VALUES FIRST BEFORE ASSIGNMENT\r\n        let r00 = (mat0.get(0, 0) * mat1.get(0, 0))\r\n            + (mat0.get(0, 1) * mat1.get(1, 0))\r\n            + (mat0.get(0, 2) * mat1.get(2, 0))\r\n            + (mat0.get(0, 3) * mat1.get(3, 0));\r\n        let r10 = (mat0.get(1, 0) * mat1.get(0, 0))\r\n            + (mat0.get(1, 1) * mat1.get(1, 0))\r\n            + (mat0.get(1, 2) * mat1.get(2, 0))\r\n            + (mat0.get(1, 3) * mat1.get(3, 0));\r\n        let r20 = (mat0.get(2, 0) * mat1.get(0, 0))\r\n            + (mat0.get(2, 1) * mat1.get(1, 0))\r\n            + (mat0.get(2, 2) * mat1.get(2, 0))\r\n            + (mat0.get(2, 3) * mat1.get(3, 0));\r\n        let r30 = (mat0.get(3, 0) * mat1.get(0, 0))\r\n            + (mat0.get(3, 1) * mat1.get(1, 0))\r\n            + (mat0.get(3, 2) * mat1.get(2, 0))\r\n            + (mat0.get(3, 3) * mat1.get(3, 0));\r\n        let r01 = (mat0.get(0, 0) * mat1.get(0, 1))\r\n            + (mat0.get(0, 1) * mat1.get(1, 1))\r\n            + (mat0.get(0, 2) * mat1.get(2, 1))\r\n            + (mat0.get(0, 3) * mat1.get(3, 1));\r\n        let r11 = (mat0.get(1, 0) * mat1.get(0, 1))\r\n            + (mat0.get(1, 1) * mat1.get(1, 1))\r\n            + (mat0.get(1, 2) * mat1.get(2, 1))\r\n            + (mat0.get(1, 3) * mat1.get(3, 1));\r\n        let r21 = (mat0.get(2, 0) * mat1.get(0, 1))\r\n            + (mat0.get(2, 1) * mat1.get(1, 1))\r\n            + (mat0.get(2, 2) * mat1.get(2, 1))\r\n            + (mat0.get(2, 3) * mat1.get(3, 1));\r\n        let r31 = (mat0.get(3, 0) * mat1.get(0, 1))\r\n            + (mat0.get(3, 1) * mat1.get(1, 1))\r\n            + (mat0.get(3, 2) * mat1.get(2, 1))\r\n            + (mat0.get(3, 3) * mat1.get(3, 1));\r\n        let r02 = (mat0.get(0, 0) * mat1.get(0, 2))\r\n            + (mat0.get(0, 1) * mat1.get(1, 2))\r\n            + (mat0.get(0, 2) * mat1.get(2, 2))\r\n            + (mat0.get(0, 3) * mat1.get(3, 2));\r\n        let r12 = (mat0.get(1, 0) * mat1.get(0, 2))\r\n            + (mat0.get(1, 1) * mat1.get(1, 2))\r\n            + (mat0.get(1, 2) * mat1.get(2, 2))\r\n            + (mat0.get(1, 3) * mat1.get(3, 2));\r\n        let r22 = (mat0.get(2, 0) * mat1.get(0, 2))\r\n            + (mat0.get(2, 1) * mat1.get(1, 2))\r\n            + (mat0.get(2, 2) * mat1.get(2, 2))\r\n            + (mat0.get(2, 3) * mat1.get(3, 2));\r\n        let r32 = (mat0.get(3, 0) * mat1.get(0, 2))\r\n            + (mat0.get(3, 1) * mat1.get(1, 2))\r\n            + (mat0.get(3, 2) * mat1.get(2, 2))\r\n            + (mat0.get(3, 3) * mat1.get(3, 2));\r\n        let r03 = (mat0.get(0, 0) * mat1.get(0, 3))\r\n            + (mat0.get(0, 1) * mat1.get(1, 3))\r\n            + (mat0.get(0, 2) * mat1.get(2, 3))\r\n            + (mat0.get(0, 3) * mat1.get(3, 3));\r\n        let r13 = (mat0.get(1, 0) * mat1.get(0, 3))\r\n            + (mat0.get(1, 1) * mat1.get(1, 3))\r\n            + (mat0.get(1, 2) * mat1.get(2, 3))\r\n            + (mat0.get(1, 3) * mat1.get(3, 3));\r\n        let r23 = (mat0.get(2, 0) * mat1.get(0, 3))\r\n            + (mat0.get(2, 1) * mat1.get(1, 3))\r\n            + (mat0.get(2, 2) * mat1.get(2, 3))\r\n            + (mat0.get(2, 3) * mat1.get(3, 3));\r\n        let r33 = (mat0.get(3, 0) * mat1.get(0, 3))\r\n            + (mat0.get(3, 1) * mat1.get(1, 3))\r\n            + (mat0.get(3, 2) * mat1.get(2, 3))\r\n            + (mat0.get(3, 3) * mat1.get(3, 3));\r\n\r\n        // NOW PUT ALL THE CALCULATED VALUES IN THE result MATRIX\r\n        result.set(r00, 0, 0);\r\n        result.set(r10, 1, 0);\r\n        result.set(r20, 2, 0);\r\n        result.set(r30, 3, 0);\r\n        result.set(r01, 0, 1);\r\n        result.set(r11, 1, 1);\r\n        result.set(r21, 2, 1);\r\n        result.set(r31, 3, 1);\r\n        result.set(r02, 0, 2);\r\n        result.set(r12, 1, 2);\r\n        result.set(r22, 2, 2);\r\n        result.set(r32, 3, 2);\r\n        result.set(r03, 0, 3);\r\n        result.set(r13, 1, 3);\r\n        result.set(r23, 2, 3);\r\n        result.set(r33, 3, 3);\r\n    }\r\n\r\n    export function projection(result : Matrix, nearZ : number, farZ : number, viewportWidth : number, viewportHeight : number, fovY : number) : void {\r\n        let aspectRatio = viewportWidth / viewportHeight;\r\n        let fieldOfViewY = this.math.degreesToRadians(fovY);\r\n        let fieldOfViewX = 2 * Math.atan(Math.tan(fieldOfViewY / 2) * aspectRatio);\r\n\r\n        // WE'LL USE THESE AS SHORTHAND FOR LOADING OUR MATRIX\r\n        let n = nearZ;\r\n        let f = farZ;\r\n        let r = Math.tan(fieldOfViewX / 2) * n;\r\n        let t = Math.tan(fieldOfViewY / 2) * n;\r\n\r\n        // 0-3\r\n        result.set(n / r, 0, 0);\r\n        result.set(0.0, 0, 1);\r\n        result.set(0.0, 0, 2);\r\n        result.set(0.0, 0, 3);\r\n        // 4-7\r\n        result.set(0.0, 1, 0);\r\n        result.set(n / t, 1, 1);\r\n        result.set(0.0, 1, 2);\r\n        result.set(0.0, 1, 3);\r\n        // 8-11\r\n        result.set(0.0, 2, 0);\r\n        result.set(0.0, 2, 1);\r\n        result.set((-(f + n)) / (f - n), 2, 2);\r\n        result.set((-2 * f * n) / (f - n), 2, 3);\r\n        // 12-15 \r\n        result.set(0.0, 3, 0);\r\n        result.set(0.0, 3, 1);\r\n        result.set(-1.0, 3, 2);\r\n        result.set(0.0, 3, 3);\r\n    }\r\n\r\n    export function rotate(result : Matrix, rotationVector : Vector3) : void {\r\n        // START WITH THE X-AXIS ROTATION\r\n        let xRotationMatrix = new Matrix(4, 4);\r\n        this.identity(xRotationMatrix);\r\n        let thetaX = rotationVector.getThetaX();\r\n        xRotationMatrix.set(Math.cos(thetaX), 1, 1);\r\n        xRotationMatrix.set(Math.sin(thetaX), 2, 1);\r\n        xRotationMatrix.set(-1 * Math.sin(thetaX), 1, 2);\r\n        xRotationMatrix.set(Math.cos(thetaX), 2, 2);\r\n\r\n        // START WITH THE Y-AXIS ROTATION\r\n        let yRotationMatrix = new Matrix(4, 4);\r\n        this.identity(yRotationMatrix);\r\n        let thetaY = rotationVector.getThetaY();\r\n        yRotationMatrix.set(Math.cos(thetaY), 0, 0);\r\n        yRotationMatrix.set(-1 * Math.sin(thetaY), 2, 0);\r\n        yRotationMatrix.set(Math.sin(thetaY), 0, 2);\r\n        yRotationMatrix.set(Math.cos(thetaY), 2, 2);\r\n\r\n        // START WITH THE Z-AXIS ROTATION\r\n        let zRotationMatrix = new Matrix(4, 4);\r\n        this.identity(zRotationMatrix);\r\n        let thetaZ = rotationVector.getThetaZ();\r\n        zRotationMatrix.set(Math.cos(thetaZ), 0, 0);\r\n        zRotationMatrix.set(Math.sin(thetaZ), 1, 0);\r\n        zRotationMatrix.set(-1 * Math.sin(thetaZ), 0, 1);\r\n        zRotationMatrix.set(Math.cos(thetaZ), 1, 1);\r\n\r\n        // START WITH THE X-AXIS ROTATION\r\n        let tempMatrix = new Matrix(4, 4);\r\n        this.identity(tempMatrix);\r\n        this.multiply(tempMatrix, xRotationMatrix, yRotationMatrix);\r\n        this.multiply(result, tempMatrix, zRotationMatrix);\r\n    }\r\n\r\n    export function scale(result : Matrix, scaleVector : Vector3) : void {\r\n        // START WITH THE IDENTITY MATRIX\r\n        this.identity(result, scaleVector);\r\n\r\n        // AND THEN LOAD IN THE TRANSLATION VALUES\r\n        result.set(scaleVector.getX(), 0, 0);\r\n        result.set(scaleVector.getY(), 1, 1);\r\n        result.set(scaleVector.getZ(), 2, 2);\r\n    }\r\n\r\n    export function transform(result : Vector3, mat : Matrix, vec : Vector3) : void {\r\n        result.setX((mat.get(0, 0) * vec.getX()) + (mat.get(0, 1) * vec.getY()) + (mat.get(0, 2) * vec.getZ()) + (mat.get(0, 3) * vec.getW()));\r\n        result.setY((mat.get(1, 0) * vec.getX()) + (mat.get(1, 1) * vec.getY()) + (mat.get(1, 2) * vec.getZ()) + (mat.get(1, 3) * vec.getW()));\r\n        result.setZ((mat.get(2, 0) * vec.getX()) + (mat.get(2, 1) * vec.getY()) + (mat.get(2, 2) * vec.getZ()) + (mat.get(2, 3) * vec.getW()));\r\n        result.setW((mat.get(3, 0) * vec.getX()) + (mat.get(3, 1) * vec.getY()) + (mat.get(3, 2) * vec.getZ()) + (mat.get(3, 3) * vec.getW()));\r\n    }\r\n\r\n    export function translate(result : Matrix, translationVector : Vector3) : void {\r\n        // START WITH THE IDENTITY MATRIX\r\n        this.identity(result);\r\n\r\n        // AND THEN LOAD IN THE TRANSLATION VALUES\r\n        result.set(translationVector.getX(), 0, 3);\r\n        result.set(translationVector.getY(), 1, 3);\r\n        result.set(translationVector.getZ(), 2, 3);\r\n    }\r\n\r\n    export function transpose(result : Matrix, mat : Matrix) : void {\r\n        for (let i = 0; i < 4; i++) {\r\n            for (let j = 0; j < 4; j++) {\r\n                let temp = mat.get(i, j);\r\n                result.set(temp, j, i);\r\n            }\r\n        }\r\n    }\r\n\r\n    export function view(result : Matrix, cameraPosition : Vector3, cameraOrientation : Vector3) : void {\r\n        let pitch = this.math.degreesToRadians(cameraOrientation.getThetaX());\r\n        let yaw = this.math.degreesToRadians(cameraOrientation.getThetaY());\r\n        let roll = this.math.degreesToRadians(cameraOrientation.getThetaZ());\r\n\r\n        // TO TRANSLATE\r\n        let translateVector = this.math.vectorMath.createPositionVector();\r\n        translateVector.set(-cameraPosition.getX(), -cameraPosition.getY(), -cameraPosition.getZ());\r\n        let translateMatrix = new Matrix(4, 4);\r\n        this.identity(translateMatrix);\r\n        this.translate(translateMatrix, translateVector);\r\n\r\n        // TO ROTATE\r\n        let rotateVector = this.math.vectorMath.createRotationVector();\r\n        rotateVector.set(-pitch, -yaw, -roll);\r\n        let rotateMatrix = new Matrix(4, 4);\r\n        this.rotate(rotateMatrix, rotateVector);\r\n\r\n        // NOW COMBINE THE 2 MATRICES\r\n        this.multiply(result, rotateMatrix, translateMatrix);\r\n    }\r\n\r\n    export function addVectors(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\r\n        for (let i = 0; i < vec0.getSize(); i++) {\r\n            let total = vec0.getAt(i) + vec1.getAt(i);\r\n            result.setAt(i, total);\r\n        }\r\n    }\r\n\r\n    export function crossProduct(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\r\n        let result0 = (vec0.getY() * vec1.getZ())\r\n            - (vec1.getY() * vec0.getZ());\r\n        let result1 = (vec0.getZ() * vec1.getX())\r\n            - (vec1.getZ() * vec0.getX());\r\n        let result2 = (vec0.getX() * vec1.getY())\r\n            - (vec1.getX() * vec0.getY());\r\n        result.setX(result0);\r\n        result.setY(result1);\r\n        result.setZ(result2);\r\n    }\r\n\r\n    export function dotProduct(vec0 : Vector3, vec1 : Vector3) : number {\r\n        let resultX = vec0.getX() * vec1.getX();\r\n        let resultY = vec0.getY() * vec1.getY();\r\n        let resultZ = vec0.getZ() * vec1.getZ();\r\n        return resultX + resultY + resultZ;\r\n    }\r\n\r\n    export function multiplyVectors(result : Vector3, vec : Vector3, scalar : number) : void {\r\n        let vecX = vec.getX() * scalar;\r\n        let vecY = vec.getY() * scalar;\r\n        let vecZ = vec.getZ() * scalar;\r\n        result.setX(vecX);\r\n        result.setY(vecY);\r\n        result.setZ(vecZ);\r\n    }\r\n\r\n    export function normalize(result : Vector3, vec : Vector3) : void {\r\n        let xSquared = vec.getX() * vec.getX();\r\n        let ySquared = vec.getY() * vec.getY();\r\n        let zSquared = vec.getZ() * vec.getZ();\r\n        let distance = Math.sqrt(xSquared + ySquared + zSquared);\r\n        result.setX(vec.getX() / distance);\r\n        result.setY(vec.getY() / distance);\r\n        result.setZ(vec.getZ() / distance);\r\n    }\r\n\r\n    export function subtractVectors(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\r\n        let resultX = vec0.getX() - vec1.getX();\r\n        let resultY = vec0.getY() - vec1.getY();\r\n        let resultZ = vec0.getZ() - vec1.getZ();\r\n        result.setX(resultX);\r\n        result.setY(resultY);\r\n        result.setZ(resultZ);\r\n    }\r\n}","/*\r\n * A Matrix is used for transforming points from local\r\n * coordinates to world coordinates.\r\n */\r\nexport class Matrix {\r\n    private mat : Float32Array;\r\n    private rows : number;\r\n    private columns : number;\r\n\r\n    public constructor(rows : number, columns : number) {\r\n        this.rows = rows;\r\n        this.columns = columns;\r\n        this.mat = new Float32Array(rows * columns);\r\n        for (let i = 0; i < (rows * columns); i++)\r\n            this.mat[i] = 0.0;\r\n    }\r\n\r\n    public getData() : Float32Array {\r\n        return this.mat;\r\n    }\r\n\r\n    public getRows() : number {\r\n        return this.rows;\r\n    }\r\n\r\n    public getColumns() : number {\r\n        return this.columns;\r\n    }\r\n\r\n    public getIndex (rows : number, columns : number) : number {\r\n        return (this.rows * columns) + rows;\r\n    }\r\n    \r\n    public get (row : number, column : number) : number {\r\n        let index = this.getIndex(row, column);\r\n        let valueToReturn = this.mat[index];\r\n        return valueToReturn;\r\n    }\r\n\r\n    public set (value : number, row : number, column : number) {\r\n        let index = this.getIndex(row, column);\r\n        this.mat[index] = value;\r\n    }\r\n    \r\n    public print () : void {\r\n        let maxWidth = 0;\r\n        for (let i = 0; i < 4; i++) {\r\n            for (let j = 0; j < 4; j++) {\r\n                let testNum = this.get(j, i) + \"\";\r\n                if (testNum.length > maxWidth) {\r\n                    maxWidth = testNum.length;\r\n                }\r\n            }\r\n        }\r\n        let text = \"[ \";\r\n        for (let i = 0; i < this.rows; i++) {\r\n            if (i > 0)\r\n                text += \"  \";\r\n            for (var j = 0; j < this.columns; j++) {\r\n                var numText = this.get(i, j) + \"\";\r\n                while (numText.length < maxWidth) {\r\n                    numText = \" \" + numText;\r\n                }\r\n                text += numText;\r\n                if (j < (this.columns - 1)) {\r\n                    text += \",\";\r\n                }\r\n                text += \" \";\r\n            }\r\n            if (i < (this.rows - 1)) {\r\n                text += \"\\n\";\r\n            }\r\n            text += \"]\";\r\n            console.log(text);\r\n        }\r\n    }\r\n}","/**\r\n * Vector3\r\n * \r\n * The Vector3 class can be used for any 2d or 3d point, vector, \r\n * or rotation (i.e. angles of orientation).\r\n */\r\nexport class Vector3 {\r\n    private vec : Float32Array;\r\n    private size : number;\r\n\r\n    public constructor() {\r\n        this.vec = new Float32Array(4);\r\n        for (let i = 0; i < 4; i++)\r\n            this.vec[i] = 0.0;\r\n        this.size = 4;\r\n    }\r\n\r\n    public getSize() : number {\r\n        return this.size;\r\n    }\r\n\r\n    public getAt(index : number) : number {\r\n        return this.vec[index];\r\n    }\r\n\r\n    public getX() : number {\r\n        return this.vec[0];\r\n    }\r\n\r\n    public getY() : number {\r\n        return this.vec[1];\r\n    }\r\n\r\n    public getZ() : number {\r\n        return this.vec[2];\r\n    }\r\n\r\n    public getW() : number {\r\n        return this.vec[3];\r\n    }\r\n\r\n    public getThetaX() : number {\r\n        return this.vec[0];\r\n    }\r\n\r\n    public getThetaY() : number {\r\n        return this.vec[1];\r\n    }\r\n\r\n    public getThetaZ() : number {\r\n        return this.vec[2];\r\n    }\r\n\r\n    public set(init0 : number, init1 : number, init2 : number, init3 : number) : void {\r\n        this.vec[0] = init0;\r\n        this.vec[1] = init1;\r\n        this.vec[2] = init2;\r\n        this.vec[3] = init3;\r\n    }\r\n\r\n    public setAt(index : number, value : number) : void {\r\n        this.vec[index] = value;\r\n    }\r\n\r\n    public setX(initX : number) : void {\r\n        this.vec[0] = initX;\r\n    }\r\n\r\n    public setY(initY : number) : void {\r\n        this.vec[1] = initY;\r\n    }\r\n\r\n    public setZ(initZ : number) : void {\r\n        this.vec[2] = initZ;\r\n    }\r\n\r\n    public setW(initW : number) : void {\r\n        this.vec[3] = initW;\r\n    }\r\n\r\n    public setThetaX(initThetaX : number) : void {\r\n        this.setX(initThetaX);\r\n    }\r\n\r\n    public setThetaY(initThetaY : number) : void {\r\n        this.setY(initThetaY);\r\n    }\r\n\r\n    public setThetaZ(initThetaZ : number) : void {\r\n        this.setZ(initThetaZ);\r\n    }\r\n\r\n    public print() : void {\r\n        let text = \"[\";\r\n        for (let i = 0; i < this.size; i++) {\r\n            text += this.vec[i];\r\n            if (i < (this.size - 1)) {\r\n                text += \", \";\r\n            }\r\n        }\r\n        text += \"]\";\r\n        console.log(text);\r\n    }\r\n}","/*\r\n * This class renders text to a canvas, updated each frame.\r\n */\r\nexport class TextToRender {\r\n    public id : string;\r\n    public text : string;\r\n    public x : number;\r\n    public y : number;\r\n    public update : Function;\r\n    public fontFamily : string;\r\n    public fontSize : number;\r\n    public fontColor : string;\r\n    public properties : Map<string, object>;\r\n\r\n    public constructor(initId : string, initText : string, initX : number, initY : number, initUpdate : Function) {\r\n        this.id = initId;\r\n        this.text = initText;\r\n        this.x = initX;\r\n        this.y = initY;\r\n        this.update = initUpdate;\r\n        this.fontFamily = \"\";\r\n        this.fontSize = 0;\r\n        this.fontColor = \"\";\r\n        this.properties = new Map();\r\n    }\r\n}\r\n\r\nexport class TextRenderer {\r\n    private textToRender : Array<TextToRender>;\r\n    private textCanvas : HTMLCanvasElement;\r\n    private textCanvasWidth : number;\r\n    private textCanvasHeight : number;\r\n    private textCtx : CanvasRenderingContext2D;\r\n    private defaultFontFamily : string;\r\n    private defaultFontSize : number;\r\n    private defaultFontColor : string;\r\n\r\n    public constructor(textCanvasId : string, initFontFamily : string, initFontSize : number, initFontColor : string) {\r\n        this.textToRender = new Array();\r\n        this.textCanvas = <HTMLCanvasElement>document.getElementById(textCanvasId);\r\n        this.textCanvas.width = window.innerWidth;\r\n        this.textCanvas.height = window.innerHeight;\r\n        this.textCanvasWidth = this.textCanvas.width;\r\n        this.textCanvasHeight = this.textCanvas.height;\r\n        this.textCtx = this.textCanvas.getContext(\"2d\");\r\n        this.defaultFontFamily = initFontFamily;\r\n        this.defaultFontSize = initFontSize;\r\n        this.defaultFontColor = initFontColor;\r\n    }\r\n    \r\n    public addTextToRender(textToAdd : TextToRender) : void {\r\n        textToAdd.fontFamily = this.defaultFontFamily;\r\n        textToAdd.fontSize = this.defaultFontSize;\r\n        textToAdd.fontColor = this.defaultFontColor;\r\n        this.textToRender.push(textToAdd);\r\n    }\r\n\r\n    public clear() : void {\r\n        this.textToRender = [];\r\n    }\r\n\r\n    public getCanvasWidth() : number {\r\n        return this.textCanvasWidth;\r\n    }\r\n\r\n    public getCanvasHeight() : number {\r\n        return this.textCanvasHeight;\r\n    }\r\n\r\n    public render() : void {\r\n        this.textCtx.clearRect(0, 0, this.textCanvas.width, this.textCanvas.height);\r\n        for (var i = 0; i < this.textToRender.length; i++) {\r\n            var textToRender = this.textToRender[i];\r\n            textToRender.update();\r\n            this.textCtx.font = \"\" + textToRender.fontSize + \"px \" + textToRender.fontFamily;\r\n            this.textCtx.fillStyle = textToRender.fontColor;\r\n            this.textCtx.fillText(textToRender.text, textToRender.x, textToRender.y);\r\n        }\r\n    }\r\n}","import { WebGLGameShader } from './WebGLGameShader'\r\nimport { Matrix } from '../math/Matrix'\r\nimport { Vector3 } from '../math/Vector3'\r\n\r\nexport abstract class WebGLGameRenderingComponent {\r\n    protected readonly A_POSITION = \"a_Position\";\r\n    protected readonly A_TEX_COORD = \"a_TexCoord\";\r\n    protected readonly U_MESH_TRANSFORM = \"u_MeshTransform\";\r\n    protected readonly U_TEX_COORD_FACTOR = \"u_TexCoordFactor\";\r\n    protected readonly U_TEX_COORD_SHIFT = \"u_TexCoordShift\";\r\n    protected readonly U_SAMPLER = \"u_Sampler\";\r\n    protected readonly NUM_VERTICES = 4;\r\n    protected readonly FLOATS_PER_VERTEX = 2;\r\n    protected readonly FLOATS_PER_TEXTURE_COORDINATE = 2;\r\n    protected readonly TOTAL_BYTES = 16;\r\n    protected readonly VERTEX_POSITION_OFFSET = 0;\r\n    protected readonly TEXTURE_COORDINATE_OFFSET = 8;\r\n    protected readonly INDEX_OF_FIRST_VERTEX = 0;\r\n\r\n    // THESE WILL BE PROVIDED CUSTOMLY AFTER CONSTRUCTION DURING init\r\n    protected shader: WebGLGameShader;\r\n    protected vertexDataBuffer: WebGLBuffer;\r\n    protected webGLAttributeLocations: Map<string, GLuint>;\r\n    protected webGLUniformLocations: Map<string, WebGLUniformLocation>;\r\n\r\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\r\n    protected meshTransform: Matrix;\r\n    protected meshTranslate: Vector3;\r\n    protected meshRotate: Vector3;\r\n    protected meshScale: Vector3;\r\n\r\n    constructor() {\r\n        // WE'LL MANAGE THESE FOR OUR WebGL SHADERS\r\n        this.webGLAttributeLocations = new Map();\r\n        this.webGLUniformLocations = new Map();\r\n\r\n        // WE'LL USE THESE FOR TRANSLATING, ROTATING, AND SCALING THE MESH\r\n        this.meshTransform = new Matrix(4, 4);\r\n        this.meshTranslate = new Vector3();\r\n        this.meshRotate = new Vector3();\r\n        this.meshScale = new Vector3();\r\n    }\r\n\r\n    public init(webGL: WebGLRenderingContext,\r\n                vertexShaderSource: string,\r\n                fragmentShaderSource: string,\r\n                renderSetupData: object): void {\r\n        // FIRST WE NEED TO MAKE THE SHADER\r\n        this.shader = new WebGLGameShader();\r\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\r\n\r\n        // CREATE THE BUFFER ON THE GPU\r\n        this.vertexDataBuffer = webGL.createBuffer();\r\n\r\n        // BIND THE BUFFER TO BE VERTEX DATA\r\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexDataBuffer);\r\n\r\n        // MAKE THE MESH DATA OURSELVES IN A CHILD CLASS\r\n        let meshVertexData : Float32Array = this.getVertexData(renderSetupData);\r\n\r\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\r\n        webGL.bufferData(webGL.ARRAY_BUFFER, meshVertexData, webGL.STATIC_DRAW);\r\n\r\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\r\n        this.loadAttributeLocations(webGL, this.getShaderAttributeNames());\r\n        this.loadUniformLocations(webGL, this.getShaderUniformNames());\r\n    }\r\n\r\n    public abstract getVertexData(renderData : object) : Float32Array;\r\n    public abstract getShaderAttributeNames(): string[];\r\n    public abstract getShaderUniformNames(): string[];\r\n\r\n    /**\r\n     * This function loads all the attribute data values so that we can\r\n     * retrieve them later when it is time to render. Note that this function\r\n     * can only be called after the shader program has been created.\r\n     */\r\n    protected loadAttributeLocations(webGL: WebGLRenderingContext, attributeLocationNames: Array<string>) {\r\n        for (var i = 0; i < attributeLocationNames.length; i++) {\r\n            let locationName: string = attributeLocationNames[i];\r\n            let location: GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\r\n            this.webGLAttributeLocations.set(locationName, location);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This function loads all the uniform data values so that we can\r\n     * retrieve them later when it is time to render. Note that this function\r\n     * can only be called after the shader program has been created.\r\n     */\r\n    protected loadUniformLocations(webGL: WebGLRenderingContext, uniformLocationNames: Array<string>) {\r\n        for (let i: number = 0; i < uniformLocationNames.length; i++) {\r\n            let locationName: string = uniformLocationNames[i];\r\n            let location: WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\r\n            this.webGLUniformLocations.set(locationName, location);\r\n        }\r\n    }\r\n}","/*\r\n * This serves as the subsystem that manages all game rendering.\r\n */\r\nimport { TextRenderer } from './TextRenderer'\r\nimport { WebGLGameTiledLayerRenderer } from './WebGLGameTiledLayerRenderer'\r\nimport { WebGLGameSpriteRenderer } from './WebGLGameSpriteRenderer'\r\nimport { WebGLGameTexture } from './WebGLGameTexture';\r\nimport { AnimatedSprite } from '../scene/sprite/AnimatedSprite'\r\nimport { TiledLayer } from '../scene/tiles/TiledLayer'\r\nimport { Viewport } from '../scene/Viewport'\r\n\r\n\r\nexport class WebGLGameRenderingSystem {\r\n    private renderingCanvas: HTMLCanvasElement;\r\n    private webGL: WebGLRenderingContext;\r\n    private canvasWidth: number;\r\n    private canvasHeight: number;\r\n\r\n    // OUR GAMES RENDER THREE DIFFERENT TYPES OF THINGS\r\n    private tiledLayerRenderer: WebGLGameTiledLayerRenderer;\r\n    private spriteRenderer: WebGLGameSpriteRenderer;\r\n    private textRenderer: TextRenderer;\r\n\r\n    public constructor( renderingCanvasId: string,\r\n                        textCanvasId: string) {\r\n        // FIRST SETUP webGL\r\n        this.renderingCanvas = <HTMLCanvasElement>document.getElementById(renderingCanvasId);\r\n        this.renderingCanvas.width = window.innerWidth;\r\n        this.renderingCanvas.height = window.innerHeight;\r\n        this.canvasWidth = this.renderingCanvas.width;\r\n        this.canvasHeight = this.renderingCanvas.height;\r\n        this.webGL = this.renderingCanvas.getContext(\"webgl\");\r\n\r\n        // IF THE USER'S MACHINE/BROWSER DOESN'T SUPPORT\r\n        // WebGL THEN THERE'S NO POINT OF GOING ON\r\n        if (!this.webGL) {\r\n            // PROVIDE SOME FEEDBACK THAT WebGL WON'T WORK BECAUSE\r\n            // THE USER'S' GRAPHICS CARD IS FOR THE BIRDS\r\n            console.error(\"WebGL is not supported by this device\");\r\n\r\n            // AND END INITIALIZATION\r\n            return;\r\n        }\r\n\r\n        // WebGL IS SUPPORTED, SO INIT EVERYTHING THAT USES IT\r\n\r\n        // MAKE THE CLEAR COLOR BLACK\r\n        this.setClearColor(0.0, 0.0, 0.0, 1.0);\r\n\r\n        // ENABLE DEPTH TESTING\r\n        this.webGL.disable(this.webGL.DEPTH_TEST);\r\n        this.webGL.enable(this.webGL.BLEND);\r\n        this.webGL.blendFunc(this.webGL.SRC_ALPHA, this.webGL.ONE_MINUS_SRC_ALPHA);\r\n\r\n        // TURN ON BACKFACE CULLING\r\n        this.webGL.enable(this.webGL.CULL_FACE);\r\n\r\n        // THIS SPECIFIES THAT WE'RE USING THE ENTIRE CANVAS\r\n        this.webGL.viewport(0, 0, this.canvasWidth, this.canvasHeight);\r\n\r\n        // MAKE THE TILED LAYER RENDERER\r\n        this.tiledLayerRenderer = new WebGLGameTiledLayerRenderer();\r\n\r\n        // MAKE THE SPRITE RENDERER\r\n        this.spriteRenderer = new WebGLGameSpriteRenderer();\r\n\r\n        // THIS WILL STORE OUR TEXT\r\n        this.textRenderer = new TextRenderer(textCanvasId, \"serif\", 18, \"#FFFF00\");\r\n    }\r\n\r\n    public getTextureConstant(id: number): number {\r\n        // WE ONLY ALLOW FOR 10 TEXTURES TO BE PUT ON THE GPU\r\n        switch (id) {\r\n            case 0: return this.webGL.TEXTURE0;\r\n            case 1: return this.webGL.TEXTURE1;\r\n            case 2: return this.webGL.TEXTURE2;\r\n            case 3: return this.webGL.TEXTURE3;\r\n            case 4: return this.webGL.TEXTURE4;\r\n            case 5: return this.webGL.TEXTURE5;\r\n            case 6: return this.webGL.TEXTURE6;\r\n            case 7: return this.webGL.TEXTURE7;\r\n            case 8: return this.webGL.TEXTURE8;\r\n            default: return this.webGL.TEXTURE9;\r\n        }\r\n    }\r\n\r\n    public getWebGL(): WebGLRenderingContext {\r\n        return this.webGL;\r\n    }\r\n\r\n    public getTiledLayerRenderer(): WebGLGameTiledLayerRenderer {\r\n        return this.tiledLayerRenderer;\r\n    }\r\n\r\n    public getSpriteRenderer(): WebGLGameSpriteRenderer {\r\n        return this.spriteRenderer;\r\n    }\r\n\r\n    public getTextRenderer(): TextRenderer {\r\n        return this.textRenderer;\r\n    }\r\n\r\n    public initWebGLTexture(textureToInit: WebGLGameTexture, textureId: number, image: HTMLImageElement, callback: Function): void {\r\n        textureToInit.width = image.width;\r\n        textureToInit.height = image.height;\r\n\r\n        // CREATE A WebGL TEXTURE ON THE GPU\r\n        textureToInit.webGLTexture = this.webGL.createTexture();\r\n        textureToInit.webGLTextureId = textureId;\r\n\r\n        // FLIP THE IMAGE'S y-AXIS\r\n        //webGL.pixelStorei(webGL.UNPACK_FLIP_Y_WEBGL, 1);\r\n\r\n        // ACTIVATE THE WebGL TEXTURE ON THE GPU\r\n        //let textureNumName : string = \"TEXTURE\" + textureId;\r\n        let textureNameConstant: number = this.getTextureConstant(textureId);\r\n        this.webGL.activeTexture(textureNameConstant);\r\n\r\n        // BIND THE TEXTURE TO A 2D TYPE\r\n        this.webGL.bindTexture(this.webGL.TEXTURE_2D, textureToInit.webGLTexture);\r\n\r\n        // SPECIFY RENDERING SETTINGS\r\n        this.webGL.texParameteri(this.webGL.TEXTURE_2D, this.webGL.TEXTURE_MIN_FILTER, this.webGL.LINEAR);\r\n\r\n        // SET THE IMAGE FOR THE TEXTURE\r\n        this.webGL.texImage2D(this.webGL.TEXTURE_2D, 0, this.webGL.RGBA, this.webGL.RGBA, this.webGL.UNSIGNED_BYTE, image);\r\n\r\n        // KEEP IT FOR WHEN WE RENDER\r\n        callback();\r\n    }\r\n\r\n    public setClearColor(r: number, g: number, b: number, a: number): void {\r\n        this.webGL.clearColor(r, g, b, a);\r\n    }\r\n\r\n    public render(  viewport : Viewport,\r\n                    tiledLayers: Array<TiledLayer>,\r\n                    visibleSprites: Array<AnimatedSprite>): void {\r\n        // CLEAR THE CANVAS\r\n        this.webGL.clear(this.webGL.COLOR_BUFFER_BIT | this.webGL.DEPTH_BUFFER_BIT);\r\n\r\n        // RENDER THE TILED LAYER FIRST\r\n        this.tiledLayerRenderer.render(this.webGL, viewport, tiledLayers);\r\n\r\n        // RENDER THE SPRITES ON ONE CANVAS\r\n        this.spriteRenderer.render(this.webGL, viewport, visibleSprites);\r\n\r\n        // THEN THE TEXT ON ANOTHER OVERLAPPING CANVAS\r\n        this.textRenderer.render();\r\n    }\r\n}","/*\r\n * This is a wrapper class for a WebGLProgram, i.e. a shader for custom rendering\r\n * using WebGL's programmable pipeline.\r\n */\r\nexport class WebGLGameShader {\r\n    private program : WebGLProgram;\r\n    private vertexShader : WebGLShader;\r\n    private fragmentShader : WebGLShader;\r\n\r\n    public constructor() {}\r\n\r\n    public getProgram() : WebGLProgram {\r\n        return this.program;\r\n    }\r\n\r\n    public init(webGL : WebGLRenderingContext, vSource : string, fSource : string) : void {\r\n        this.vertexShader = <WebGLShader>this.createShader(webGL, webGL.VERTEX_SHADER, vSource);\r\n        this.fragmentShader = <WebGLShader>this.createShader(webGL, webGL.FRAGMENT_SHADER, fSource);\r\n        this.program = this.createShaderProgram(webGL, this.vertexShader, this.fragmentShader);\r\n    }\r\n\r\n    public createShader(webGL : WebGLRenderingContext, type : number, source : string) : WebGLShader {\r\n        // MAKE A NEW SHADER OBJECT, LOAD IT'S SOURCE, AND COMPILE IT\r\n        var shader = webGL.createShader(type);\r\n        webGL.shaderSource(shader, source);\r\n        webGL.compileShader(shader);\r\n\r\n        // DID IT COMPILE?\r\n        var success = webGL.getShaderParameter(shader, webGL.COMPILE_STATUS);\r\n        if (success) {\r\n            return shader;\r\n        }\r\n\r\n        // DISASTER\r\n        console.log(webGL.getShaderInfoLog(shader));\r\n        webGL.deleteShader(shader);\r\n        return null;\r\n    }\r\n\r\n    public createShaderProgram(webGL : WebGLRenderingContext, vShader : WebGLShader, fShader : WebGLShader) : WebGLProgram {\r\n        // MAKE THE GLSL SHADER PROGRAM\r\n        let programToCreate = webGL.createProgram();\r\n\r\n        // LINK THE VERT AND FRAG\r\n        webGL.attachShader(programToCreate, vShader);\r\n        webGL.attachShader(programToCreate, fShader);\r\n\r\n        // NOW WE CAN LINK THE SHADER PROGRAM\r\n        webGL.linkProgram(programToCreate);\r\n        let linked : boolean = webGL.getProgramParameter(programToCreate, webGL.LINK_STATUS);\r\n\r\n        // IS IT LINKED?\r\n        if (!linked) {\r\n            // DISASTER\r\n            let errorFeedback : string = webGL.getProgramInfoLog(programToCreate);\r\n            console.log(errorFeedback);\r\n\r\n            // DISASTER\r\n            console.log(webGL.getProgramInfoLog(programToCreate));\r\n            webGL.deleteProgram(programToCreate);\r\n        }\r\n        return programToCreate;\r\n    }\r\n}","import {WebGLGameRenderingComponent} from './WebGLGameRenderingComponent'\r\nimport {MathUtilities} from '../math/MathUtilities'\r\nimport {AnimatedSprite} from '../scene/sprite/AnimatedSprite'\r\nimport {AnimatedSpriteType} from '../scene/sprite/AnimatedSpriteType'\r\nimport {WebGLGameTexture} from './WebGLGameTexture'\r\nimport {Viewport} from '../scene/Viewport'\r\n\r\nexport class WebGLGameSpriteRenderer extends WebGLGameRenderingComponent {\r\n\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    public getVertexData() : Float32Array {\r\n        return new Float32Array([\r\n            -0.5,  0.5, 0.0, 0.0,\r\n            -0.5, -0.5, 0.0, 1.0,\r\n             0.5,  0.5, 1.0, 0.0,\r\n             0.5, -0.5, 1.0, 1.0\r\n        ]);\r\n    }\r\n    public getShaderAttributeNames() : string[] {\r\n        return [this.A_POSITION, this.A_TEX_COORD];\r\n    }\r\n    public getShaderUniformNames() : string[] {\r\n        return [this.U_MESH_TRANSFORM, this.U_SAMPLER, this.U_TEX_COORD_FACTOR, this.U_TEX_COORD_SHIFT];\r\n    }\r\n\r\n    public render(  webGL : WebGLRenderingContext,\r\n                    viewport : Viewport,\r\n                    visibleSprites : Array<AnimatedSprite>) : void {\r\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\r\n        let shaderProgramToUse = this.shader.getProgram();\r\n        webGL.useProgram(shaderProgramToUse);\r\n\r\n       // AND THEN RENDER EACH ONE\r\n       for (let sprite of visibleSprites) {\r\n            this.renderAnimatedSprite(webGL, viewport, sprite);        \r\n        }\r\n    }\r\n\r\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext,\r\n                                    viewport : Viewport, \r\n                                    sprite : AnimatedSprite) : void {\r\n        // YOU'LL NEED TO UPDATE THIS METHOD TO MAKE SURE SPRITES SCROLL AND ROTATE\r\n        \r\n        let canvasWidth : number = webGL.canvas.width;\r\n        let canvasHeight : number = webGL.canvas.height;\r\n        let spriteType : AnimatedSpriteType = sprite.getSpriteType();\r\n        let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\r\n\r\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\r\n        let spriteWidth : number = spriteType.getSpriteWidth();\r\n        let spriteHeight : number = spriteType.getSpriteHeight();\r\n        let spriteXInPixels : number = sprite.getPosition().getX() + (spriteWidth/2);\r\n        let spriteYInPixels : number = sprite.getPosition().getY() + (spriteHeight/2);\r\n        let spriteXTranslate : number = (spriteXInPixels - (viewport.getX() + viewport.getWidth() / 2)) / (canvasWidth / 2);//(canvasWidth/2))/(canvasWidth/2);\r\n        let spriteYTranslate : number = (spriteYInPixels - (viewport.getY() + viewport.getHeight() / 2)) / (canvasHeight / 2);//(canvasHeight/2))/(canvasHeight/2);\r\n        this.meshTranslate.setX(spriteXTranslate);\r\n        this.meshTranslate.setY(-spriteYTranslate);\r\n\r\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\r\n        let defaultWidth : number = canvasWidth;\r\n        let defaultHeight : number = canvasHeight;\r\n        //let rotation : number = Math.PI/2;\r\n        let scaleXDiff : number = 0;//rotation / 30;\r\n        let scaleYDiff : number = 0;//rotation / 15;\r\n        let scaleX : number = 2*spriteWidth/defaultWidth;\r\n        let scaleY : number = 2*spriteHeight/defaultHeight;\r\n        this.meshScale.set(scaleX + scaleXDiff, scaleY - scaleYDiff, 0.0, 0.0);//1.0, 1.0);\r\n        //this.meshRotate.setZ(Math.PI/2)\r\n\r\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\r\n        MathUtilities.identity(this.meshTransform);\r\n        MathUtilities.model(this.meshTransform, this.meshTranslate, this.meshRotate, this.meshScale);\r\n        \r\n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\r\n        let texCoordFactorX : number = spriteWidth/texture.width;\r\n        let texCoordFactorY : number = spriteHeight/texture.height;\r\n        let spriteLeft : number = sprite.getLeft();\r\n        let spriteTop : number = sprite.getTop();\r\n        let texCoordShiftX : number = spriteLeft/texture.width;\r\n        let texCoordShiftY : number = spriteTop/texture.height;\r\n\r\n        // USE THE ATTRIBUTES\r\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexDataBuffer);\r\n        webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\r\n\r\n        // HOOK UP THE ATTRIBUTES\r\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations.get(this.A_POSITION);\r\n        webGL.vertexAttribPointer(a_PositionLocation, this.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, this.TOTAL_BYTES, this.VERTEX_POSITION_OFFSET);\r\n        webGL.enableVertexAttribArray(a_PositionLocation);\r\n        let a_TexCoordLocation : GLuint = this.webGLAttributeLocations.get(this.A_TEX_COORD);\r\n        webGL.vertexAttribPointer(a_TexCoordLocation, this.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, this.TOTAL_BYTES, this.TEXTURE_COORDINATE_OFFSET);\r\n        webGL.enableVertexAttribArray(a_TexCoordLocation);\r\n\r\n        // USE THE UNIFORMS\r\n        let u_MeshTransformLocation : WebGLUniformLocation = this.webGLUniformLocations.get(this.U_MESH_TRANSFORM);\r\n        webGL.uniformMatrix4fv(u_MeshTransformLocation, false, this.meshTransform.getData());\r\n        let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations.get(this.U_SAMPLER);\r\n        webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\r\n        let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations.get(this.U_TEX_COORD_FACTOR);\r\n        webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\r\n        let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations.get(this.U_TEX_COORD_SHIFT);\r\n        webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\r\n\r\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\r\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, this.INDEX_OF_FIRST_VERTEX, this.NUM_VERTICES);\r\n    }\r\n}","export class WebGLGameTexture {\r\n    public webGLTextureId: number;\r\n    public webGLTexture: WebGLTexture;\r\n    public image: HTMLImageElement;\r\n    public width : number;\r\n    public height : number;\r\n}","import { MathUtilities } from \"../math/MathUtilities\"\r\nimport { TiledLayer } from \"../scene/tiles/TiledLayer\"\r\nimport { TileSet } from \"../scene/tiles/TileSet\"\r\nimport { WebGLGameRenderingComponent } from './WebGLGameRenderingComponent'\r\nimport { WebGLGameTexture } from './WebGLGameTexture'\r\nimport { Viewport } from '../scene/Viewport'\r\n\r\nexport class WebGLGameTiledLayerRenderer extends WebGLGameRenderingComponent {\r\n    public constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * This function generates the array of attribute data needed to \r\n     * render our TiledLayer and puts it in the tiled layer argument.\r\n     */\r\n    public generateVertexData(tiledLayer: TiledLayer): Float32Array {\r\n        let someNumberYouHaveToDetermine : number = 4;\r\n        let dataToFill = [someNumberYouHaveToDetermine];\r\n        let vertexData: Float32Array = new Float32Array(dataToFill);\r\n        return vertexData;\r\n    }\r\n\r\n    public getVertexData(renderSetupData: object): Float32Array {\r\n        // WE WILL NEED THIS TO KNOW HOW LARGE TO MAKE OUR VERTEX DATA BUFFER\r\n        let tiledLayers: Array<TiledLayer> = <Array<TiledLayer>>renderSetupData;\r\n        let tiledLayer: TiledLayer = tiledLayers[0];\r\n        return this.generateVertexData(tiledLayer);\r\n    }\r\n\r\n    public getShaderAttributeNames(): string[] {\r\n        // YOU'LL NEED TO DEFINE THIS METHOD\r\n        return [];\r\n    }\r\n\r\n    public getShaderUniformNames(): string[] {\r\n        // YOU'LL NEED TO DEFINE THIS METHOD\r\n        return [];\r\n    }\r\n\r\n    public render(  webGL: WebGLRenderingContext,\r\n                    viewport : Viewport,\r\n                    tiledLayers: Array<TiledLayer>): void {\r\n\r\n            // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\r\n        let shaderProgramToUse = this.shader.getProgram();\r\n        webGL.useProgram(shaderProgramToUse);\r\n\r\n        // AND THEN RENDER EACH LAYER\r\n        for (let tiledLayer of tiledLayers) {\r\n            this.renderTiledLayer(webGL, viewport, tiledLayer);\r\n        }\r\n    }\r\n\r\n    private renderTiledLayer(\r\n        webGL: WebGLRenderingContext,\r\n        viewport : Viewport,\r\n        tiledLayer: TiledLayer) {\r\n            // YOU'LL NEED TO DEFINE THIS METHOD\r\n    }\r\n}","import {SceneObject} from './SceneObject'\r\nimport {AnimatedSprite} from './sprite/AnimatedSprite'\r\nimport {TiledLayer} from './tiles/TiledLayer'\r\nimport {TileSet} from './tiles/TileSet'\r\nimport {Viewport} from './Viewport';\r\n\r\nexport class SceneGraph {\r\n    // AND ALL OF THE ANIMATED SPRITES, WHICH ARE NOT STORED\r\n    // SORTED OR IN ANY PARTICULAR ORDER. NOTE THAT ANIMATED SPRITES\r\n    // ARE SCENE OBJECTS\r\n    private animatedSprites : Array<AnimatedSprite>;\r\n\r\n    // SET OF VISIBLE OBJECTS, NOTE THAT AT THE MOMENT OUR\r\n    // SCENE GRAPH IS QUITE SIMPLE, SO THIS IS THE SAME AS\r\n    // OUR LIST OF ANIMATED SPRITES\r\n    private visibleSet : Array<SceneObject>;\r\n\r\n    // WE ARE ALSO USING A TILING ENGINE FOR RENDERING OUR LEVEL\r\n    // NOTE THAT WE MANAGE THIS HERE BECAUSE WE MAY INVOLVE THE TILED\r\n    // LAYERS IN PHYSICS AND PATHFINDING AS WELL\r\n    private tiledLayers : Array<TiledLayer>;\r\n    private tileSets : Array<TileSet>;\r\n\r\n    // THE VIEWPORT IS USED TO FILTER OUT WHAT IS NOT VISIBLE\r\n    private viewport : Viewport;\r\n\r\n    public constructor() {\r\n        // DEFAULT CONSTRUCTOR INITIALIZES OUR DATA STRUCTURES\r\n        this.clear();\r\n    }\r\n\r\n    public clear() : void {\r\n        this.animatedSprites = [];\r\n        this.visibleSet = [];\r\n        this.tiledLayers = [];\r\n        this.tileSets = [];\r\n    }\r\n\r\n    public addTileSet(tileSetToAdd : TileSet) : number {\r\n        return this.tileSets.push(tileSetToAdd) - 1;\r\n    }\r\n\r\n    public getNumTileSets() : number {\r\n        return this.tileSets.length;\r\n    }\r\n\r\n    public getTileSet(index : number) : TileSet {\r\n        return this.tileSets[index];\r\n    }\r\n\r\n    public addLayer(layerToAdd : TiledLayer) : void {\r\n        this.tiledLayers.push(layerToAdd);\r\n    }\r\n\r\n    public getNumTiledLayers() : number {\r\n        return this.tiledLayers.length;\r\n    }\r\n\r\n    public getTiledLayers() : Array<TiledLayer> {\r\n        return this.tiledLayers;\r\n    }\r\n\r\n    public getTiledLayer(layerIndex : number) : TiledLayer {\r\n        return this.tiledLayers[layerIndex];\r\n    }\r\n\r\n    public getNumSprites() : number {\r\n        return this.animatedSprites.length;\r\n    }\r\n\r\n    public setViewport(initViewport : Viewport) : void {\r\n        this.viewport = initViewport;\r\n    }\r\n\r\n    public getViewport() : Viewport { \r\n        return this.viewport;\r\n    }\r\n\r\n    public addAnimatedSprite(sprite : AnimatedSprite) : void {\r\n        this.animatedSprites.push(sprite);\r\n    }\r\n\r\n    public getSpriteAt(testX : number, testY : number) : AnimatedSprite {\r\n        for (let sprite of this.animatedSprites) {\r\n            if (sprite.contains(testX, testY))\r\n                return sprite;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public moveMantis() : AnimatedSprite{\r\n        for (let sprite of this.animatedSprites){\r\n            if (sprite.getPlayer() != null){\r\n                return sprite;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * update\r\n     * \r\n     * Called once per frame, this function updates the state of all the objects\r\n     * in the scene.\r\n     * \r\n     * @param delta The time that has passed since the last time this update\r\n     * funcation was called.\r\n     */\r\n    public update(delta : number) : void {\r\n        for (let sprite of this.animatedSprites) {\r\n            sprite.update(delta);\r\n        }\r\n    }\r\n\r\n    public scope() : Array<SceneObject> {\r\n        // CLEAR OUT THE OLD\r\n        this.visibleSet = [];\r\n\r\n        // PUT ALL THE SCENE OBJECTS INTO THE VISIBLE SET\r\n        for (let sprite of this.animatedSprites) {\r\n            this.visibleSet.push(sprite);\r\n        }\r\n\r\n        return this.visibleSet;\r\n    }\r\n\r\n    public numViewport() : number{\r\n        let counter : number;\r\n        counter = 0;\r\n        for (let sprite of this.animatedSprites) {\r\n            if (sprite.getPosition().getX() >= this.viewport.getX() && sprite.getPosition().getX() <= (this.viewport.getX() + this.viewport.getWidth())\r\n            && sprite.getPosition().getY() >= this.viewport.getY() && sprite.getPosition().getY() <= (this.viewport.getY() + this.viewport.getHeight())){\r\n                counter++;\r\n            }\r\n        }\r\n        return counter;\r\n    }\r\n}","import {Vector3} from '../math/Vector3'\r\n\r\n/**\r\n * SceneObject\r\n * \r\n * A SceneObject is something that can be placed into the scene graph. It has\r\n * a position, rotation, and scale in the game world. Note that its position\r\n * is typically its centered location, so if we're talking about a 2d box, \r\n * it would be the center of that box.\r\n */\r\nexport abstract class SceneObject {\r\n    private position : Vector3;\r\n    private rotation : Vector3;\r\n    private scale : Vector3;\r\n\r\n    public constructor() {\r\n        this.position = new Vector3();\r\n        this.rotation = new Vector3();\r\n        this.scale = new Vector3();\r\n\r\n        // CLEAR ALL VALUES\r\n        this.position.set(0.0, 0.0, 0.0, 1.0);\r\n        this.rotation.set(0.0, 0.0, 0.0, 1.0);\r\n        this.scale.set(1.0, 1.0, 1.0, 1.0);\r\n    }\r\n\r\n    public getPosition() : Vector3 {\r\n        return this.position;\r\n    }    \r\n\r\n    public getRotation() : Vector3 {\r\n        return this.rotation;\r\n    }\r\n\r\n    public getScale() : Vector3 {\r\n        return this.scale;\r\n    }\r\n\r\n    public abstract contains(testX : number, testY : number) : boolean;\r\n}","export class Viewport {\r\n    private width : number;\r\n    private height : number;\r\n    private x : number;\r\n    private y : number;\r\n\r\n    public constructor(initWidth : number, initHeight : number) {\r\n        this.width = initWidth;\r\n        this.height = initHeight;\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n\r\n    public getWidth() : number {\r\n        return this.width;\r\n    }\r\n\r\n    public getHeight() : number {\r\n        return this.height;\r\n    }\r\n\r\n    public getX() : number {\r\n        return this.x;\r\n    }\r\n\r\n    public getY() : number {\r\n        return this.y;\r\n    }\r\n\r\n    public inc(incX : number, incY : number) : void {\r\n        this.x += incX;\r\n        this.y += incY;\r\n    }\r\n\r\n    public setPosition(initX : number, initY : number) : void {\r\n        this.x = initX;\r\n        this.y = initY;\r\n    }\r\n}","import {SceneObject} from '../SceneObject'\r\nimport {AnimatedSpriteType} from './AnimatedSpriteType'\r\nimport {Behavior} from './Behavior'\r\nimport { SceneGraph } from '../SceneGraph';\r\nimport { BugBehavior1 } from './BugBehavior1';\r\nimport { BugBehavior2 } from './BugBehavior2';\r\n\r\nexport class AnimatedSprite extends SceneObject {\r\n    private spriteType : AnimatedSpriteType;\r\n    private state : string;\r\n    private animationFrameIndex : number;\r\n    private frameCounter : number;\r\n    private behavior: Behavior;\r\n    private player : Boolean;\r\n    //Depending on behavior, //rotation 0 = Up, 1 = right, 2 = down, 3 = left\r\n    private direction : number;\r\n    \r\n    public constructor(initSpriteType : AnimatedSpriteType, initState : string) {\r\n        super();\r\n        this.spriteType = initSpriteType;\r\n        \r\n        // START RESET\r\n        this.state = initState;\r\n        this.animationFrameIndex = 0;\r\n        this.frameCounter = 0;\r\n        this.player = false;\r\n        this.direction = 0;\r\n        this.behavior = null;\r\n    }\r\n\r\n    public setPlayer() : void{\r\n        this.player = true;\r\n    }\r\n\r\n    public getPlayer() : AnimatedSprite{\r\n        if (this.player){\r\n            return this;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public getAnimationFrameIndex() : number {\r\n        return this.animationFrameIndex;\r\n    }\r\n\r\n    public getFrameCounter() : number {\r\n        return this.frameCounter;\r\n    }\r\n\r\n    public getSpriteType() : AnimatedSpriteType {\r\n        return this.spriteType;\r\n    }\r\n\r\n    public getState() : string {\r\n        return this.state;\r\n    }\r\n    \r\n    public setState(initState : string) : void {\r\n        this.state = initState;\r\n        this.animationFrameIndex = 0;\r\n        this.frameCounter = 0;\r\n    }\r\n\r\n    public getDirection() : number{\r\n        return this.direction;\r\n    }\r\n\r\n    public setDirection(direction : number) : void{\r\n        this.direction = direction;\r\n    }\r\n\r\n    public addBehavior(state : number, scene : SceneGraph, worldWidth : number, worldHeight : number) : void{\r\n            this.behavior = new BugBehavior1(state, scene, worldWidth, worldHeight);\r\n    }\r\n\r\n    public addBehavior2(state : number, scene : SceneGraph, worldWidth : number, worldHeight : number, player : AnimatedSprite) : void{\r\n            this.behavior = new BugBehavior2(state, scene, worldWidth, worldHeight, player);\r\n    }\r\n    \r\n    public update(delta : number) : void {\r\n        //dont forget to change animation state\r\n        if (this.behavior != null){\r\n            if (this.behavior.getState() == 1){\r\n                if (this.getState() == \"IDLE\"){\r\n                    this.setState(\"WALK\");\r\n                }\r\n                let temp = 0;\r\n                temp = this.behavior.think(this.getPosition().getX(), this.getPosition().getY());\r\n\r\n                switch(temp){\r\n                    case -3:\r\n                        this.setDirection(3);\r\n                        break;\r\n                    case -2:\r\n                        this.setDirection(2);\r\n                        break;\r\n                    case -1:\r\n                        this.setDirection(1);\r\n                        break;\r\n                    case 0:\r\n                        this.setDirection(0);\r\n                        break;\r\n                    case 1:\r\n                        break;\r\n                    case 2:\r\n                        switch(this.direction){\r\n                            case 0:\r\n                                if (this.getPosition().getY() - 5 <= 0){\r\n                                    this.getPosition().setY(0);\r\n                                }else{\r\n                                    this.getPosition().setY(this.getPosition().getY() - 5);\r\n                                }break;\r\n                            case 1:\r\n                                if (this.getPosition().getX() + 5 >= this.behavior.getWidth()){\r\n                                    this.getPosition().setX(this.behavior.getWidth());\r\n                                }else{\r\n                                    this.getPosition().setX(this.getPosition().getX() + 5);\r\n                                }break;\r\n                            case 2:\r\n                                if (this.getPosition().getY() + 5 >= this.behavior.getHeight()){\r\n                                    this.getPosition().setY(this.behavior.getHeight());\r\n                                }else{\r\n                                    this.getPosition().setY(this.getPosition().getY() + 5);\r\n                                }break;\r\n                            case 3:\r\n                                if (this.getPosition().getX() - 5 <= 0){\r\n                                    this.getPosition().setX(0);\r\n                                }else{\r\n                                    this.getPosition().setX(this.getPosition().getX() - 5);\r\n                                }break;\r\n                        }\r\n                        break;\r\n                }\r\n            }else if (this.behavior.getState() == 2){\r\n                let temp = 0;\r\n                temp = this.behavior.think(this.getPosition().getX(), this.getPosition().getY());\r\n\r\n                if (this.behavior.getRunning()){\r\n                    switch(temp){\r\n                        case -3:\r\n                            this.setDirection(3);\r\n                            break;\r\n                        case -2:\r\n                            this.setDirection(2);\r\n                            break;\r\n                        case -1:\r\n                            this.setDirection(1);\r\n                            break;\r\n                        case 0:\r\n                            this.setDirection(0);\r\n                            break;\r\n                    }\r\n                    switch(this.direction){\r\n                        case 0:\r\n                            if (this.getPosition().getY() - 5 <= 0){\r\n                                this.getPosition().setY(0);\r\n                            }else{\r\n                                this.getPosition().setY(this.getPosition().getY() - 5);\r\n                            }break;\r\n                        case 1:\r\n                            if (this.getPosition().getX() + 5 >= this.behavior.getWidth()){\r\n                                this.getPosition().setX(this.behavior.getWidth());\r\n                            }else{\r\n                                this.getPosition().setX(this.getPosition().getX() + 5);\r\n                            }break;\r\n                        case 2:\r\n                            if (this.getPosition().getY() + 5 >= this.behavior.getHeight()){\r\n                                this.getPosition().setY(this.behavior.getHeight());\r\n                            }else{\r\n                                this.getPosition().setY(this.getPosition().getY() + 5);\r\n                            }break;\r\n                        case 3:\r\n                            if (this.getPosition().getX() - 5 <= 0){\r\n                                this.getPosition().setX(0);\r\n                            }else{\r\n                                this.getPosition().setX(this.getPosition().getX() - 5);\r\n                            }break;\r\n                    }\r\n                }else{\r\n                    switch(temp){\r\n                        case -3:\r\n                            this.setDirection(3);\r\n                            break;\r\n                        case -2:\r\n                            this.setDirection(2);\r\n                            break;\r\n                        case -1:\r\n                            this.setDirection(1);\r\n                            break;\r\n                        case 0:\r\n                            this.setDirection(0);\r\n                            break;\r\n                        case 1:\r\n                            if (this.getState() == \"WALK\"){\r\n                                this.setState(\"IDLE\");\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                            if (this.getState() == \"IDLE\"){\r\n                                this.setState(\"WALK\");\r\n                            }\r\n                            switch(this.direction){\r\n                                case 0:\r\n                                    if (this.getPosition().getY() - 5 <= 0){\r\n                                        this.getPosition().setY(0);\r\n                                    }else{\r\n                                        this.getPosition().setY(this.getPosition().getY() - 5);\r\n                                    }break;\r\n                                case 1:\r\n                                    if (this.getPosition().getX() + 5 >= this.behavior.getWidth()){\r\n                                        this.getPosition().setX(this.behavior.getWidth());\r\n                                    }else{\r\n                                        this.getPosition().setX(this.getPosition().getX() + 5);\r\n                                    }break;\r\n                                case 2:\r\n                                    if (this.getPosition().getY() + 5 >= this.behavior.getHeight()){\r\n                                        this.getPosition().setY(this.behavior.getHeight());\r\n                                    }else{\r\n                                        this.getPosition().setY(this.getPosition().getY() + 5);\r\n                                    }break;\r\n                                case 3:\r\n                                    if (this.getPosition().getX() - 5 <= 0){\r\n                                        this.getPosition().setX(0);\r\n                                    }else{\r\n                                        this.getPosition().setX(this.getPosition().getX() - 5);\r\n                                    }break;\r\n                            }\r\n                            break;  \r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.frameCounter++;\r\n        \r\n        // HAVE WE GONE PAST THE LAST FRAME IN THE ANIMATION?\r\n        var currentAnimation = this.spriteType.getAnimation(this.state);\r\n        var currentFrame = currentAnimation[this.animationFrameIndex];\r\n        if (this.frameCounter > (currentFrame.duration)) {\r\n            this.animationFrameIndex++;\r\n            if (this.animationFrameIndex >= currentAnimation.length) {\r\n                this.animationFrameIndex = 0;\r\n            }\r\n            this.frameCounter = 0;\r\n        }\r\n    }\r\n\r\n    public contains(pointX : number, pointY : number) : boolean {\r\n        let spriteWidth = this.getSpriteType().getSpriteWidth();\r\n        let spriteHeight = this.getSpriteType().getSpriteHeight();\r\n        let spriteLeft = this.getPosition().getX();\r\n        let spriteRight = this.getPosition().getX() + spriteWidth;\r\n        let spriteTop = this.getPosition().getY();\r\n        let spriteBottom = this.getPosition().getY() + spriteHeight;\r\n        if (    (pointX < spriteLeft)\r\n            ||  (spriteRight < pointX)\r\n            ||  (pointY < spriteTop)\r\n            ||  (spriteBottom < pointY)) {\r\n                return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    /**RENAME THIS METHOD SO IT DENOTES PIXEL LOCATION IN TEXTURE */\r\n    public getLeft() : number {\r\n        return this.spriteType.getLeft(this.state, this.animationFrameIndex);\r\n    }\r\n    \r\n    public getTop() : number {\r\n        return this.spriteType.getTop(this.state, this.animationFrameIndex);\r\n    }\r\n\r\n    public toString() : string {\r\n        let summary : string =  \"{ position: (\"\r\n                            +   this.getPosition().getX() + \", \" + this.getPosition().getY() + \") \"\r\n                            +   \"(state: \" + this.getState() + \") \"\r\n                            +   \"(animationFrameIndex: \" + this.getAnimationFrameIndex() + \") \"\r\n                            +   \"(frameCounter: \" + this.getFrameCounter() + \") \";\r\n        return summary;\r\n    }\r\n}","import {WebGLGameTexture} from '../../rendering/WebGLGameTexture'\r\n\r\nexport class AnimationFrame {\r\n    public left : number;\r\n    public top : number;\r\n    public duration : number;\r\n\r\n    constructor(initLeft : number, initTop : number, initDuration : number) {\r\n        this.left = initLeft;\r\n        this.top = initTop;\r\n        this.duration = initDuration;\r\n    }\r\n}\r\n\r\nexport class AnimatedSpriteType {\r\n    private spriteSheetTexture : WebGLGameTexture;\r\n    private animations : Map<string, Array<AnimationFrame>>;\r\n    private spriteWidth : number;\r\n    private spriteHeight : number;\r\n\r\n    public constructor(initSpriteSheetTexture : WebGLGameTexture, \r\n                initSpriteWidth : number, initSpriteHeight : number) {\r\n        this.spriteSheetTexture = initSpriteSheetTexture;\r\n        this.animations = new Map();\r\n        this.spriteWidth = initSpriteWidth;\r\n        this.spriteHeight = initSpriteHeight;\r\n    }\r\n\r\n    public addAnimation(state : string) : void {\r\n        this.animations.set(state, new Array<AnimationFrame>());\r\n    }\r\n\r\n    public addAnimationFrame(state : string, index : number, frameDuration : number) : void {\r\n        var columns = this.spriteSheetTexture.width/this.spriteWidth;\r\n        var rows = this.spriteSheetTexture.height/this.spriteHeight;\r\n        var col = index % columns;\r\n        var row = Math.floor(index /  columns);\r\n        var left = col * this.spriteWidth;\r\n        var top = row * this.spriteHeight;\r\n        this.animations.get(state).push(new AnimationFrame(left, top, frameDuration));\r\n    }\r\n\r\n    public getSpriteWidth() : number {\r\n        return this.spriteWidth;\r\n    }\r\n\r\n    public getSpriteHeight() : number {\r\n        return this.spriteHeight;\r\n    }\r\n\r\n    public getSpriteSheetTexture() : WebGLGameTexture {\r\n        return this.spriteSheetTexture;\r\n    }\r\n\r\n    public getAnimation(state : string) : Array<AnimationFrame> {\r\n        return this.animations.get(state);\r\n    }\r\n\r\n    public getLeft(state : string, frameIndex : number) : number {\r\n        let animationFrame : AnimationFrame = this.animations.get(state)[frameIndex];\r\n        return animationFrame.left;\r\n    }\r\n\r\n    public getTop(state : string, frameIndex : number) : number {\r\n        let animationFrame : AnimationFrame = this.animations.get(state)[frameIndex];\r\n        return animationFrame.top;\r\n    }\r\n}","import { SceneGraph } from \"../SceneGraph\";\r\n\r\nexport abstract class Behavior{\r\n    private state: number;\r\n    private scene : SceneGraph;\r\n    private worldWidth : number;\r\n    private worldHeight : number;\r\n    private runAway : boolean;\r\n\r\n    //State is what behavior to do, 0 = nothing, 1 = random walk in direction, 2 = patrol back and forth in place then run, 3 = follow mouse\r\n\r\n    public constructor(state: number, scene : SceneGraph, x : number, y : number){\r\n        this.state = state;\r\n        this.scene = scene;\r\n        this.worldWidth = x;\r\n        this.worldHeight = y;\r\n        this.runAway = false;\r\n    }\r\n\r\n    public getRunning() : boolean{\r\n        return this.runAway;\r\n    }\r\n\r\n    public changeRunning() : void{\r\n        if (this.runAway){\r\n            this.runAway = false;\r\n        }else{\r\n            this.runAway = true;\r\n        }\r\n    }\r\n\r\n    public setState(state: number) : void{\r\n        this.state = state;\r\n    }\r\n\r\n    public getState() : number{\r\n        return this.state;\r\n    }\r\n\r\n    public getScene() : SceneGraph{\r\n        return this.scene;\r\n    }\r\n\r\n    public getWidth() : number{\r\n        return this.worldWidth;\r\n    }\r\n\r\n    public getHeight() : number{\r\n        return this.worldHeight;\r\n    }\r\n\r\n    public think(x: number, y : number) : number{\r\n        return 0;\r\n    }\r\n}","import { Behavior } from './Behavior';\r\nimport { SceneGraph } from '../SceneGraph';\r\n\r\nexport class BugBehavior1 extends Behavior {\r\n    private walking : boolean;\r\n    private frameCounter : number;\r\n    //Direction 0 = Up, 1 = right, 2 = down, 3 = left\r\n    private direction : number;\r\n\r\n    public constructor(state : number, scene : SceneGraph, x : number, y : number){\r\n        super(state, scene, x, y);\r\n        this.walking = false;\r\n        this.frameCounter = 0;\r\n        this.direction = 0;\r\n    }\r\n\r\n    public getWalking() : boolean{\r\n        return this.walking;\r\n    }\r\n\r\n    public setWalking() : void{\r\n        this.walking = true;\r\n    }\r\n\r\n    public getFrameCounter() : number{\r\n        return this.frameCounter;\r\n    }\r\n\r\n    public decrementFrames() : void{\r\n        this.frameCounter -= 1;\r\n    }\r\n\r\n    public doneWalking() : void{\r\n        this.walking = false;\r\n    }\r\n\r\n    public randomDirection() : void{\r\n        this.direction = Math.floor(Math.random() * Math.floor(4));\r\n        //Random number of frames from 0 to 300, so 0 to 5 seconds of walking in any direction\r\n        this.frameCounter = Math.floor(Math.random() * Math.floor(300));\r\n        this.setWalking();\r\n    }\r\n\r\n    public think(x : number, y : number) : number{\r\n        if (this.getWalking()){\r\n            if (x <= 0 && this.direction == 3){\r\n                this.decrementFrames();\r\n                if (this.getFrameCounter() == 0){\r\n                    this.doneWalking();\r\n                }\r\n                return 1;\r\n            }else if (x >= this.getWidth() && this.direction == 1){\r\n                this.decrementFrames();\r\n                if (this.getFrameCounter() == 0){\r\n                    this.doneWalking();\r\n                }\r\n                return 1;\r\n            }else if (y <= 0 && this.direction == 0){\r\n                this.decrementFrames();\r\n                if (this.getFrameCounter() == 0){\r\n                    this.doneWalking();\r\n                }\r\n                return 1;\r\n            }else if (y >= this.getHeight() && this.direction == 2){\r\n                this.decrementFrames();\r\n                if (this.getFrameCounter() == 0){\r\n                    this.doneWalking();\r\n                }\r\n                return 1;\r\n            }else{\r\n                this.decrementFrames();\r\n                if (this.getFrameCounter() == 0){\r\n                    this.doneWalking();\r\n                }\r\n                \r\n                return 2;\r\n            }\r\n        }else{\r\n            this.randomDirection();\r\n            this.setWalking();\r\n            if (this.direction == 0){\r\n                return 0;\r\n            }else if (this.direction == 1){\r\n                return -1;\r\n            }else if (this.direction == 2){\r\n                return -2;\r\n            }else{\r\n                return -3;\r\n            }\r\n        }\r\n    }\r\n\r\n}","import { Behavior } from './Behavior';\r\nimport { SceneGraph } from '../SceneGraph';\r\nimport { AnimatedSprite } from './AnimatedSprite';\r\n\r\nexport class BugBehavior2 extends Behavior {\r\n    private walking : boolean;\r\n    private frameCounter : number;\r\n    //Direction 0 = Up, 1 = right, 2 = down, 3 = left\r\n    private direction : number;\r\n    private cooldown : number;\r\n    private player : AnimatedSprite;\r\n\r\n    public constructor(state : number, scene : SceneGraph, x : number, y : number, player : AnimatedSprite){\r\n        super(state, scene, x, y);\r\n        this.walking = false;\r\n        this.frameCounter = 0;\r\n        //Direction 0 = Up, 1 = right, 2 = down, 3 = left\r\n        this.direction = Math.floor(Math.random() * Math.floor(4));\r\n        this.cooldown = 0;\r\n        this.player = player;\r\n    }\r\n\r\n    public getWalking() : boolean{\r\n        return this.walking;\r\n    }\r\n\r\n    public getPlayer() : AnimatedSprite{\r\n        return this.player;\r\n    }\r\n\r\n    public setWalking() : void{\r\n        this.walking = true;\r\n    }\r\n\r\n    public getFrameCounter() : number{\r\n        return this.frameCounter;\r\n    }\r\n\r\n    public decrementFrames() : void{\r\n        this.frameCounter -= 1;\r\n    }\r\n\r\n    public doneWalking() : void{\r\n        this.walking = false;\r\n    }\r\n\r\n    public getCooldown() : number{\r\n        return this.cooldown;\r\n    }\r\n\r\n    public decrementCooldown() : void{\r\n        this.cooldown -= 1;\r\n    }\r\n\r\n    public refreshCooldown() : void{\r\n        this.cooldown = 120;\r\n    }\r\n\r\n    public changeDirection() : void{\r\n        if (this.direction == 0){\r\n            this.direction = 2;\r\n        }else if (this.direction == 1){\r\n            this.direction = 3;\r\n        }else if (this.direction == 2){\r\n            this.direction = 0;\r\n        }else{\r\n            this.direction = 1;\r\n        }\r\n    }\r\n\r\n    public playerNearby(x : number, y : number) : number{\r\n        if (x - this.player.getPosition().getX() <= 60 && x - this.player.getPosition().getX() >= 0){\r\n            this.direction = 1;\r\n            return -1;\r\n        }else if (this.player.getPosition().getX() - x <= 60 && this.player.getPosition().getX() - x >= 0){\r\n            this.direction = 3;\r\n            return -3;\r\n        }else if (y - this.player.getPosition().getY() <= 60 && y - this.player.getPosition().getY() >= 0){\r\n            this.direction = 2;\r\n            return -2;\r\n        }else if (this.player.getPosition().getY() - y <= 60 && this.player.getPosition().getY() - y >= 0){\r\n            this.direction = 0;\r\n            return 0;\r\n        }else{\r\n            return 1;\r\n        }\r\n    }\r\n\r\n    public think(x : number, y : number) : number{\r\n        if (this.playerNearby(x, y) == 1){\r\n            if (this.getRunning()){\r\n                this.changeRunning();\r\n            }\r\n            if (this.getWalking()){\r\n                if (x <= 0 && this.direction == 3){\r\n                    this.decrementFrames();\r\n                    if (this.getFrameCounter() == 0){\r\n                        this.doneWalking();\r\n                        this.refreshCooldown();\r\n                    }\r\n                    return 1;\r\n                }else if (x >= this.getWidth() && this.direction == 1){\r\n                    this.decrementFrames();\r\n                    if (this.getFrameCounter() == 0){\r\n                        this.doneWalking();\r\n                        this.refreshCooldown();\r\n                    }\r\n                    return 1;\r\n                }else if (y <= 0 && this.direction == 0){\r\n                    this.decrementFrames();\r\n                    if (this.getFrameCounter() == 0){\r\n                        this.doneWalking();\r\n                        this.refreshCooldown();\r\n                    }\r\n                    return 1;\r\n                }else if (y >= this.getHeight() && this.direction == 2){\r\n                    this.decrementFrames();\r\n                    if (this.getFrameCounter() == 0){\r\n                        this.doneWalking();\r\n                        this.refreshCooldown();\r\n                    }\r\n                    return 1;\r\n                }else{\r\n                    this.decrementFrames();\r\n                    if (this.getFrameCounter() == 0){\r\n                        this.doneWalking();\r\n                        this.refreshCooldown();\r\n                    }\r\n                    \r\n                    return 2;\r\n                }\r\n            }else{\r\n                if (this.cooldown == 0){\r\n                    this.changeDirection();\r\n                    this.setWalking();\r\n                    this.frameCounter = 60;\r\n                    switch (this.direction){\r\n                        case 0:\r\n                            return 0;\r\n                        case 1:\r\n                            return -1;\r\n                        case 2:\r\n                            return -2;\r\n                        case 3:\r\n                            return -3;\r\n                    }\r\n                }else{\r\n                    this.decrementCooldown();\r\n                    return 1;\r\n                }\r\n            }\r\n        }else{\r\n            if (! this.getRunning()){\r\n                this.changeRunning();\r\n            }\r\n            return this.playerNearby(x, y);\r\n        }\r\n    }\r\n\r\n}","import { WebGLGameTexture } from \"../../rendering/WebGLGameTexture\";\r\n\r\nexport class TileSet {\r\n    private name : string;\r\n    private columns : number;\r\n    private rows : number;\r\n    private tileWidth : number;\r\n    private tileHeight : number;\r\n    private tileSpacing : number;\r\n    private tileSheetWidth : number;\r\n    private tileSheetHeight : number;\r\n    private firstIndex : number;\r\n    private texture : WebGLGameTexture;\r\n\r\n    constructor(initName : string, \r\n                initColumns : number,\r\n                initRows : number,\r\n                initTileWidth : number,\r\n                initTileHeight : number,\r\n                initTileSpacing : number,\r\n                initTileSheetWidth : number,\r\n                initTileSheetHeight : number,\r\n                initFirstIndex : number,\r\n                initTexture : WebGLGameTexture) {\r\n        this.name = initName;\r\n        this.columns = initColumns;\r\n        this.rows = initRows;\r\n        this.tileWidth = initTileWidth;\r\n        this.tileHeight = initTileHeight;\r\n        this.tileSpacing = initTileSpacing;\r\n        this.tileSheetWidth = initTileSheetWidth;\r\n        this.tileSheetHeight = initTileSheetHeight;\r\n        this.firstIndex = initFirstIndex;\r\n        this.texture = initTexture;\r\n    }\r\n\r\n    public getName() : string {\r\n        return this.name;\r\n    }\r\n\r\n    public getColumns() : number {\r\n        return this.columns;\r\n    }\r\n\r\n    public getRows() : number { \r\n        return this.rows;\r\n    }\r\n\r\n    public getTileWidth() : number {\r\n        return this.tileWidth;\r\n    }\r\n\r\n    public getTileHeight() : number {\r\n        return this.tileHeight;\r\n    }\r\n\r\n    public getTileSpacing() : number {\r\n        return this.tileSpacing;\r\n    }\r\n\r\n    public getTileSheetWidth() : number {\r\n        return this.tileSheetWidth;\r\n    }\r\n\r\n    public getTileSheetHeight() : number {\r\n        return this.tileSheetHeight;\r\n    }\r\n\r\n    public getFirstIndex() : number {\r\n        return this.firstIndex;\r\n    }\r\n\r\n    public getTexture() : WebGLGameTexture {\r\n        return this.texture;\r\n    }\r\n}","import { TileSet } from \"./TileSet\";\r\n\r\nexport class TiledLayer {\r\n    private collidable : boolean;\r\n    private tiles : Array<number>;\r\n    private columns : number;\r\n    private rows : number;\r\n    private tileSet : TileSet;\r\n    \r\n    // WE WILL STORE RENDERING-SPECIFIC DATA HERE\r\n    private renderData : object;\r\n\r\n    constructor(initColumns : number,\r\n                initRows : number,\r\n                initTileSet : TileSet) {\r\n        this.tiles = new Array();\r\n        this.columns = initColumns;\r\n        this.rows = initRows;\r\n        this.tileSet = initTileSet;\r\n    }\r\n\r\n    public setRenderData(initRenderData : object) : void {\r\n        this.renderData = initRenderData;\r\n    }\r\n\r\n    public getRenderData() : object {\r\n        return this.renderData;\r\n    }\r\n\r\n    public getMinimumVisibleColumn(viewportLeft : number) : number {\r\n        return (viewportLeft / this.tileSet.getTileWidth());\r\n    }\r\n\r\n    public getMaximumVisibleColumn(viewportRight : number) : number {\r\n        return (viewportRight / this.tileSet.getTileWidth());\r\n    }\r\n\r\n    public getMinimumVisibleRow(viewportTop : number) : number {\r\n        return (viewportTop / this.tileSet.getTileHeight());\r\n    }\r\n\r\n    public getMaximumVisibleRow(viewportBottom : number) : number {\r\n        return (viewportBottom / this.tileSet.getTileHeight());\r\n    }\r\n\r\n    public getNumCells() : number {\r\n        return this.columns * this.rows;\r\n    }\r\n\r\n    public getColumns() : number {\r\n        return this.columns;\r\n    }\r\n\r\n    public getRows() : number {\r\n        return this.rows;\r\n    }\r\n\r\n    public getTileSet() : TileSet {\r\n        return this.tileSet;\r\n    }\r\n\r\n    public isCollidable() : boolean {\r\n        return this.collidable;\r\n    }\r\n\r\n    public addTile(tileSetCellIndex : number) : void {\r\n        this.tiles.push(tileSetCellIndex);\r\n    }\r\n\r\n    public setTile(column : number, row : number, tileSetCellIndex : number) {\r\n        let tileIndex : number = this.getTileIndex(column, row);\r\n        this.tiles[tileIndex] = tileSetCellIndex;\r\n    }\r\n\r\n    public getTileIndex(column : number, row : number) : number {\r\n        return (row * this.columns) + column;\r\n    }\r\n\r\n    public getTileSetCellIndex(column : number, row : number) : number {\r\n        let tileIndex : number = this.getTileIndex(column, row);\r\n        return this.tiles[tileIndex];\r\n    }\r\n\r\n    public getTile(column : number, row : number) : number {\r\n        let index = this.getTileIndex(column, row);\r\n        return this.tiles[index];\r\n    }\r\n}","/*\r\n * This provides responses to UI input.\r\n */\r\nimport {AnimatedSprite} from \"../scene/sprite/AnimatedSprite\"\r\nimport {SceneGraph} from \"../scene/SceneGraph\"\r\n\r\nexport class UIController {\r\n    private spriteToDrag : AnimatedSprite;\r\n    private scene : SceneGraph;\r\n    private dragOffsetX : number;\r\n    private dragOffsetY : number;\r\n\r\n    public constructor(canvasId : string, initScene : SceneGraph) {\r\n        this.spriteToDrag = null;\r\n        this.scene = initScene;\r\n        this.dragOffsetX = -1;\r\n        this.dragOffsetY = -1;\r\n\r\n        let canvas : HTMLCanvasElement = <HTMLCanvasElement>document.getElementById(canvasId);\r\n        canvas.tabIndex = 1;\r\n        canvas.addEventListener(\"mousedown\", this.mouseDownHandler);\r\n        canvas.addEventListener(\"mousemove\", this.mouseMoveHandler);\r\n        canvas.addEventListener(\"mouseup\", this.mouseUpHandler);\r\n        canvas.addEventListener(\"keydown\", this.dHandler);\r\n        //canvas.addEventListener(\"mouseenter\", this.mouseEnterHandler);\r\n    }\r\n\r\n    public mouseDownHandler = (event : MouseEvent) : void => {\r\n        let mousePressX : number = event.clientX;\r\n        let mousePressY : number = event.clientY;\r\n        let sprite : AnimatedSprite = this.scene.getSpriteAt(mousePressX + this.scene.getViewport().getX(), mousePressY + this.scene.getViewport().getY());\r\n        console.log(\"mousePressX: \" + mousePressX); //+ this.scene.getViewport().getX());\r\n        console.log(\"mousePressY: \" + mousePressY); //+ this.scene.getViewport().getY());\r\n        console.log(\"sprite: \" + sprite);\r\n        if (sprite != null) {\r\n            // START DRAGGING IT\r\n            this.spriteToDrag = sprite;\r\n            this.dragOffsetX = sprite.getPosition().getX() - mousePressX;\r\n            this.dragOffsetY = sprite.getPosition().getY() - mousePressY;\r\n        }\r\n    }\r\n    \r\n    public mouseMoveHandler = (event : MouseEvent) : void => {\r\n        if (this.spriteToDrag != null) {\r\n            this.spriteToDrag.getPosition().set(event.clientX + this.dragOffsetX, \r\n                                                event.clientY + this.dragOffsetY, \r\n                                                this.spriteToDrag.getPosition().getZ(), \r\n                                                this.spriteToDrag.getPosition().getW());\r\n        }\r\n    }\r\n\r\n    public mouseUpHandler = (event : MouseEvent) : void => {\r\n        this.spriteToDrag = null;\r\n    }\r\n\r\n    public dHandler = (event : KeyboardEvent) : void => {\r\n        let worldWidth : number = this.scene.getTiledLayers()[0].getColumns() * this.scene.getTiledLayers()[0].getTileSet().getTileWidth();\r\n        let worldHeight : number = this.scene.getTiledLayers()[0].getRows() * this.scene.getTiledLayers()[0].getTileSet().getTileHeight();\r\n\r\n        if (event.keyCode == 68){\r\n            console.log(\"KEY PRESSED: d\");\r\n            if (this.scene.getViewport().getX() + 100 >= worldWidth - this.scene.getViewport().getWidth()){\r\n                this.scene.getViewport().setPosition(worldWidth - this.scene.getViewport().getWidth(), this.scene.getViewport().getY());\r\n            }else{\r\n                this.scene.getViewport().inc(100, 0);\r\n            }\r\n        }\r\n        else if (event.keyCode == 65){\r\n            console.log(\"KEY PRESSED: a\");\r\n            if (this.scene.getViewport().getX() - 100 <= 0){\r\n                this.scene.getViewport().setPosition(0, this.scene.getViewport().getY());\r\n            }else{\r\n                this.scene.getViewport().inc(-100, 0);\r\n            }\r\n        }\r\n        else if (event.keyCode == 87){\r\n            console.log(\"KEY PRESSED: w\");\r\n            if (this.scene.getViewport().getY() - 100 <= 0){\r\n                this.scene.getViewport().setPosition(this.scene.getViewport().getX(), 0);\r\n            }else{\r\n                this.scene.getViewport().inc(0, -100);\r\n            }\r\n        }\r\n        else if (event.keyCode == 83){\r\n            console.log(\"KEY PRESSED: s\");\r\n            if (this.scene.getViewport().getY() + 100 >= worldHeight - this.scene.getViewport().getHeight()){\r\n                this.scene.getViewport().setPosition(this.scene.getViewport().getX(), worldHeight - this.scene.getViewport().getHeight());\r\n            }else{\r\n                this.scene.getViewport().inc(0, 100);\r\n            }\r\n        }\r\n    }\r\n\r\n    /*public mouseEnterHandler = (event : MouseEvent) : void => {\r\n        console.log(\"mousePressX: \" + event.clientX);\r\n        console.log(\"mousePressY: \" + event.clientY);\r\n        let targetX = event.clientX; //+ this.dragOffsetX;\r\n        let targetY = event.clientY; //+ this.dragOffsetY;\r\n        \r\n        let diffX = targetX - this.scene.moveMantis().getPosition().getX();\r\n        let diffY = targetY - this.scene.moveMantis().getPosition().getY();\r\n        \r\n        if (Math.abs (diffX) >= 1) {\r\n            targetX += (diffX * 0.1);\t\r\n        }\r\n        \r\n        if (Math.abs (diffY) >= 1) {\r\n            targetY += (diffY * 0.1);\r\n        }\r\n\r\n        this.scene.moveMantis().getPosition().set(targetX, targetY,\r\n            this.spriteToDrag.getPosition().getZ(), \r\n            this.spriteToDrag.getPosition().getW());\r\n    }*/\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdGlsZWRfc2Nyb2xsaW5nX2RlbW8vVGlsZWRTY3JvbGxpbmdEZW1vLnRzIiwic3JjL3dvbGZpZTJkL0dhbWUudHMiLCJzcmMvd29sZmllMmQvZmlsZXMvUmVzb3VyY2VNYW5hZ2VyLnRzIiwic3JjL3dvbGZpZTJkL2xvb3AvR2FtZUxvb3BUZW1wbGF0ZS50cyIsInNyYy93b2xmaWUyZC9tYXRoL01hdGhVdGlsaXRpZXMudHMiLCJzcmMvd29sZmllMmQvbWF0aC9NYXRyaXgudHMiLCJzcmMvd29sZmllMmQvbWF0aC9WZWN0b3IzLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9UZXh0UmVuZGVyZXIudHMiLCJzcmMvd29sZmllMmQvcmVuZGVyaW5nL1dlYkdMR2FtZVJlbmRlcmluZ0NvbXBvbmVudC50cyIsInNyYy93b2xmaWUyZC9yZW5kZXJpbmcvV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVTaGFkZXIudHMiLCJzcmMvd29sZmllMmQvcmVuZGVyaW5nL1dlYkdMR2FtZVNwcml0ZVJlbmRlcmVyLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVUZXh0dXJlLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVUaWxlZExheWVyUmVuZGVyZXIudHMiLCJzcmMvd29sZmllMmQvc2NlbmUvU2NlbmVHcmFwaC50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9TY2VuZU9iamVjdC50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9WaWV3cG9ydC50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUudHMiLCJzcmMvd29sZmllMmQvc2NlbmUvc3ByaXRlL0FuaW1hdGVkU3ByaXRlVHlwZS50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9zcHJpdGUvQmVoYXZpb3IudHMiLCJzcmMvd29sZmllMmQvc2NlbmUvc3ByaXRlL0J1Z0JlaGF2aW9yMS50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9zcHJpdGUvQnVnQmVoYXZpb3IyLnRzIiwic3JjL3dvbGZpZTJkL3NjZW5lL3RpbGVzL1RpbGVTZXQudHMiLCJzcmMvd29sZmllMmQvc2NlbmUvdGlsZXMvVGlsZWRMYXllci50cyIsInNyYy93b2xmaWUyZC91aS9VSUNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUNBQTs7OztBQUlBLElBQUEsU0FBQSxRQUFBLGtCQUFBLENBQUE7QUFDQSxJQUFBLG1CQUFBLFFBQUEseUNBQUEsQ0FBQTtBQUtBLElBQUEsaUJBQUEsUUFBQSxvQ0FBQSxDQUFBO0FBRUE7QUFDQTtBQUNBLElBQUksT0FBTyxJQUFJLE9BQUEsSUFBSixDQUFTLGFBQVQsRUFBd0IsYUFBeEIsQ0FBWDtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTSxvQkFBb0Isd0NBQTFCO0FBQ0EsS0FBSyxrQkFBTCxHQUEwQixTQUExQixDQUFvQyxpQkFBcEMsRUFDb0MsS0FBSyxhQUFMLEVBRHBDLEVBRW9DLEtBQUssa0JBQUwsRUFGcEMsRUFHb0MsWUFBQTtBQUNoQztBQUNBO0FBQ0EsUUFBSSxRQUF1QixLQUFLLGFBQUwsR0FBcUIsY0FBckIsRUFBM0I7QUFDQSxRQUFJLGFBQXNCLE1BQU0sQ0FBTixFQUFTLFVBQVQsS0FBd0IsTUFBTSxDQUFOLEVBQVMsVUFBVCxHQUFzQixZQUF0QixFQUFsRDtBQUNBLFFBQUksY0FBdUIsTUFBTSxDQUFOLEVBQVMsT0FBVCxLQUFxQixNQUFNLENBQU4sRUFBUyxVQUFULEdBQXNCLGFBQXRCLEVBQWhEO0FBRUE7QUFDQSxRQUFJLE9BQTRCLEtBQUssa0JBQUwsR0FBMEIscUJBQTFCLENBQWdELFFBQWhELENBQWhDO0FBQ0EsUUFBSSxTQUEwQixJQUFJLGlCQUFBLGNBQUosQ0FBbUIsSUFBbkIsRUFBeUIsTUFBekIsQ0FBOUI7QUFDQSxXQUFPLFNBQVA7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QUwsQ0FBVyxXQUFYLEdBQXlCLElBQXpCLEtBQWtDLEdBQWxDLElBQXlDLGNBQWMsTUFBSyxLQUFMLENBQVcsV0FBWCxHQUF5QixTQUF6QixFQUEzRCxFQUFnRztBQUM1RixzQkFBSyxLQUFMLENBQVcsV0FBWCxHQUF5QixXQUF6QixDQUFxQyxNQUFLLEtBQUwsQ0FBVyxXQUFYLEdBQXlCLElBQXpCLEVBQXJDLEVBQXNFLGNBQWMsTUFBSyxLQUFMLENBQVcsV0FBWCxHQUF5QixTQUF6QixFQUFwRjtBQUNILGFBRkQsTUFFSztBQUNELHNCQUFLLEtBQUwsQ0FBVyxXQUFYLEdBQXlCLEdBQXpCLENBQTZCLENBQTdCLEVBQWdDLEdBQWhDO0FBQ0g7QUFDSjtBQUNKLEtBcENNO0FBMUNILFNBQUssWUFBTCxHQUFvQixJQUFwQjtBQUNBLFNBQUssS0FBTCxHQUFhLFNBQWI7QUFDQSxTQUFLLFdBQUwsR0FBbUIsQ0FBQyxDQUFwQjtBQUNBLFNBQUssV0FBTCxHQUFtQixDQUFDLENBQXBCO0FBRUEsUUFBSSxTQUFnRCxTQUFTLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBcEQ7QUFDQSxXQUFPLFFBQVAsR0FBa0IsQ0FBbEI7QUFDQSxXQUFPLGdCQUFQLENBQXdCLFdBQXhCLEVBQXFDLEtBQUssZ0JBQTFDO0FBQ0EsV0FBTyxnQkFBUCxDQUF3QixXQUF4QixFQUFxQyxLQUFLLGdCQUExQztBQUNBLFdBQU8sZ0JBQVAsQ0FBd0IsU0FBeEIsRUFBbUMsS0FBSyxjQUF4QztBQUNBLFdBQU8sZ0JBQVAsQ0FBd0IsU0FBeEIsRUFBbUMsS0FBSyxRQUF4QztBQUNBO0FBQ0gsQzs7QUFuQkwsUUFBQSxZQUFBLEdBQUEsWUFBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qXHJcbiAqIFRpbGVkU2Nyb2xsaW5nRGVtby50cyAtIGRlbW9uc3RyYXRlcyBob3cgdGlsZWQgbGF5ZXJzIGNhbiBiZSByZW5kZXJlZFxyXG4gKiBhbmQgc2Nyb2xsZWQgdXNpbmcgYSB2aWV3cG9ydC4gXHJcbiAqL1xyXG5pbXBvcnQge0dhbWV9IGZyb20gJy4uL3dvbGZpZTJkL0dhbWUnXHJcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGV9IGZyb20gJy4uL3dvbGZpZTJkL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZSdcclxuaW1wb3J0IHtBbmltYXRlZFNwcml0ZVR5cGV9IGZyb20gJy4uL3dvbGZpZTJkL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZVR5cGUnXHJcbmltcG9ydCB7VGlsZWRMYXllcn0gZnJvbSAnLi4vd29sZmllMmQvc2NlbmUvdGlsZXMvVGlsZWRMYXllcidcclxuaW1wb3J0IHtTY2VuZUdyYXBofSBmcm9tICcuLi93b2xmaWUyZC9zY2VuZS9TY2VuZUdyYXBoJ1xyXG5pbXBvcnQge1ZpZXdwb3J0fSBmcm9tICcuLi93b2xmaWUyZC9zY2VuZS9WaWV3cG9ydCdcclxuaW1wb3J0IHtUZXh0VG9SZW5kZXIsIFRleHRSZW5kZXJlcn0gZnJvbSAnLi4vd29sZmllMmQvcmVuZGVyaW5nL1RleHRSZW5kZXJlcidcclxuXHJcbi8vIFRISVMgSVMgVEhFIEVOVFJZIFBPSU5UIElOVE8gT1VSIEFQUExJQ0FUSU9OLCBXRSBNQUtFXHJcbi8vIFRIRSBHYW1lIE9CSkVDVCBBTkQgSU5JVElBTElaRSBJVCBXSVRIIFRIRSBDQU5WQVNFU1xyXG5sZXQgZ2FtZSA9IG5ldyBHYW1lKFwiZ2FtZV9jYW52YXNcIiwgXCJ0ZXh0X2NhbnZhc1wiKTtcclxuXHJcbi8vIFdFIFRIRU4gTE9BRCBPVVIgR0FNRSBTQ0VORSwgV0hJQ0ggV0lMTCBGSVJTVCBMT0FEXHJcbi8vIEFMTCBHQU1FIFJFU09VUkNFUywgVEhFTiBDUkVBVEUgQUxMIFNIQURFUlMgRk9SXHJcbi8vIFJFTkRFUklORywgQU5EIFRIRU4gUExBQ0UgQUxMIEdBTUUgT0JKRUNUUyBJTiBUSEUgU0NFTkUuXHJcbi8vIE9OQ0UgSVQgSVMgQ09NUExFVEVEIFdFIENBTiBTVEFSVCBUSEUgR0FNRVxyXG5jb25zdCBERVNFUlRfU0NFTkVfUEFUSCA9IFwicmVzb3VyY2VzL3NjZW5lcy9TY3JvbGxhYmxlRGVzZXJ0Lmpzb25cIjtcclxuZ2FtZS5nZXRSZXNvdXJjZU1hbmFnZXIoKS5sb2FkU2NlbmUoREVTRVJUX1NDRU5FX1BBVEgsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lLmdldFNjZW5lR3JhcGgoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5nZXRSZW5kZXJpbmdTeXN0ZW0oKSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gQUREIEFOWSBDVVNUT00gU1RVRkYgV0UgTkVFRCBIRVJFLCBMSUtFIFRFWFQgUkVOREVSSU5HXHJcbiAgICAvLyBMRVQnUyBBREQgQSBCVU5DSCBPRiBSQU5ET00gU1BSSVRFU1xyXG4gICAgbGV0IHdvcmxkIDogVGlsZWRMYXllcltdID0gZ2FtZS5nZXRTY2VuZUdyYXBoKCkuZ2V0VGlsZWRMYXllcnMoKTtcclxuICAgIGxldCB3b3JsZFdpZHRoIDogbnVtYmVyID0gd29ybGRbMF0uZ2V0Q29sdW1ucygpICogd29ybGRbMF0uZ2V0VGlsZVNldCgpLmdldFRpbGVXaWR0aCgpO1xyXG4gICAgbGV0IHdvcmxkSGVpZ2h0IDogbnVtYmVyID0gd29ybGRbMF0uZ2V0Um93cygpICogd29ybGRbMF0uZ2V0VGlsZVNldCgpLmdldFRpbGVIZWlnaHQoKTtcclxuXHJcbiAgICAvL0FkZCBwbGF5ZXIgY2hhcmFjdGVyIG1hbnRpc1xyXG4gICAgbGV0IHR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGUgPSBnYW1lLmdldFJlc291cmNlTWFuYWdlcigpLmdldEFuaW1hdGVkU3ByaXRlVHlwZShcIk1BTlRJU1wiKTtcclxuICAgIGxldCBwbGF5ZXIgOiBBbmltYXRlZFNwcml0ZSA9IG5ldyBBbmltYXRlZFNwcml0ZSh0eXBlLCBcIklETEVcIik7XHJcbiAgICBwbGF5ZXIuc2V0UGxheWVyKCk7XHJcbiAgICBwbGF5ZXIuZ2V0UG9zaXRpb24oKS5zZXQoODgwLCA0ODAsIDAsIDEpO1xyXG4gICAgZ2FtZS5nZXRTY2VuZUdyYXBoKCkuYWRkQW5pbWF0ZWRTcHJpdGUocGxheWVyKTtcclxuXHJcbiAgICAvLyBBZGQgNTAgYW50c1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGUgPSBnYW1lLmdldFJlc291cmNlTWFuYWdlcigpLmdldEFuaW1hdGVkU3ByaXRlVHlwZShcIkFOVFwiKTtcclxuICAgICAgICBsZXQgcmFuZG9tU3ByaXRlIDogQW5pbWF0ZWRTcHJpdGUgPSBuZXcgQW5pbWF0ZWRTcHJpdGUodHlwZSwgXCJJRExFXCIpO1xyXG4gICAgICAgIGxldCByYW5kb21YIDogbnVtYmVyID0gTWF0aC5yYW5kb20oKSAqIHdvcmxkV2lkdGg7XHJcbiAgICAgICAgbGV0IHJhbmRvbVkgOiBudW1iZXIgPSBNYXRoLnJhbmRvbSgpICogd29ybGRIZWlnaHQ7XHJcbiAgICAgICAgcmFuZG9tU3ByaXRlLmdldFBvc2l0aW9uKCkuc2V0KHJhbmRvbVgsIHJhbmRvbVksIDAsIDEpO1xyXG4gICAgICAgIHJhbmRvbVNwcml0ZS5hZGRCZWhhdmlvcigxLCBnYW1lLmdldFNjZW5lR3JhcGgoKSwgd29ybGRXaWR0aCAtIDEwMCwgd29ybGRIZWlnaHQgLSAxMDApO1xyXG4gICAgICAgIGdhbWUuZ2V0U2NlbmVHcmFwaCgpLmFkZEFuaW1hdGVkU3ByaXRlKHJhbmRvbVNwcml0ZSk7XHJcbiAgICB9XHJcbiAgICAvLyBBZGQgNTAgYmVkIGJ1Z3NcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTA7IGkrKykge1xyXG4gICAgICAgIGxldCB0eXBlIDogQW5pbWF0ZWRTcHJpdGVUeXBlID0gZ2FtZS5nZXRSZXNvdXJjZU1hbmFnZXIoKS5nZXRBbmltYXRlZFNwcml0ZVR5cGUoXCJCRURfQlVHXCIpO1xyXG4gICAgICAgIGxldCByYW5kb21TcHJpdGUgOiBBbmltYXRlZFNwcml0ZSA9IG5ldyBBbmltYXRlZFNwcml0ZSh0eXBlLCBcIklETEVcIik7XHJcbiAgICAgICAgbGV0IHJhbmRvbVggOiBudW1iZXIgPSBNYXRoLnJhbmRvbSgpICogKHdvcmxkV2lkdGggLSA1MCk7XHJcbiAgICAgICAgbGV0IHJhbmRvbVkgOiBudW1iZXIgPSBNYXRoLnJhbmRvbSgpICogKHdvcmxkSGVpZ2h0IC0gNTApO1xyXG4gICAgICAgIHJhbmRvbVNwcml0ZS5nZXRQb3NpdGlvbigpLnNldChyYW5kb21YLCByYW5kb21ZLCAwLCAxKTtcclxuICAgICAgICByYW5kb21TcHJpdGUuYWRkQmVoYXZpb3IyKDIsIGdhbWUuZ2V0U2NlbmVHcmFwaCgpLCB3b3JsZFdpZHRoIC0gMTAwLCB3b3JsZEhlaWdodCAtIDEwMCwgcGxheWVyKTtcclxuICAgICAgICBnYW1lLmdldFNjZW5lR3JhcGgoKS5hZGRBbmltYXRlZFNwcml0ZShyYW5kb21TcHJpdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5PVyBBREQgVEVYVCBSRU5ERVJJTkcuIFdFIEFSRSBHT0lORyBUTyBSRU5ERVIgMyBUSElOR1M6XHJcbiAgICAgICAgLy8gTlVNQkVSIE9GIFNQUklURVMgSU4gVEhFIFNDRU5FXHJcbiAgICAgICAgLy8gTE9DQVRJT04gSU4gR0FNRSBXT1JMRCBPRiBWSUVXUE9SVFxyXG4gICAgICAgIC8vIE5VTUJFUiBPRiBTUFJJVEVTIElOIFZJU0lCTEUgU0VUIChpLmUuIElOIFRIRSBWSUVXUE9SVClcclxuICAgIGxldCBzY2VuZUdyYXBoIDogU2NlbmVHcmFwaCA9IGdhbWUuZ2V0U2NlbmVHcmFwaCgpO1xyXG4gICAgbGV0IHNwcml0ZXNJblNjZW5lVGV4dCA6IFRleHRUb1JlbmRlciA9IG5ldyBUZXh0VG9SZW5kZXIoXCJTcHJpdGVzIGluIFNjZW5lXCIsIFwiXCIsIDIwLCA1MCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc3ByaXRlc0luU2NlbmVUZXh0LnRleHQgPSBcIlNwcml0ZXMgaW4gU2NlbmU6IFwiICsgc2NlbmVHcmFwaC5nZXROdW1TcHJpdGVzKCk7XHJcbiAgICB9KTtcclxuICAgIGxldCB2aWV3cG9ydFRleHQgOiBUZXh0VG9SZW5kZXIgPSBuZXcgVGV4dFRvUmVuZGVyKFwiVmlld3BvcnRcIiwgXCJcIiwgMjAsIDcwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgdmlld3BvcnQgOiBWaWV3cG9ydCA9IHNjZW5lR3JhcGguZ2V0Vmlld3BvcnQoKTtcclxuICAgICAgICB2aWV3cG9ydFRleHQudGV4dCA9IFwiVmlld3BvcnQgKHcsIGgsIHgsIHkpOiAoXCIgICsgdmlld3BvcnQuZ2V0V2lkdGgoKSArIFwiLCBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgdmlld3BvcnQuZ2V0SGVpZ2h0KCkgKyBcIiwgXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIHZpZXdwb3J0LmdldFgoKSArIFwiLCBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgdmlld3BvcnQuZ2V0WSgpICsgXCIpXCI7XHJcbiAgICB9KTtcclxuICAgIGxldCBzcHJpdGVzSW5WaWV3cG9ydFRleHQgOiBUZXh0VG9SZW5kZXIgPSBuZXcgVGV4dFRvUmVuZGVyKFwiU3ByaXRlcyBpbiBWaWV3cG9ydFwiLCBcIlwiLCAyMCwgOTAsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNwcml0ZXNJblZpZXdwb3J0VGV4dC50ZXh0ID0gXCJTcHJpdGVzIGluIFZpZXdwb3J0OiBcIiArIHNjZW5lR3JhcGgubnVtVmlld3BvcnQoKTtcclxuICAgIH0pO1xyXG4gICAgbGV0IHdvcmxkRGltZW5zaW9uc1RleHQgOiBUZXh0VG9SZW5kZXIgPSBuZXcgVGV4dFRvUmVuZGVyKFwiV29ybGQgRGltZW5zaW9uc1wiLCBcIlwiLCAyMCwgMTEwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB3b3JsZERpbWVuc2lvbnNUZXh0LnRleHQgPSBcIldvcmxkIERpbWVuc2lvbnMgKHcsIGgpOiAoXCIgKyB3b3JsZFdpZHRoICsgXCIsIFwiICsgd29ybGRIZWlnaHQgKyBcIilcIjtcclxuICAgIH0pO1xyXG4gICAgbGV0IHRleHRSZW5kZXJlciA9IGdhbWUuZ2V0UmVuZGVyaW5nU3lzdGVtKCkuZ2V0VGV4dFJlbmRlcmVyKCk7XHJcbiAgICB0ZXh0UmVuZGVyZXIuYWRkVGV4dFRvUmVuZGVyKHNwcml0ZXNJblNjZW5lVGV4dCk7XHJcbiAgICB0ZXh0UmVuZGVyZXIuYWRkVGV4dFRvUmVuZGVyKHZpZXdwb3J0VGV4dCk7XHJcbiAgICB0ZXh0UmVuZGVyZXIuYWRkVGV4dFRvUmVuZGVyKHNwcml0ZXNJblZpZXdwb3J0VGV4dCk7XHJcbiAgICB0ZXh0UmVuZGVyZXIuYWRkVGV4dFRvUmVuZGVyKHdvcmxkRGltZW5zaW9uc1RleHQpO1xyXG5cclxuICAgIC8vIEFORCBTVEFSVCBUSEUgR0FNRSBMT09QXHJcbiAgICBnYW1lLnN0YXJ0KCk7XHJcbn0pOyIsIi8qXHJcbiAqIEdhbWUgaXMgdGhlIGZvY2FsIHBvaW50IG9mIHRoZSBhcHBsaWNhdGlvbiwgaXQgaGFzIDQgc3Vic3lzdGVtcyxcclxuICogdGhlIHJlc291cmNlIG1hbmFnZXIsIHRoZSBzY2VuZSBncmFwaCwgdGhlIHJlbmRlcmluZyBzeXN0ZW0sIGFuZFxyXG4gKiB0aGUgVUkgY29udHJvbGxlci4gSW4gYWRkaXRpb24gaXQgc2VydmVzIGFzIHRoZSBnYW1lIGxvb3AsIHByb3ZpZGluZ1xyXG4gKiBib3RoIGFuIHVwZGF0ZSBhbmQgZHJhdyBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBvbiBhIHNjaGVkdWxlLlxyXG4gKi9cclxuaW1wb3J0IHtHYW1lTG9vcFRlbXBsYXRlfSBmcm9tICcuL2xvb3AvR2FtZUxvb3BUZW1wbGF0ZSdcclxuaW1wb3J0IHtXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW19IGZyb20gJy4vcmVuZGVyaW5nL1dlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSdcclxuaW1wb3J0IHtTY2VuZUdyYXBofSBmcm9tICcuL3NjZW5lL1NjZW5lR3JhcGgnXHJcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGV9IGZyb20gJy4vc2NlbmUvc3ByaXRlL0FuaW1hdGVkU3ByaXRlJ1xyXG5pbXBvcnQge1RpbGVkTGF5ZXJ9IGZyb20gJy4vc2NlbmUvdGlsZXMvVGlsZWRMYXllcidcclxuaW1wb3J0IHtSZXNvdXJjZU1hbmFnZXJ9IGZyb20gJy4vZmlsZXMvUmVzb3VyY2VNYW5hZ2VyJ1xyXG5pbXBvcnQge1VJQ29udHJvbGxlcn0gZnJvbSAnLi91aS9VSUNvbnRyb2xsZXInXHJcbmltcG9ydCB7Vmlld3BvcnR9IGZyb20gJy4vc2NlbmUvVmlld3BvcnQnXHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZSBleHRlbmRzIEdhbWVMb29wVGVtcGxhdGUge1xyXG4gICAgcHJpdmF0ZSByZXNvdXJjZU1hbmFnZXIgOiBSZXNvdXJjZU1hbmFnZXI7XHJcbiAgICBwcml2YXRlIHNjZW5lR3JhcGggOiBTY2VuZUdyYXBoO1xyXG4gICAgcHJpdmF0ZSByZW5kZXJpbmdTeXN0ZW0gOiBXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW07XHJcbiAgICBwcml2YXRlIHVpQ29udHJvbGxlciA6IFVJQ29udHJvbGxlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZ2FtZUNhbnZhc0lkIDogc3RyaW5nLCB0ZXh0Q2FudmFzSWQgOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucmVzb3VyY2VNYW5hZ2VyPSBuZXcgUmVzb3VyY2VNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZUdyYXBoPSBuZXcgU2NlbmVHcmFwaCgpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyaW5nU3lzdGVtPSBuZXcgV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtKGdhbWVDYW52YXNJZCwgdGV4dENhbnZhc0lkKTtcclxuICAgICAgICB0aGlzLnVpQ29udHJvbGxlciA9IG5ldyBVSUNvbnRyb2xsZXIoZ2FtZUNhbnZhc0lkLCB0aGlzLnNjZW5lR3JhcGgpO1xyXG5cclxuICAgICAgICAvLyBNQUtFIFNVUkUgVEhFIFNDRU5FIEdSQVBIJyBTIFZJRVdQT1JUIElTIFBST1BFUkxZIFNFVFVQXHJcbiAgICAgICAgbGV0IHZpZXdwb3J0V2lkdGggOiBudW1iZXIgPSAoPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGdhbWVDYW52YXNJZCkpLndpZHRoO1xyXG4gICAgICAgIGxldCB2aWV3cG9ydEhlaWdodCA6IG51bWJlciA9ICg8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZ2FtZUNhbnZhc0lkKSkuaGVpZ2h0O1xyXG4gICAgICAgIGxldCB2aWV3cG9ydCA6IFZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KHZpZXdwb3J0V2lkdGgsIHZpZXdwb3J0SGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnNjZW5lR3JhcGguc2V0Vmlld3BvcnQodmlld3BvcnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRSZW5kZXJpbmdTeXN0ZW0oKSA6IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyaW5nU3lzdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRSZXNvdXJjZU1hbmFnZXIoKSA6IFJlc291cmNlTWFuYWdlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2VNYW5hZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTY2VuZUdyYXBoKCkgOiBTY2VuZUdyYXBoIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZUdyYXBoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBiZWdpbigpIDogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICAqIFRoaXMgZHJhd3MgdGhlIGdhbWUuIE5vdGUgdGhhdCB3ZSBhcmUgbm90IGN1cnJlbnRseSB1c2luZyB0aGUgXHJcbiAgICAgKiBpbnRlcnBvbGF0aW9uIHZhbHVlLCBidXQgY291bGQgb25jZSBwaHlzaWNzIGlzIGludm9sdmVkLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZHJhdyhpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICAvLyBHRVQgVEhFIFRJTEVEIExBWUVSUyBUTyBSRU5ERVIgRlJPTSBUSEUgU0NFTkUgR1JBUEhcclxuICAgICAgICBsZXQgdmlzaWJsZUxheWVycyA6IEFycmF5PFRpbGVkTGF5ZXI+O1xyXG4gICAgICAgIHZpc2libGVMYXllcnMgPSB0aGlzLnNjZW5lR3JhcGguZ2V0VGlsZWRMYXllcnMoKTtcclxuXHJcbiAgICAgICAgLy8gR0VUIFRIRSBWSVNJQkxFIFNFVCBGUk9NIFRIRSBTQ0VORSBHUkFQSFxyXG4gICAgICAgIGxldCB2aXNpYmxlU3ByaXRlcyA6IEFycmF5PEFuaW1hdGVkU3ByaXRlPjtcclxuICAgICAgICB2aXNpYmxlU3ByaXRlcyA9IDxBcnJheTxBbmltYXRlZFNwcml0ZT4+dGhpcy5zY2VuZUdyYXBoLnNjb3BlKCk7XHJcblxyXG4gICAgICAgIGxldCB2aWV3cG9ydCA6IFZpZXdwb3J0ID0gdGhpcy5zY2VuZUdyYXBoLmdldFZpZXdwb3J0KCk7XHJcblxyXG4gICAgICAgIC8vIFJFTkRFUiBUSEUgVklTSUJMRSBTRVQsIFdISUNIIFNIT1VMRCBBTEwgQkUgUkVOREVSQUJMRVxyXG4gICAgICAgIHRoaXMucmVuZGVyaW5nU3lzdGVtLnJlbmRlcih2aWV3cG9ydCwgdmlzaWJsZUxheWVycywgdmlzaWJsZVNwcml0ZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgc2NlbmUuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGUoZGVsdGEgOiBudW1iZXIpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zY2VuZUdyYXBoLnVwZGF0ZShkZWx0YSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgRlBTIGNvdW50ZXIuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBlbmQoZnBzIDogbnVtYmVyLCBwYW5pYyA6IGJvb2xlYW4pIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHBhbmljKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNjYXJkZWRUaW1lID0gTWF0aC5yb3VuZCh0aGlzLnJlc2V0RnJhbWVEZWx0YSgpKTtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdNYWluIGxvb3AgcGFuaWNrZWQsIHByb2JhYmx5IGJlY2F1c2UgdGhlIGJyb3dzZXIgdGFiIHdhcyBwdXQgaW4gdGhlIGJhY2tncm91bmQuIERpc2NhcmRpbmcgJyArIGRpc2NhcmRlZFRpbWUgKyAnbXMnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvKlxyXG4gKiBSZXNvdXJjZU1hbmFnZXIuanNcclxuICpcclxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgbWFuYWdpbmcgYWxsIHNoYXJlZCByZXNvdXJjZXMuIFRoaXMgbWVhbnMgdGhpbmdzXHJcbiAqIHRoYXQgbWF5IGJlIG5lZWRlZCBieSBtdWx0aXBsZSBnYW1lIG9iamVjdHMuIEluIHRoaXMgYXBwbGljYXRpb24gdGhpcyBtZWFuc1xyXG4gKiB0ZXh0dXJlcyBmb3IgdGhlIHB1cnBvc2Ugb2YgR1BVIHJlbmRlcmluZyBhbmQgYW5pbWF0ZWQgc3ByaXRlIHR5cGVzLlxyXG4gKi9cclxuaW1wb3J0IHsgU3ByaXRlVHlwZURhdGEsIEFuaW1hdGlvblN0YXRlRGF0YSB9IGZyb20gJy4vU3ByaXRlVHlwZURhdGEnXHJcbmltcG9ydCB7IE1hcERhdGEsIFRpbGVkTGF5ZXJEYXRhLCBUaWxlZExheWVyUHJvcGVydHksIFRpbGVTZXREYXRhIH0gZnJvbSAnLi9NYXBEYXRhJ1xyXG5pbXBvcnQgeyBTY2VuZURhdGEsIE5hbWVkUGF0aCB9IGZyb20gJy4vU2NlbmVEYXRhJ1xyXG5pbXBvcnQgeyBXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtJ1xyXG5pbXBvcnQgeyBXZWJHTEdhbWVUZXh0dXJlIH0gZnJvbSAnLi4vcmVuZGVyaW5nL1dlYkdMR2FtZVRleHR1cmUnXHJcbmltcG9ydCB7IEFuaW1hdGVkU3ByaXRlVHlwZSB9IGZyb20gJy4uL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZVR5cGUnXHJcbmltcG9ydCB7IFNjZW5lR3JhcGggfSBmcm9tICcuLi9zY2VuZS9TY2VuZUdyYXBoJ1xyXG5pbXBvcnQgeyBUaWxlZExheWVyIH0gZnJvbSAnLi4vc2NlbmUvdGlsZXMvVGlsZWRMYXllcidcclxuaW1wb3J0IHsgVGlsZVNldCB9IGZyb20gJy4uL3NjZW5lL3RpbGVzL1RpbGVTZXQnXHJcblxyXG5leHBvcnQgY2xhc3MgUmVzb3VyY2VNYW5hZ2VyIHtcclxuICAgIC8vIEdBTUUgU0hBREVSIFBST0dSQU0gU09VUkNFIENPREUgV0lMTCBCRSBMT0FERUQgSEVSRS4gTk9URSBUSEFUXHJcbiAgICAvLyBXRSBIQVZFIE9ORSBNQVAgRk9SIE1BUFBJTkcgVEhFIFNIQURFUiBOQU1FIFRPIFRIRSBTT1VSQ0UgQ09ERVxyXG4gICAgLy8gQU5EIEFOT1RIRVIgRk9SIE1BUFBJTkcgVEhFIFNIQURFUiBOQU1FIFRPIFRIRSBGSUxFIFBBVEhcclxuICAgIHByaXZhdGUgZ2FtZVNoYWRlcnNTb3VyY2U6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIGdhbWVTaGFkZXJzU291cmNlUGF0aHM6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIG51bVNoYWRlcnNUb0xvYWQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbnVtU2hhZGVyc0xvYWRlZDogbnVtYmVyO1xyXG5cclxuICAgIC8vIFNQUklURSBUWVBFU1xyXG4gICAgcHJpdmF0ZSBnYW1lU3ByaXRlVHlwZXM6IE1hcDxzdHJpbmcsIEFuaW1hdGVkU3ByaXRlVHlwZT4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIGdhbWVTcHJpdGVUeXBlUGF0aHM6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIG51bVNwcml0ZVR5cGVzVG9Mb2FkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG51bVNwcml0ZVR5cGVzTG9hZGVkOiBudW1iZXI7XHJcblxyXG4gICAgLy8gVElMRSBTRVRTXHJcbiAgICBwcml2YXRlIGdhbWVUaWxlU2V0czogTWFwPHN0cmluZywgVGlsZVNldD4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIGdhbWVUaWxlU2V0UGF0aHM6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIG51bVRpbGVTZXRzVG9Mb2FkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG51bVRpbGVTZXRzTG9hZGVkOiBudW1iZXI7XHJcblxyXG4gICAgLy8gR0FNRSBURVhUVVJFUyBcclxuICAgIHByaXZhdGUgZ2FtZVRleHR1cmVzOiBNYXA8c3RyaW5nLCBXZWJHTEdhbWVUZXh0dXJlPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgbnVtVGV4dHVyZXNUb0xvYWQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbnVtVGV4dHVyZXNMb2FkZWQ6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICAvLyBBQ0NFU1NPUiBNRVRIT0RTXHJcblxyXG4gICAgcHVibGljIGdldFNoYWRlclNvdXJjZShzaGFkZXJOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVTaGFkZXJzU291cmNlLmdldChzaGFkZXJOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QW5pbWF0ZWRTcHJpdGVUeXBlKHNwcml0ZVR5cGVOYW1lOiBzdHJpbmcpOiBBbmltYXRlZFNwcml0ZVR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVTcHJpdGVUeXBlcy5nZXQoc3ByaXRlVHlwZU5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaWxlU2V0KHRpbGVTZXROYW1lOiBzdHJpbmcpOiBUaWxlU2V0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lVGlsZVNldHMuZ2V0KHRpbGVTZXROYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGV4dHVyZSh0ZXh0dXJlUGF0aDogc3RyaW5nKTogV2ViR0xHYW1lVGV4dHVyZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZVRleHR1cmVzLmdldCh0ZXh0dXJlUGF0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyKCkgOiB2b2lkIHtcclxuICAgICAgICAvLyBDTEVBUiBUSEUgU0hBREVSIFNPVVJDRSBcclxuICAgICAgICB0aGlzLmdhbWVTaGFkZXJzU291cmNlLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2hhZGVyc1NvdXJjZVBhdGhzLmNsZWFyKCk7XHJcblxyXG4gICAgICAgIC8vIENMRUFSIFRIRSBTUFJJVEUgVFlQRVNcclxuICAgICAgICB0aGlzLmdhbWVTcHJpdGVUeXBlcy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNwcml0ZVR5cGVQYXRocy5jbGVhcigpO1xyXG5cclxuICAgICAgICAvLyBDTEVBUiBUSEUgVEVYVFVSRVNcclxuICAgICAgICB0aGlzLmdhbWVUZXh0dXJlcy5jbGVhcigpO1xyXG5cclxuICAgICAgICAvLyBXRSBSRUFMTFkgU0hPVUxEIEFERCBGVU5DVElPTkFMSVRZIFRPIFJFTU9WRVxyXG4gICAgICAgIC8vIEFMTCBUSEUgUkVTT1VSQ0VTIEZST00gVEhFIEdQVSBPTkUgQlkgT05FXHJcbiAgICAgICAgLy8gQlVUIFRIQVQnUyBTT01FVEhJTkcgRk9SIFRIRSBGVVRVUkVcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGxvYWRTY2VuZSBpcyByZXNwb25zaWJsZSBmb3IgbG9hZGluZyBhbGwgdGhlIGV4dGVybmFsIGZpbGVzIG5lZWRlZCBmb3JcclxuICAgICAqIHBsYXlpbmcgdGhlIGdhbWUuIFRoZXNlIHdpbGwgYmUgdXNlZCBmb3IgbG9hZGluZyB0aGUgc2NlbmUsIG1hcHMsXHJcbiAgICAgKiBhbmltYXRlZCBzcHJpdGVzLCB0ZXh0dXJlcywgYW5kIHNoYWRlcnMuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsb2FkU2NlbmUoICAgc2NlbmVQYXRoOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjZW5lR3JhcGg6IFNjZW5lR3JhcGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ1N5c3RlbTogV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICAvLyBDTEVBUiBUSEUgU0NFTkUgR1JBUEggVE8gR0VUIFJJRCBPRiBBTEwgVEhFIE9MRCBTVFVGRlxyXG4gICAgICAgIC8vIFRIQVQgTUFZIEhBVkUgQkVFTiBMT0FERUQgRk9SIFNPTUUgT1RIRVIgTEVWRUxcclxuICAgICAgICBzY2VuZUdyYXBoLmNsZWFyKCk7XHJcblxyXG4gICAgICAgIC8vIENMRUFSIEFMTCBUSEUgU0NFTkUgUkVTT1VSQ0VTIFxyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgLy8gV0UgSEFWRSBPVVIgT1dOIENVU1RPTSBKU09OIEZJTEUgRk9STUFUIFRPIFJFUFJFU0VOVCBPVVIgU0NFTkVcclxuICAgICAgICBsZXQgdGhpc1Jlc291cmNlTWFuYWdlcjogUmVzb3VyY2VNYW5hZ2VyID0gdGhpcztcclxuICAgICAgICB0aGlzLmxvYWRUZXh0RmlsZShzY2VuZVBhdGgsIGZ1bmN0aW9uIChqc29uU2NlbmVUZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgbGV0IHNjZW5lRGF0YTogU2NlbmVEYXRhID0gPFNjZW5lRGF0YT5KU09OLnBhcnNlKGpzb25TY2VuZVRleHQpO1xyXG4gICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmxvYWRTaGFkZXJzU291cmNlKHJlbmRlcmluZ1N5c3RlbSwgc2NlbmVEYXRhLnNoYWRlclNvdXJjZVBhdGhzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBORVhUIExPQUQgVEhFIE1BUCwgV0hJQ0ggV0lMTCBGT1JDRSBBIExPQURJTkcgT0ZcclxuICAgICAgICAgICAgICAgIC8vIEFOWSBVU0VEIFRJTEUgU0VUIFRFWFRVUkVTIEFTIFdFTEwgQVMgVEhFIENSRUFUSU9OXHJcbiAgICAgICAgICAgICAgICAvLyBPRiBUSUxFRCBMQVlFUlMgVE8gQkUgQURERUQgVE8gVEhFIFNDRU5FXHJcbiAgICAgICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmxvYWRNYXAoc2NlbmVEYXRhLm1hcFBhdGgsIHJlbmRlcmluZ1N5c3RlbSwgc2NlbmVHcmFwaCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVyBUSEFUIFRIRSBNQVAgSEFTIEJFRU4gTE9BREVEIExPQUQgQUxMIFRIRSBTUFJJVEUgVFlQRVNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmxvYWRTcHJpdGVUeXBlcyhyZW5kZXJpbmdTeXN0ZW0sIHNjZW5lRGF0YS5zcHJpdGVUeXBlUGF0aHMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTk9XIFdFIENBTiBJTklUIEFMTCBTSEFERVJTXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNSZXNvdXJjZU1hbmFnZXIuaW5pdEFsbFNoYWRlcnMocmVuZGVyaW5nU3lzdGVtLCBzY2VuZUdyYXBoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXRBbGxTaGFkZXJzKCAgcmVuZGVyaW5nU3lzdGVtOiBXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2VuZUdyYXBoOiBTY2VuZUdyYXBoKTogdm9pZCB7XHJcbiAgICAgICAgLy8gU0VUVVAgVEhFIFNQUklURSBSRU5ERVJFUiBGT1IgVVNFIFdJVEggVEhFIFNQUklURSBTSEFERVIgVEhBVCdTIEJFRU4gTE9BREVEXHJcbiAgICAgICAgbGV0IHNwcml0ZVJlbmRlcmVyVmVydGV4U2hhZGVyU291cmNlOiBzdHJpbmcgPSB0aGlzLmdldFNoYWRlclNvdXJjZShcIlNQUklURV9WRVJURVhfU0hBREVSXCIpO1xyXG4gICAgICAgIGxldCBzcHJpdGVSZW5kZXJlckZyYWdtZW50U2hhZGVyU291cmNlOiBzdHJpbmcgPSB0aGlzLmdldFNoYWRlclNvdXJjZShcIlNQUklURV9GUkFHTUVOVF9TSEFERVJcIik7XHJcbiAgICAgICAgcmVuZGVyaW5nU3lzdGVtLmdldFNwcml0ZVJlbmRlcmVyKCkuaW5pdChyZW5kZXJpbmdTeXN0ZW0uZ2V0V2ViR0woKSwgc3ByaXRlUmVuZGVyZXJWZXJ0ZXhTaGFkZXJTb3VyY2UsIHNwcml0ZVJlbmRlcmVyRnJhZ21lbnRTaGFkZXJTb3VyY2UsIG51bGwpO1xyXG5cclxuICAgICAgICAvLyBTRVRVUCBUSEUgVElMRUQgTEFZRVIgUkVOREVSRVIgRk9SIFVTRSBXSVRIIFRIRSBUSUxFRCBTSEFERVIgVEhBVCdTIEJFRU4gTE9BREVEXHJcbiAgICAgICAgbGV0IHRpbGVkTGF5ZXJWZXJ0ZXhTaGFkZXJTb3VyY2U6IHN0cmluZyA9IHRoaXMuZ2V0U2hhZGVyU291cmNlKFwiVElMRURfTEFZRVJfVkVSVEVYX1NIQURFUlwiKTtcclxuICAgICAgICBsZXQgdGlsZWRMYXllckZyYWdtZW50U2hhZGVyU291cmNlOiBzdHJpbmcgPSB0aGlzLmdldFNoYWRlclNvdXJjZShcIlRJTEVEX0xBWUVSX0ZSQUdNRU5UX1NIQURFUlwiKTtcclxuICAgICAgICByZW5kZXJpbmdTeXN0ZW0uZ2V0VGlsZWRMYXllclJlbmRlcmVyKCkuaW5pdChyZW5kZXJpbmdTeXN0ZW0uZ2V0V2ViR0woKSwgdGlsZWRMYXllclZlcnRleFNoYWRlclNvdXJjZSwgdGlsZWRMYXllckZyYWdtZW50U2hhZGVyU291cmNlLCBzY2VuZUdyYXBoLmdldFRpbGVkTGF5ZXJzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkU2hhZGVyc1NvdXJjZSggICByZW5kZXJpbmdTeXN0ZW06IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lZFBhdGhzOiBBcnJheTxOYW1lZFBhdGg+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgICAgIC8vIFNUQVJUIEJZIExPQURJTkcgQUxMIFRIRSBTSEFERVIgU09VUkNFIEZJTEVTIFRIRVNFIENBTiBUSEVOIEJFXHJcbiAgICAgICAgLy8gUkVUUklFVkVEIExBVEVSIEJZIFRIRSBSRU5ERVJFUlMgV0hFTiBJVFMgVElNRSBUTyBCVUlMRCBUSEUgXHJcbiAgICAgICAgLy8gU0hBREVSIFBST0dSQU1TXHJcbiAgICAgICAgbGV0IHRoaXNSZXNvdXJjZU1hbmFnZXI6IFJlc291cmNlTWFuYWdlciA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5udW1TaGFkZXJzTG9hZGVkID0gMDtcclxuICAgICAgICB0aGlzLm51bVNoYWRlcnNUb0xvYWQgPSBuYW1lZFBhdGhzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgbmFtZWRQYXRocy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbmFtZWRQYXRoOiBOYW1lZFBhdGggPSBuYW1lZFBhdGhzW2ldO1xyXG4gICAgICAgICAgICBsZXQgc2hhZGVyTmFtZTogc3RyaW5nID0gbmFtZWRQYXRoLm5hbWU7XHJcbiAgICAgICAgICAgIGxldCBzaGFkZXJQYXRoOiBzdHJpbmcgPSBuYW1lZFBhdGgucGF0aDtcclxuICAgICAgICAgICAgdGhpcy5sb2FkVGV4dEZpbGUoc2hhZGVyUGF0aCwgZnVuY3Rpb24gKHNoYWRlclNvdXJjZUNvZGU6IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5nYW1lU2hhZGVyc1NvdXJjZS5zZXQoc2hhZGVyTmFtZSwgc2hhZGVyU291cmNlQ29kZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmdhbWVTaGFkZXJzU291cmNlUGF0aHMuc2V0KHNoYWRlck5hbWUsIHNoYWRlclBhdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5jb21wbGV0ZUxvYWRpbmdTaGFkZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFMTCBTT1VSQ0UgQ09ERSBJUyBMT0FERUQgU08gRE8gV0hBVCdTIE5FWFRcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYnVpbGRQYXRoVG9GaWxlSW5TYW1lRGlyZWN0b3J5KGJhc2VGaWxlV2l0aFBhdGggOiBzdHJpbmcsIHRhcmdldEZpbGVOYW1lIDogc3RyaW5nKSA6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxhc3RJbmRleE9mU2xhc2g6IG51bWJlciA9IGJhc2VGaWxlV2l0aFBhdGgubGFzdEluZGV4T2YoJy8nKTtcclxuICAgICAgICBsZXQgdGFyZ2V0RmlsZVBhdGggOiBzdHJpbmcgPSBcIi4vXCI7XHJcbiAgICAgICAgaWYgKGxhc3RJbmRleE9mU2xhc2ggPiAwKVxyXG4gICAgICAgICAgICB0YXJnZXRGaWxlUGF0aCA9IGJhc2VGaWxlV2l0aFBhdGguc3Vic3RyaW5nKDAsIGxhc3RJbmRleE9mU2xhc2gpO1xyXG4gICAgICAgIHRhcmdldEZpbGVQYXRoICs9IFwiL1wiICsgdGFyZ2V0RmlsZU5hbWU7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldEZpbGVQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkTWFwKCBtYXBQYXRoOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nU3lzdGVtOiBXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2NlbmVHcmFwaDogU2NlbmVHcmFwaCxcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgdGhpc1Jlc291cmNlTWFuYWdlcjogUmVzb3VyY2VNYW5hZ2VyID0gdGhpcztcclxuICAgICAgICB0aGlzLmxvYWRUZXh0RmlsZShtYXBQYXRoLCBmdW5jdGlvbiAoanNvbk1hcFRleHQ6IHN0cmluZykge1xyXG4gICAgICAgICAgICBsZXQgbWFwRGF0YTogTWFwRGF0YSA9IDxNYXBEYXRhPkpTT04ucGFyc2UoanNvbk1hcFRleHQpO1xyXG5cclxuICAgICAgICAgICAgLy8gV0UgT05MWSBVU0UgT05FIFRJTEUgU0VUXHJcbiAgICAgICAgICAgIGxldCB0aWxlc2V0RmlsZU5hbWU6IHN0cmluZyA9IG1hcERhdGEudGlsZXNldHNbMF0uaW1hZ2U7XHJcbiAgICAgICAgICAgIGxldCB0aWxlc2V0RmlsZVBhdGggPSB0aGlzUmVzb3VyY2VNYW5hZ2VyLmJ1aWxkUGF0aFRvRmlsZUluU2FtZURpcmVjdG9yeShtYXBQYXRoLCB0aWxlc2V0RmlsZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gVVNFIFRIRSBQQVRIUyBUT0xPQUQgVEhFIFRJTEUgU0VUIFRFWFRVUkVTXHJcbiAgICAgICAgICAgIHRoaXNSZXNvdXJjZU1hbmFnZXIubG9hZFRleHR1cmUodGlsZXNldEZpbGVQYXRoLCByZW5kZXJpbmdTeXN0ZW0sIGZ1bmN0aW9uICh0aWxlc2V0VGV4dHVyZSA6IFdlYkdMR2FtZVRleHR1cmUpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5PVyBUSEFUIFRIRSBUSUxFIFNFVCBURVhUVVJFUyBIQVZFIEJFRU4gTE9BREVELFxyXG4gICAgICAgICAgICAgICAgLy8gTE9BRCBBTEwgVEhFSVIgQVNTT0NJQVRFRCBUSUxFU0VUIERBVEFcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFwRGF0YS50aWxlc2V0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0aWxlU2V0RGF0YSA6IFRpbGVTZXREYXRhID0gbWFwRGF0YS50aWxlc2V0c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcm93cyA6IG51bWJlciA9IE1hdGguY2VpbCh0aWxlU2V0RGF0YS50aWxlY291bnQvdGlsZVNldERhdGEuY29sdW1ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRpbGVTZXRUb0FkZCA6IFRpbGVTZXQgPSBuZXcgVGlsZVNldChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVTZXREYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlU2V0RGF0YS5jb2x1bW5zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVTZXREYXRhLnRpbGV3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVTZXREYXRhLnRpbGVoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWxlU2V0RGF0YS5zcGFjaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVNldERhdGEuaW1hZ2V3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVTZXREYXRhLmltYWdlaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVNldERhdGEuZmlyc3RnaWQgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZXNldFRleHR1cmUpOyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5nYW1lVGlsZVNldHMuc2V0KHRpbGVTZXRUb0FkZC5nZXROYW1lKCksIHRpbGVTZXRUb0FkZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQU5EIE5PVyBUSEFUIFRIRSBUSUxFIFNFVFMgSEFWRSBCRUVOIExPQURFRFxyXG4gICAgICAgICAgICAgICAgLy8gV0UgQ0FOIExPQUQgVEhFIE1BUCdTIFRJTEVEIExBWUVSUywgVEhPVUdIIE5PVEVcclxuICAgICAgICAgICAgICAgIC8vIElOIFRISVMgRVhBTVBMRSBXRSBBUkUgR09JTkcgVE8gS0VFUCBJVCBTSU1QTEVcclxuICAgICAgICAgICAgICAgIC8vIEFORCBBU1NVTUUgVEhFUkUgSVMgT05MWSBPTkUgVElMRSBTRVRcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFwRGF0YS5sYXllcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGF5ZXJEYXRhIDogVGlsZWRMYXllckRhdGEgPSBtYXBEYXRhLmxheWVyc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVEhJUyBMSU5FIE9GIENPREUgSVMgRlVOS1ksIFdFIENBTiBPTkxZIERPIFRISVMgV0lUSCBBIFNJTkdMRSBUSUxFIFNFVCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBTTyBUTyBNQUtFIFRISVMgQSBSRUFMIEdBTUUgRU5HSU5FIFRISVMgV09VTEQgTkVFRCBUTyBCRSBGSVhFRFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXllclRpbGVTZXQgOiBUaWxlU2V0ID0gdGhpc1Jlc291cmNlTWFuYWdlci5nYW1lVGlsZVNldHMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBXRSBBUkUgQVNTVU1JTkcgRUFDSCBMQVlFUiBVU0VTIEpVU1QgT05FIFRJTEUgU0VULCBXSElDSCBNSUdIVCBOT1RcclxuICAgICAgICAgICAgICAgICAgICAvLyBORUNFU1NBUklMWSBCRSBUUlVFLiBCVVQgRk9SIE5PVywgTEVUJ1MgSlVTVCBNQUtFIFRIRSBMQVlFUlMgQUxMXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVVNJTkcgVEhFIFNBTUUgVElMRSBTRVQsIEFERCBUSEUgVElMRVMsIEFORCBUSEVOIEFERCBUSEVNIFRPIFRIRSBTQ0VORSBHUkFQSFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0aWxlZExheWVyIDogVGlsZWRMYXllciA9IG5ldyBUaWxlZExheWVyKGxheWVyRGF0YS53aWR0aCwgbGF5ZXJEYXRhLmhlaWdodCxsYXllclRpbGVTZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGF5ZXJEYXRhLmRhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbGVJbmRleCA6IG51bWJlciA9IGxheWVyRGF0YS5kYXRhW2pdIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZWRMYXllci5hZGRUaWxlKHRpbGVJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNjZW5lR3JhcGguYWRkTGF5ZXIodGlsZWRMYXllcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICAqIExvYWRzIHRoZSB0ZXh0dXJlUGF0aCBmaWxlIGFyZ3VtZW50IGFuZCBvbmNlXHJcbiAgICAgKiB0aGF0IGlzIGRvbmUgaXQgY2FsbHMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbG9hZFRleHR1cmUodGV4dHVyZVBhdGg6IHN0cmluZyxcclxuICAgICAgICByZW5kZXJpbmdTeXN0ZW06IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSxcclxuICAgICAgICBjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgdGhpc1Jlc291cmNlTWFuYWdlciA9IHRoaXM7XHJcbiAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5sb2FkSW1hZ2UodGV4dHVyZVBhdGgsIGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0dXJlVG9Mb2FkOiBXZWJHTEdhbWVUZXh0dXJlID0gbmV3IFdlYkdMR2FtZVRleHR1cmUoKTtcclxuICAgICAgICAgICAgbGV0IGlkOiBudW1iZXIgPSB0aGlzUmVzb3VyY2VNYW5hZ2VyLmdhbWVUZXh0dXJlcy5zaXplO1xyXG4gICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmdhbWVUZXh0dXJlcy5zZXQocGF0aCwgdGV4dHVyZVRvTG9hZCk7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZ1N5c3RlbS5pbml0V2ViR0xUZXh0dXJlKHRleHR1cmVUb0xvYWQsIGlkLCBpbWFnZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGV4dHVyZVRvTG9hZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBMb2FkcyBhbGwgdGhlIHNwcml0ZSB0eXBlcyBsaXN0ZWQgaW4gdGhlIHNwcml0ZVR5cGVQYXRocyBhcmd1bWVudCBhbmQgb25jZVxyXG4gICAgICogdGhhdCBpcyBkb25lIGl0IGNhbGxzIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGxvYWRTcHJpdGVUeXBlcyggcmVuZGVyaW5nU3lzdGVtIDogV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlVHlwZVBhdGhzOiBBcnJheTxOYW1lZFBhdGg+LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgLy8gVEhFTiBMT0FEIFRIRSBURVhUVVJFUyBXRSdMTCBCRSBVU0lOR1xyXG4gICAgICAgIHRoaXMubnVtU3ByaXRlVHlwZXNUb0xvYWQgPSBzcHJpdGVUeXBlUGF0aHMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMubnVtU3ByaXRlVHlwZXNMb2FkZWQgPSAwO1xyXG4gICAgICAgIGxldCB0aGlzUmVzb3VyY2VNYW5hZ2VyID0gdGhpcztcclxuICAgICAgICBmb3IgKGxldCBuYW1lZFBhdGggb2Ygc3ByaXRlVHlwZVBhdGhzKSB7XHJcbiAgICAgICAgICAgIGxldCBuYW1lOiBzdHJpbmcgPSBuYW1lZFBhdGgubmFtZTtcclxuICAgICAgICAgICAgbGV0IHBhdGg6IHN0cmluZyA9IG5hbWVkUGF0aC5wYXRoO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTcHJpdGVUeXBlKHJlbmRlcmluZ1N5c3RlbSwgbmFtZSwgcGF0aCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5jb21wbGV0ZUxvYWRpbmdTcHJpdGVUeXBlKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBSSVZBVEUgSEVMUEVSIE1FVEhPRFNcclxuXHJcbiAgICAvLyBMT0FEUyBBIE5FVyBKU09OIEZJTEUgQU5EIFVQT04gQ09NUExFVElPTiBDQUxMUyBUSEUgY2FsbGJhY2sgRlVOQ1RJT05cclxuICAgIHByaXZhdGUgbG9hZFRleHRGaWxlKHRleHRGaWxlUGF0aDogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgeG9iajogWE1MSHR0cFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4b2JqLm92ZXJyaWRlTWltZVR5cGUoXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG4gICAgICAgIHhvYmoub3BlbignR0VUJywgdGV4dEZpbGVQYXRoLCB0cnVlKTtcclxuICAgICAgICB4b2JqLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCh4b2JqLnJlYWR5U3RhdGUgPT0gNCkgJiYgKHhvYmouc3RhdHVzID09IDIwMCkpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHhvYmoucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgeG9iai5zZW5kKG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENIRUNLUyBUTyBTRUUgSUYgQUxMIFNIQURFUiBMT0FESU5HIElTIENPTVBMRVRFLCBJRiBZRVMsIGNhbGxiYWNrIElTIElOVk9LRURcclxuICAgIHByaXZhdGUgY29tcGxldGVMb2FkaW5nU2hhZGVyKGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubnVtU2hhZGVyc0xvYWRlZCsrO1xyXG4gICAgICAgIGlmICh0aGlzLm51bVNoYWRlcnNMb2FkZWQgPT09IHRoaXMubnVtU2hhZGVyc1RvTG9hZCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDSEVDS1MgVE8gU0VFIElGIEFMTCBTUFJJVEUgVFlQRSBMT0FESU5HIElTIENPTVBMRVRFLCBJRiBZRVMsIGNhbGxiYWNrIElTIElOVk9LRURcclxuICAgIHByaXZhdGUgY29tcGxldGVMb2FkaW5nU3ByaXRlVHlwZShjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm51bVNwcml0ZVR5cGVzTG9hZGVkKys7XHJcbiAgICAgICAgaWYgKHRoaXMubnVtU3ByaXRlVHlwZXNMb2FkZWQgPT09IHRoaXMubnVtU3ByaXRlVHlwZXNUb0xvYWQpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ0hFQ0tTIFRPIFNFRSBJRiBBTEwgVEVYVFVSRSBMT0FESU5HIElTIENPTVBMRVRFLCBJRiBZRVMsIGNhbGxiYWNrIElTIElOVk9LRURcclxuICAgIHByaXZhdGUgY29tcGxldGVMb2FkaW5nVGV4dHVyZShjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm51bVRleHR1cmVzTG9hZGVkKys7XHJcbiAgICAgICAgaWYgKHRoaXMubnVtVGV4dHVyZXNMb2FkZWQgPT09IHRoaXMubnVtVGV4dHVyZXNUb0xvYWQpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkcyBhbiBJbWFnZSBpbnRvIFJBTSBhbmQgb25jZSB0aGF0IHByb2Nlc3MgaXMgY29tcGxldGUgaXRcclxuICAgICAqIGNhbGxzIHRoZSBjYWxsYmFjayBtZXRob2QgYXJndW1lbnQsIHByZXN1bWFibHkgdG8gdGhlbiBsb2FkXHJcbiAgICAgKiBpdCBpbnRvIEdQVSBtZW1vcnkuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbG9hZEltYWdlKHBhdGg6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgLy8gTUFLRSBUSEUgSU1BR0VcclxuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgLy8gT05DRSBUSEUgSU1BR0UgTE9BRElORyBJUyBDT01QTEVURUQsIFRIRSBDQUxMQkFDSyBXSUxMIEdFVCBDQUxMRURcclxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHBhdGgsIGltYWdlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNUQVJUIElNQUdFIExPQURJTkdcclxuICAgICAgICBpbWFnZS5zcmMgPSBwYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGxvYWRzIGEgc2luZ2xlIHNwcml0ZSB0eXBlIHJlc291cmNlIGZyb20gYSBKU09OIGZpbGUgYW5kIHVwb25cclxuICAgICAqIGNvbXBsZXRpb24gY2FsbHMgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGxvYWRTcHJpdGVUeXBlKHJlbmRlcmluZ1N5c3RlbSA6IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSwgc3ByaXRlVHlwZU5hbWU6IHN0cmluZywganNvbkZpbGVQYXRoOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xyXG4gICAgICAgIGxldCB0aGlzUmVzb3VyY2VNYW5hZ2VyOiBSZXNvdXJjZU1hbmFnZXIgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubG9hZFRleHRGaWxlKGpzb25GaWxlUGF0aCwgZnVuY3Rpb24gKGpzb25UZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5sb2FkU3ByaXRlVHlwZURhdGEocmVuZGVyaW5nU3lzdGVtLCBqc29uRmlsZVBhdGgsIGpzb25UZXh0LCBmdW5jdGlvbihzcHJpdGVUeXBlIDogQW5pbWF0ZWRTcHJpdGVUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmdhbWVTcHJpdGVUeXBlcy5zZXQoc3ByaXRlVHlwZU5hbWUsIHNwcml0ZVR5cGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5nYW1lU3ByaXRlVHlwZVBhdGhzLnNldChzcHJpdGVUeXBlTmFtZSwganNvbkZpbGVQYXRoKTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBUaGlzIGhlbHBlciBmdW5jdGlvbiBsb2FkcyBhbGwgdGhlIGpzb24gdGV4dCBpbnRvIGFuIEFuaW1hdGVkU3ByaXRlVHlwZVxyXG4gICAgICogb2JqZWN0IGFuZCByZXR1cm5zIGl0LlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGxvYWRTcHJpdGVUeXBlRGF0YSA9ICggIHJlbmRlcmluZ1N5c3RlbSA6IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZUZpbGVQYXRoIDogc3RyaW5nLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvblRleHQ6IHN0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBGdW5jdGlvbik6IHZvaWQgPT4ge1xyXG4gICAgICAgIGxldCBqc29uRGF0YTogU3ByaXRlVHlwZURhdGEgPSA8U3ByaXRlVHlwZURhdGE+SlNPTi5wYXJzZShqc29uVGV4dCk7XHJcbiAgICAgICAgbGV0IHRleHR1cmVQYXRoIDogc3RyaW5nID0gdGhpcy5idWlsZFBhdGhUb0ZpbGVJblNhbWVEaXJlY3Rvcnkoc3ByaXRlRmlsZVBhdGgsIGpzb25EYXRhLnNwcml0ZVNoZWV0SW1hZ2UpO1xyXG4gICAgICAgIGxldCB0aGlzUmVzb3VyY2VNYW5hZ2VyIDogUmVzb3VyY2VNYW5hZ2VyID0gdGhpcztcclxuICAgICAgICB0aGlzLmxvYWRUZXh0dXJlKHRleHR1cmVQYXRoLCByZW5kZXJpbmdTeXN0ZW0sIGZ1bmN0aW9uKHNwcml0ZXNoZWV0VGV4dHVyZSA6IFdlYkdMR2FtZVRleHR1cmUpIHtcclxuICAgICAgICAgICAgbGV0IHNwcml0ZVdpZHRoOiBudW1iZXIgPSBqc29uRGF0YS5zcHJpdGVXaWR0aDtcclxuICAgICAgICAgICAgbGV0IHNwcml0ZUhlaWdodDogbnVtYmVyID0ganNvbkRhdGEuc3ByaXRlSGVpZ2h0O1xyXG4gICAgICAgICAgICBsZXQgYW5pbWF0ZWRTcHJpdGVUeXBlID0gbmV3IEFuaW1hdGVkU3ByaXRlVHlwZShzcHJpdGVzaGVldFRleHR1cmUsIHNwcml0ZVdpZHRoLCBzcHJpdGVIZWlnaHQpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25EYXRhLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBhbmltYXRpb24gPSA8QW5pbWF0aW9uU3RhdGVEYXRhPmpzb25EYXRhLmFuaW1hdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICBhbmltYXRlZFNwcml0ZVR5cGUuYWRkQW5pbWF0aW9uKGFuaW1hdGlvbi5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IGFuaW1hdGlvbi5mcmFtZXNbal07XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZWRTcHJpdGVUeXBlLmFkZEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbi5uYW1lLCBmcmFtZS5pbmRleCwgZnJhbWUuZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGFuaW1hdGVkU3ByaXRlVHlwZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgR2FtZUxvb3BUZW1wbGF0ZSB7XHJcbiAgICAvLyBBTEwgSU5TVEFOQ0UgVkFSSUFCTEVTIFdJTEwgQkUgSU5JVElBTElaRUQgVklBIFRIRSBDT05TVFJVQ1RPUlxyXG4gICAgcHJpdmF0ZSBmcHM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgc2ltdWxhdGlvblRpbWVzdGVwOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZyYW1lRGVsdGE6IG51bWJlcjtcclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZU1zOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwc0FscGhhOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwc1VwZGF0ZUludGVydmFsOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGxhc3RGcHNVcGRhdGU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnJhbWVzU2luY2VMYXN0RnBzVXBkYXRlOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG51bVVwZGF0ZVN0ZXBzOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG1pbkZyYW1lRGVsYXk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcnVubmluZzogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgc3RhcnRlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgcGFuaWM6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIHJhZjogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8vIEFuIGV4cG9uZW50aWFsIG1vdmluZyBhdmVyYWdlIG9mIHRoZSBmcmFtZXMgcGVyIHNlY29uZC5cclxuICAgICAgICB0aGlzLmZwcyA9IDYwO1xyXG5cclxuICAgICAgICAvLyBUaGUgYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdG8gc2ltdWxhdGUgZWFjaCB0aW1lIHVwZGF0ZSgpIHJ1bnMuXHJcbiAgICAgICAgLy8gU2VlIGBNYWluTG9vcC5zZXRTaW11bGF0aW9uVGltZXN0ZXAoKWAgZm9yIGRldGFpbHMuXHJcbiAgICAgICAgdGhpcy5zaW11bGF0aW9uVGltZXN0ZXAgPSAxMDAwIC8gdGhpcy5mcHM7XHJcblxyXG4gICAgICAgIC8vIFRoZSBjdW11bGF0aXZlIGFtb3VudCBvZiBpbi1hcHAgdGltZSB0aGF0IGhhc24ndCBiZWVuIHNpbXVsYXRlZCB5ZXQuXHJcbiAgICAgICAgLy8gU2VlIHRoZSBjb21tZW50cyBpbnNpZGUgYW5pbWF0ZSgpIGZvciBkZXRhaWxzLlxyXG4gICAgICAgIHRoaXMuZnJhbWVEZWx0YSA9IDA7XHJcblxyXG4gICAgICAgIC8vIFRoZSB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzIG9mIHRoZSBsYXN0IHRpbWUgdGhlIG1haW4gbG9vcCB3YXMgcnVuLlxyXG4gICAgICAgIC8vIFVzZWQgdG8gY29tcHV0ZSB0aGUgdGltZSBlbGFwc2VkIGJldHdlZW4gZnJhbWVzLlxyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZU1zID0gMDtcclxuXHJcbiAgICAgICAgLy8gQSBmYWN0b3IgdGhhdCBhZmZlY3RzIGhvdyBoZWF2aWx5IHRvIHdlaWdodCBtb3JlIHJlY2VudCBzZWNvbmRzJ1xyXG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIHdoZW4gY2FsY3VsYXRpbmcgdGhlIGF2ZXJhZ2UgZnJhbWVzIHBlciBzZWNvbmQuIFZhbGlkIHZhbHVlc1xyXG4gICAgICAgIC8vIHJhbmdlIGZyb20gemVybyB0byBvbmUgaW5jbHVzaXZlLiBIaWdoZXIgdmFsdWVzIHJlc3VsdCBpbiB3ZWlnaHRpbmcgbW9yZVxyXG4gICAgICAgIC8vIHJlY2VudCBzZWNvbmRzIG1vcmUgaGVhdmlseS5cclxuICAgICAgICB0aGlzLmZwc0FscGhhID0gMC45O1xyXG5cclxuICAgICAgICAvLyBUaGUgbWluaW11bSBkdXJhdGlvbiBiZXR3ZWVuIHVwZGF0ZXMgdG8gdGhlIGZyYW1lcy1wZXItc2Vjb25kIGVzdGltYXRlLlxyXG4gICAgICAgIC8vIEhpZ2hlciB2YWx1ZXMgaW5jcmVhc2UgYWNjdXJhY3ksIGJ1dCByZXN1bHQgaW4gc2xvd2VyIHVwZGF0ZXMuXHJcbiAgICAgICAgdGhpcy5mcHNVcGRhdGVJbnRlcnZhbCA9IDEwMDA7XHJcblxyXG4gICAgICAgIC8vIFRoZSB0aW1lc3RhbXAgKGluIG1pbGxpc2Vjb25kcykgb2YgdGhlIGxhc3QgdGltZSB0aGUgYGZwc2AgbW92aW5nXHJcbiAgICAgICAgLy8gYXZlcmFnZSB3YXMgdXBkYXRlZC5cclxuICAgICAgICB0aGlzLmxhc3RGcHNVcGRhdGUgPSAwO1xyXG5cclxuICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGZyYW1lcyBkZWxpdmVyZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgYGZwc2AgbW92aW5nXHJcbiAgICAgICAgLy8gYXZlcmFnZSB3YXMgdXBkYXRlZCAoaS5lLiBzaW5jZSBgbGFzdEZwc1VwZGF0ZWApLlxyXG4gICAgICAgIHRoaXMuZnJhbWVzU2luY2VMYXN0RnBzVXBkYXRlID0gMDtcclxuXHJcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiB0aW1lcyB1cGRhdGUoKSBpcyBjYWxsZWQgaW4gYSBnaXZlbiBmcmFtZS4gVGhpcyBpcyBvbmx5XHJcbiAgICAgICAgLy8gcmVsZXZhbnQgaW5zaWRlIG9mIGFuaW1hdGUoKSwgYnV0IGEgcmVmZXJlbmNlIGlzIGhlbGQgZXh0ZXJuYWxseSBzbyB0aGF0XHJcbiAgICAgICAgLy8gdGhpcyB2YXJpYWJsZSBpcyBub3QgbWFya2VkIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24gZXZlcnkgdGltZSB0aGUgbWFpblxyXG4gICAgICAgIC8vIGxvb3AgcnVucy5cclxuICAgICAgICB0aGlzLm51bVVwZGF0ZVN0ZXBzID0gMDtcclxuXHJcbiAgICAgICAgLy8gVGhlIG1pbmltdW0gYW1vdW50IG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRoYXQgbXVzdCBwYXNzIHNpbmNlIHRoZSBsYXN0XHJcbiAgICAgICAgLy8gZnJhbWUgd2FzIGV4ZWN1dGVkIGJlZm9yZSBhbm90aGVyIGZyYW1lIGNhbiBiZSBleGVjdXRlZC4gVGhlXHJcbiAgICAgICAgLy8gbXVsdGlwbGljYXRpdmUgaW52ZXJzZSBjYXBzIHRoZSBGUFMgKHRoZSBkZWZhdWx0IG9mIHplcm8gbWVhbnMgdGhlcmUgaXNcclxuICAgICAgICAvLyBubyBjYXApLlxyXG4gICAgICAgIHRoaXMubWluRnJhbWVEZWxheSA9IDA7XHJcblxyXG4gICAgICAgIC8vIFdoZXRoZXIgdGhlIG1haW4gbG9vcCBpcyBydW5uaW5nLlxyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBgdHJ1ZWAgaWYgYE1haW5Mb29wLnN0YXJ0KClgIGhhcyBiZWVuIGNhbGxlZCBhbmQgdGhlIG1vc3QgcmVjZW50IHRpbWUgaXRcclxuICAgICAgICAvLyB3YXMgY2FsbGVkIGhhcyBub3QgYmVlbiBmb2xsb3dlZCBieSBhIGNhbGwgdG8gYE1haW5Mb29wLnN0b3AoKWAuIFRoaXMgaXNcclxuICAgICAgICAvLyBkaWZmZXJlbnQgdGhhbiBgcnVubmluZ2AgYmVjYXVzZSB0aGVyZSBpcyBhIGRlbGF5IG9mIGEgZmV3IG1pbGxpc2Vjb25kc1xyXG4gICAgICAgIC8vIGFmdGVyIGBNYWluTG9vcC5zdGFydCgpYCBpcyBjYWxsZWQgYmVmb3JlIHRoZSBhcHBsaWNhdGlvbiBpcyBjb25zaWRlcmVkXHJcbiAgICAgICAgLy8gXCJydW5uaW5nLlwiIFRoaXMgZGVsYXkgaXMgZHVlIHRvIHdhaXRpbmcgZm9yIHRoZSBuZXh0IGZyYW1lLlxyXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBXaGV0aGVyIHRoZSBzaW11bGF0aW9uIGhhcyBmYWxsZW4gdG9vIGZhciBiZWhpbmQgcmVhbCB0aW1lLlxyXG4gICAgICAgIC8vIFNwZWNpZmljYWxseSwgYHBhbmljYCB3aWxsIGJlIHNldCB0byBgdHJ1ZWAgaWYgdG9vIG1hbnkgdXBkYXRlcyBvY2N1ciBpblxyXG4gICAgICAgIC8vIG9uZSBmcmFtZS4gVGhpcyBpcyBvbmx5IHJlbGV2YW50IGluc2lkZSBvZiBhbmltYXRlKCksIGJ1dCBhIHJlZmVyZW5jZSBpc1xyXG4gICAgICAgIC8vIGhlbGQgZXh0ZXJuYWxseSBzbyB0aGF0IHRoaXMgdmFyaWFibGUgaXMgbm90IG1hcmtlZCBmb3IgZ2FyYmFnZVxyXG4gICAgICAgIC8vIGNvbGxlY3Rpb24gZXZlcnkgdGltZSB0aGUgbWFpbiBsb29wIHJ1bnMuXHJcbiAgICAgICAgdGhpcy5wYW5pYyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBob3cgbWFueSBtaWxsaXNlY29uZHMgc2hvdWxkIGJlIHNpbXVsYXRlZCBieSBldmVyeSBydW4gb2YgdXBkYXRlKCkuXHJcbiAgICAgKlxyXG4gICAgICogU2VlIGBNYWluTG9vcC5zZXRTaW11bGF0aW9uVGltZXN0ZXAoKWAgZm9yIGRldGFpbHMgb24gdGhpcyB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgKiAgIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgc2hvdWxkIGJlIHNpbXVsYXRlZCBieSBldmVyeSBydW4gb2ZcclxuICAgICAqICAge0BsaW5rICNzZXRVcGRhdGUgdXBkYXRlfSgpLlxyXG4gICAgICovXHJcbiAgICBnZXRTaW11bGF0aW9uVGltZXN0ZXAoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaW11bGF0aW9uVGltZXN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGhvdyBtYW55IG1pbGxpc2Vjb25kcyBzaG91bGQgYmUgc2ltdWxhdGVkIGJ5IGV2ZXJ5IHJ1biBvZiB1cGRhdGUoKS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgcGVyY2VpdmVkIGZyYW1lcyBwZXIgc2Vjb25kIChGUFMpIGlzIGVmZmVjdGl2ZWx5IGNhcHBlZCBhdCB0aGVcclxuICAgICAqIG11bHRpcGxpY2F0aXZlIGludmVyc2Ugb2YgdGhlIHNpbXVsYXRpb24gdGltZXN0ZXAuIFRoYXQgaXMsIGlmIHRoZVxyXG4gICAgICogdGltZXN0ZXAgaXMgMTAwMCAvIDYwICh3aGljaCBpcyB0aGUgZGVmYXVsdCksIHRoZW4gdGhlIG1heGltdW0gcGVyY2VpdmVkXHJcbiAgICAgKiBGUFMgaXMgZWZmZWN0aXZlbHkgNjAuIERlY3JlYXNpbmcgdGhlIHRpbWVzdGVwIGluY3JlYXNlcyB0aGUgbWF4aW11bVxyXG4gICAgICogcGVyY2VpdmVkIEZQUyBhdCB0aGUgY29zdCBvZiBydW5uaW5nIHtAbGluayAjc2V0VXBkYXRlIHVwZGF0ZX0oKSBtb3JlXHJcbiAgICAgKiB0aW1lcyBwZXIgZnJhbWUgYXQgbG93ZXIgZnJhbWUgcmF0ZXMuIFNpbmNlIHJ1bm5pbmcgdXBkYXRlKCkgbW9yZSB0aW1lc1xyXG4gICAgICogdGFrZXMgbW9yZSB0aW1lIHRvIHByb2Nlc3MsIHRoaXMgY2FuIGFjdHVhbGx5IHNsb3cgZG93biB0aGUgZnJhbWUgcmF0ZS5cclxuICAgICAqIEFkZGl0aW9uYWxseSwgaWYgdGhlIGFtb3VudCBvZiB0aW1lIGl0IHRha2VzIHRvIHJ1biB1cGRhdGUoKSBleGNlZWRzIG9yXHJcbiAgICAgKiB2ZXJ5IG5lYXJseSBleGNlZWRzIHRoZSB0aW1lc3RlcCwgdGhlIGFwcGxpY2F0aW9uIHdpbGwgZnJlZXplIGFuZCBjcmFzaFxyXG4gICAgICogaW4gYSBzcGlyYWwgb2YgZGVhdGggKHVubGVzcyBpdCBpcyByZXNjdWVkOyBzZWUgYE1haW5Mb29wLnNldEVuZCgpYCBmb3JcclxuICAgICAqIGFuIGV4cGxhbmF0aW9uIG9mIHdoYXQgY2FuIGJlIGRvbmUgaWYgYSBzcGlyYWwgb2YgZGVhdGggaXMgb2NjdXJyaW5nKS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZXhjZXB0aW9uIHRvIHRoaXMgaXMgdGhhdCBpbnRlcnBvbGF0aW5nIGJldHdlZW4gdXBkYXRlcyBmb3IgZWFjaFxyXG4gICAgICogcmVuZGVyIGNhbiBpbmNyZWFzZSB0aGUgcGVyY2VpdmVkIGZyYW1lIHJhdGUgYW5kIHJlZHVjZSB2aXN1YWxcclxuICAgICAqIHN0dXR0ZXJpbmcuIFNlZSBgTWFpbkxvb3Auc2V0RHJhdygpYCBmb3IgYW4gZXhwbGFuYXRpb24gb2YgaG93IHRvIGRvXHJcbiAgICAgKiB0aGlzLlxyXG4gICAgICpcclxuICAgICAqIElmIHlvdSBhcmUgY29uc2lkZXJpbmcgZGVjcmVhc2luZyB0aGUgc2ltdWxhdGlvbiB0aW1lc3RlcCBpbiBvcmRlciB0b1xyXG4gICAgICogcmFpc2UgdGhlIG1heGltdW0gcGVyY2VpdmVkIEZQUywga2VlcCBpbiBtaW5kIHRoYXQgbW9zdCBtb25pdG9ycyBjYW4ndFxyXG4gICAgICogZGlzcGxheSBtb3JlIHRoYW4gNjAgRlBTLiBXaGV0aGVyIGh1bWFucyBjYW4gdGVsbCB0aGUgZGlmZmVyZW5jZSBhbW9uZ1xyXG4gICAgICogaGlnaCBmcmFtZSByYXRlcyBkZXBlbmRzIG9uIHRoZSBhcHBsaWNhdGlvbiwgYnV0IGZvciByZWZlcmVuY2UsIGZpbG0gaXNcclxuICAgICAqIHVzdWFsbHkgZGlzcGxheWVkIGF0IDI0IEZQUywgb3RoZXIgdmlkZW9zIGF0IDMwIEZQUywgbW9zdCBnYW1lcyBhcmVcclxuICAgICAqIGFjY2VwdGFibGUgYWJvdmUgMzAgRlBTLCBhbmQgdmlydHVhbCByZWFsaXR5IG1pZ2h0IHJlcXVpcmUgNzUgRlBTIHRvXHJcbiAgICAgKiBmZWVsIG5hdHVyYWwuIFNvbWUgZ2FtaW5nIG1vbml0b3JzIGdvIHVwIHRvIDE0NCBGUFMuIFNldHRpbmcgdGhlXHJcbiAgICAgKiB0aW1lc3RlcCBiZWxvdyAxMDAwIC8gMTQ0IGlzIGRpc2NvdXJhZ2VkIGFuZCBiZWxvdyAxMDAwIC8gMjQwIGlzXHJcbiAgICAgKiBzdHJvbmdseSBkaXNjb3VyYWdlZC4gVGhlIGRlZmF1bHQgb2YgMTAwMCAvIDYwIGlzIGdvb2QgaW4gbW9zdCBjYXNlcy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgc2ltdWxhdGlvbiB0aW1lc3RlcCBzaG91bGQgdHlwaWNhbGx5IG9ubHkgYmUgY2hhbmdlZCBhdFxyXG4gICAgICogZGV0ZXJtaW5pc3RpYyB0aW1lcyAoZS5nLiBiZWZvcmUgdGhlIG1haW4gbG9vcCBzdGFydHMgZm9yIHRoZSBmaXJzdFxyXG4gICAgICogdGltZSwgYW5kIG5vdCBpbiByZXNwb25zZSB0byB1c2VyIGlucHV0IG9yIHNsb3cgZnJhbWUgcmF0ZXMpIHRvIGF2b2lkXHJcbiAgICAgKiBpbnRyb2R1Y2luZyBub24tZGV0ZXJtaW5pc3RpYyBiZWhhdmlvci4gVGhlIHVwZGF0ZSB0aW1lc3RlcCBzaG91bGQgYmVcclxuICAgICAqIHRoZSBzYW1lIGZvciBhbGwgcGxheWVycy91c2VycyBpbiBtdWx0aXBsYXllci9tdWx0aS11c2VyIGFwcGxpY2F0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBTZWUgYWxzbyBgTWFpbkxvb3AuZ2V0U2ltdWxhdGlvblRpbWVzdGVwKClgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lc3RlcFxyXG4gICAgICogICBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IHNob3VsZCBiZSBzaW11bGF0ZWQgYnkgZXZlcnkgcnVuIG9mXHJcbiAgICAgKiAgIHtAbGluayAjc2V0VXBkYXRlIHVwZGF0ZX0oKS5cclxuICAgICAqL1xyXG4gICAgc2V0U2ltdWxhdGlvblRpbWVzdGVwKHRpbWVzdGVwOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNpbXVsYXRpb25UaW1lc3RlcCA9IHRpbWVzdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2Ugb2YgdGhlIGZyYW1lcyBwZXIgc2Vjb25kLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAqICAgVGhlIGV4cG9uZW50aWFsIG1vdmluZyBhdmVyYWdlIG9mIHRoZSBmcmFtZXMgcGVyIHNlY29uZC5cclxuICAgICAqL1xyXG4gICAgZ2V0RlBTKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnBzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbWF4aW11bSBmcmFtZSByYXRlLlxyXG4gICAgICpcclxuICAgICAqIE90aGVyIGZhY3RvcnMgYWxzbyBsaW1pdCB0aGUgRlBTOyBzZWUgYE1haW5Mb29wLnNldFNpbXVsYXRpb25UaW1lc3RlcGBcclxuICAgICAqIGZvciBkZXRhaWxzLlxyXG4gICAgICpcclxuICAgICAqIFNlZSBhbHNvIGBNYWluTG9vcC5zZXRNYXhBbGxvd2VkRlBTKClgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgICAqICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGZyYW1lcyBwZXIgc2Vjb25kIGFsbG93ZWQuXHJcbiAgICAgKi9cclxuICAgIGdldE1heEFsbG93ZWRGUFMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMubWluRnJhbWVEZWxheTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYSBtYXhpbXVtIGZyYW1lIHJhdGUuXHJcbiAgICAgKlxyXG4gICAgICogU2VlIGFsc28gYE1haW5Mb29wLmdldE1heEFsbG93ZWRGUFMoKWAuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtmcHM9SW5maW5pdHldXHJcbiAgICAgKiAgIFRoZSBtYXhpbXVtIG51bWJlciBvZiBmcmFtZXMgcGVyIHNlY29uZCB0byBleGVjdXRlLiBJZiBJbmZpbml0eSBvciBub3RcclxuICAgICAqICAgcGFzc2VkLCB0aGVyZSB3aWxsIGJlIG5vIEZQUyBjYXAgKGFsdGhvdWdoIG90aGVyIGZhY3RvcnMgZG8gbGltaXQgdGhlXHJcbiAgICAgKiAgIEZQUzsgc2VlIGBNYWluTG9vcC5zZXRTaW11bGF0aW9uVGltZXN0ZXBgIGZvciBkZXRhaWxzKS4gSWYgemVybywgdGhpc1xyXG4gICAgICogICB3aWxsIHN0b3AgdGhlIGxvb3AsIGFuZCB3aGVuIHRoZSBsb29wIGlzIG5leHQgc3RhcnRlZCwgaXQgd2lsbCByZXR1cm5cclxuICAgICAqICAgdG8gdGhlIHByZXZpb3VzIG1heGltdW0gZnJhbWUgcmF0ZS4gUGFzc2luZyBuZWdhdGl2ZSB2YWx1ZXMgd2lsbCBzdGFsbFxyXG4gICAgICogICB0aGUgbG9vcCB1bnRpbCB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhZ2FpbiB3aXRoIGEgcG9zaXRpdmUgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQGNoYWluYWJsZVxyXG4gICAgICovXHJcbiAgICBzZXRNYXhBbGxvd2VkRlBTKGZwczogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmcHMgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGZwcyA9IEluZmluaXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZnBzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGl2aWRpbmcgYnkgSW5maW5pdHkgcmV0dXJucyB6ZXJvLlxyXG4gICAgICAgICAgICB0aGlzLm1pbkZyYW1lRGVsYXkgPSAxMDAwIC8gZnBzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGhhcyBub3QgeWV0IGJlZW4gc2ltdWxhdGVkIHRvIHplcm8uXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpbnRyb2R1Y2VzIG5vbi1kZXRlcm1pbmlzdGljIGJlaGF2aW9yIGlmIGNhbGxlZCBhZnRlciB0aGVcclxuICAgICAqIGFwcGxpY2F0aW9uIGhhcyBzdGFydGVkIHJ1bm5pbmcgKHVubGVzcyBpdCBpcyBiZWluZyByZXNldCwgaW4gd2hpY2ggY2FzZVxyXG4gICAgICogaXQgZG9lc24ndCBtYXR0ZXIpLiBIb3dldmVyLCB0aGlzIGNhbiBiZSB1c2VmdWwgaW4gY2FzZXMgd2hlcmUgdGhlXHJcbiAgICAgKiBhbW91bnQgb2YgdGltZSB0aGF0IGhhcyBub3QgeWV0IGJlZW4gc2ltdWxhdGVkIGhhcyBncm93biB2ZXJ5IGxhcmdlXHJcbiAgICAgKiAoZm9yIGV4YW1wbGUsIHdoZW4gdGhlIGFwcGxpY2F0aW9uJ3MgdGFiIGdldHMgcHV0IGluIHRoZSBiYWNrZ3JvdW5kIGFuZFxyXG4gICAgICogdGhlIGJyb3dzZXIgdGhyb3R0bGVzIHRoZSB0aW1lcnMgYXMgYSByZXN1bHQpLiBJbiBhcHBsaWNhdGlvbnMgd2l0aFxyXG4gICAgICogbG9ja3N0ZXAgdGhlIHBsYXllciB3b3VsZCBnZXQgZHJvcHBlZCwgYnV0IGluIG90aGVyIG5ldHdvcmtlZFxyXG4gICAgICogYXBwbGljYXRpb25zIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gc25hcCBvciBlYXNlIHRoZSBwbGF5ZXIvdXNlciB0byB0aGVcclxuICAgICAqIGF1dGhvcml0YXRpdmUgc3RhdGUgYW5kIGRpc2NhcmQgcGVuZGluZyB1cGRhdGVzIGluIHRoZSBwcm9jZXNzLiBJblxyXG4gICAgICogbm9uLW5ldHdvcmtlZCBhcHBsaWNhdGlvbnMgaXQgbWF5IGFsc28gYmUgYWNjZXB0YWJsZSB0byBzaW1wbHkgcmVzdW1lXHJcbiAgICAgKiB0aGUgYXBwbGljYXRpb24gd2hlcmUgaXQgbGFzdCBsZWZ0IG9mZiBhbmQgaWdub3JlIHRoZSBhY2N1bXVsYXRlZFxyXG4gICAgICogdW5zaW11bGF0ZWQgdGltZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICAgKiAgIFRoZSBjdW11bGF0aXZlIGFtb3VudCBvZiBlbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRoYXQgaGFzIG5vdCB5ZXRcclxuICAgICAqICAgYmVlbiBzaW11bGF0ZWQsIGJ1dCBpcyBiZWluZyBkaXNjYXJkZWQgYXMgYSByZXN1bHQgb2YgY2FsbGluZyB0aGlzXHJcbiAgICAgKiAgIGZ1bmN0aW9uLlxyXG4gICAgICovXHJcbiAgICByZXNldEZyYW1lRGVsdGEoKSA6IG51bWJlciB7XHJcbiAgICAgICAgdmFyIG9sZEZyYW1lRGVsdGEgPSB0aGlzLmZyYW1lRGVsdGE7XHJcbiAgICAgICAgdGhpcy5mcmFtZURlbHRhID0gMDtcclxuICAgICAgICByZXR1cm4gb2xkRnJhbWVEZWx0YTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgbWFpbiBsb29wLlxyXG4gICAgICpcclxuICAgICAqIE5vdGUgdGhhdCB0aGUgYXBwbGljYXRpb24gaXMgbm90IGNvbnNpZGVyZWQgXCJydW5uaW5nXCIgaW1tZWRpYXRlbHkgYWZ0ZXJcclxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJuczsgcmF0aGVyLCBpdCBpcyBjb25zaWRlcmVkIFwicnVubmluZ1wiIGFmdGVyIHRoZVxyXG4gICAgICogYXBwbGljYXRpb24gZHJhd3MgaXRzIGZpcnN0IGZyYW1lLiBUaGUgZGlzdGluY3Rpb24gaXMgdGhhdCBldmVudFxyXG4gICAgICogaGFuZGxlcnMgc2hvdWxkIHJlbWFpbiBwYXVzZWQgdW50aWwgdGhlIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcsIGV2ZW5cclxuICAgICAqIGFmdGVyIGBNYWluTG9vcC5zdGFydCgpYCBpcyBjYWxsZWQuIENoZWNrIGBNYWluTG9vcC5pc1J1bm5pbmcoKWAgZm9yIHRoZVxyXG4gICAgICogY3VycmVudCBzdGF0dXMuIFRvIGFjdCBhZnRlciB0aGUgYXBwbGljYXRpb24gc3RhcnRzLCByZWdpc3RlciBhIGNhbGxiYWNrXHJcbiAgICAgKiB3aXRoIHJlcXVlc3RBbmltYXRpb25GcmFtZSgpIGFmdGVyIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBhbmQgZXhlY3V0ZSB0aGVcclxuICAgICAqIGFjdGlvbiBpbiB0aGF0IGNhbGxiYWNrLiBJdCBpcyBzYWZlIHRvIGNhbGwgYE1haW5Mb29wLnN0YXJ0KClgIG11bHRpcGxlXHJcbiAgICAgKiB0aW1lcyBldmVuIGJlZm9yZSB0aGUgYXBwbGljYXRpb24gc3RhcnRzIHJ1bm5pbmcgYW5kIHdpdGhvdXQgY2FsbGluZ1xyXG4gICAgICogYE1haW5Mb29wLnN0b3AoKWAgaW4gYmV0d2VlbiwgYWx0aG91Z2ggdGhlcmUgaXMgbm8gcmVhc29uIHRvIGRvIHRoaXM7XHJcbiAgICAgKiB0aGUgbWFpbiBsb29wIHdpbGwgb25seSBzdGFydCBpZiBpdCBpcyBub3QgYWxyZWFkeSBzdGFydGVkLlxyXG4gICAgICpcclxuICAgICAqIFNlZSBhbHNvIGBNYWluTG9vcC5zdG9wKClgLlxyXG4gICAgICovXHJcbiAgICBzdGFydCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xyXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgYXBwbGljYXRpb24gZG9lc24ndCBzdGFydCBydW5uaW5nIGltbWVkaWF0ZWx5LCB0cmFja1xyXG4gICAgICAgICAgICAvLyB3aGV0aGVyIHRoaXMgZnVuY3Rpb24gd2FzIGNhbGxlZCBhbmQgdXNlIHRoYXQgdG8ga2VlcCBpdCBmcm9tXHJcbiAgICAgICAgICAgIC8vIHN0YXJ0aW5nIHRoZSBtYWluIGxvb3AgbXVsdGlwbGUgdGltZXMuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBJbiB0aGUgbWFpbiBsb29wLCBkcmF3KCkgaXMgY2FsbGVkIGFmdGVyIHVwZGF0ZSgpLCBzbyBpZiB3ZVxyXG4gICAgICAgICAgICAvLyBlbnRlcmVkIHRoZSBtYWluIGxvb3AgaW1tZWRpYXRlbHksIHdlIHdvdWxkIG5ldmVyIHJlbmRlciB0aGVcclxuICAgICAgICAgICAgLy8gaW5pdGlhbCBzdGF0ZSBiZWZvcmUgYW55IHVwZGF0ZXMgb2NjdXIuIEluc3RlYWQsIHdlIHJ1biBvbmVcclxuICAgICAgICAgICAgLy8gZnJhbWUgd2hlcmUgYWxsIHdlIGRvIGlzIGRyYXcsIGFuZCB0aGVuIHN0YXJ0IHRoZSBtYWluIGxvb3Agd2l0aFxyXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBmcmFtZS5cclxuICAgICAgICAgICAgdGhpcy5yYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zdGFydExvb3AuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0TG9vcCh0aW1lc3RhbXAgOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAvLyBSZW5kZXIgdGhlIGluaXRpYWwgc3RhdGUgYmVmb3JlIGFueSB1cGRhdGVzIG9jY3VyLlxyXG4gICAgICAgIHRoaXMuZHJhdygxKTtcclxuXHJcbiAgICAgICAgLy8gVGhlIGFwcGxpY2F0aW9uIGlzbid0IGNvbnNpZGVyZWQgXCJydW5uaW5nXCIgdW50aWwgdGhlXHJcbiAgICAgICAgLy8gYXBwbGljYXRpb24gc3RhcnRzIGRyYXdpbmcuXHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gUmVzZXQgdmFyaWFibGVzIHRoYXQgYXJlIHVzZWQgZm9yIHRyYWNraW5nIHRpbWUgc28gdGhhdCB3ZVxyXG4gICAgICAgIC8vIGRvbid0IHNpbXVsYXRlIHRpbWUgcGFzc2VkIHdoaWxlIHRoZSBhcHBsaWNhdGlvbiB3YXMgcGF1c2VkLlxyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZU1zID0gdGltZXN0YW1wO1xyXG4gICAgICAgIHRoaXMubGFzdEZwc1VwZGF0ZSA9IHRpbWVzdGFtcDtcclxuICAgICAgICB0aGlzLmZyYW1lc1NpbmNlTGFzdEZwc1VwZGF0ZSA9IDA7XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBtYWluIGxvb3AuXHJcbiAgICAgICAgdGhpcy5yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgbWFpbiBsb29wIGlzIGN1cnJlbnRseSBydW5uaW5nLlxyXG4gICAgICpcclxuICAgICAqIFNlZSBhbHNvIGBNYWluTG9vcC5zdGFydCgpYCBhbmQgYE1haW5Mb29wLnN0b3AoKWAuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqICAgV2hldGhlciB0aGUgbWFpbiBsb29wIGlzIGN1cnJlbnRseSBydW5uaW5nLlxyXG4gICAgICovXHJcbiAgICBpc1J1bm5pbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucnVubmluZztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBtYWluIGxvb3AuXHJcbiAgICAgKlxyXG4gICAgICogRXZlbnQgaGFuZGxpbmcgYW5kIG90aGVyIGJhY2tncm91bmQgdGFza3Mgc2hvdWxkIGFsc28gYmUgcGF1c2VkIHdoZW4gdGhlXHJcbiAgICAgKiBtYWluIGxvb3AgaXMgcGF1c2VkLlxyXG4gICAgICpcclxuICAgICAqIE5vdGUgdGhhdCBwYXVzaW5nIGluIG11bHRpcGxheWVyL211bHRpLXVzZXIgYXBwbGljYXRpb25zIHdpbGwgY2F1c2UgdGhlXHJcbiAgICAgKiBwbGF5ZXIncy91c2VyJ3MgY2xpZW50IHRvIGJlY29tZSBvdXQgb2Ygc3luYy4gSW4gdGhpcyBjYXNlIHRoZVxyXG4gICAgICogc2ltdWxhdGlvbiBzaG91bGQgZXhpdCwgb3IgdGhlIHBsYXllci91c2VyIG5lZWRzIHRvIGJlIHNuYXBwZWQgdG8gdGhlaXJcclxuICAgICAqIHVwZGF0ZWQgcG9zaXRpb24gd2hlbiB0aGUgbWFpbiBsb29wIGlzIHN0YXJ0ZWQgYWdhaW4uXHJcbiAgICAgKlxyXG4gICAgICogU2VlIGFsc28gYE1haW5Mb29wLnN0YXJ0KClgIGFuZCBgTWFpbkxvb3AuaXNSdW5uaW5nKClgLlxyXG4gICAgICovXHJcbiAgICBzdG9wKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJhZik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbWFpbiBsb29wIHRoYXQgcnVucyB1cGRhdGVzIGFuZCByZW5kZXJpbmcuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gdGltZXN0YW1wXHJcbiAgICAgKiBUaGUgY3VycmVudCB0aW1lc3RhbXAuIEluIHByYWN0aWNlIHRoaXMgaXMgc3VwcGxpZWQgYnlcclxuICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSBhdCB0aGUgdGltZSB0aGF0IGl0IHN0YXJ0cyB0byBmaXJlIGNhbGxiYWNrcy4gVGhpc1xyXG4gICAgICogc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY29tcGFyaXNvbiB0byBvdGhlciB0aW1lc3RhbXBzIGJlY2F1c2UgdGhlIGVwb2NoXHJcbiAgICAgKiAoaS5lLiB0aGUgXCJ6ZXJvXCIgdGltZSkgZGVwZW5kcyBvbiB0aGUgZW5naW5lIHJ1bm5pbmcgdGhpcyBjb2RlLiBJbiBlbmdpbmVzXHJcbiAgICAgKiB0aGF0IHN1cHBvcnQgYERPTUhpZ2hSZXNUaW1lU3RhbXBgIChhbGwgbW9kZXJuIGJyb3dzZXJzIGV4Y2VwdCBpT1MgU2FmYXJpXHJcbiAgICAgKiA4KSB0aGUgZXBvY2ggaXMgdGhlIHRpbWUgdGhlIHBhZ2Ugc3RhcnRlZCBsb2FkaW5nLCBzcGVjaWZpY2FsbHlcclxuICAgICAqIGBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0YC4gRXZlcnl3aGVyZSBlbHNlLCBpbmNsdWRpbmcgbm9kZS5qcyxcclxuICAgICAqIHRoZSBlcG9jaCBpcyB0aGUgVW5peCBlcG9jaCAoMTk3MC0wMS0wMVQwMDowMDowMFopLlxyXG4gICAgICogXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGFuaW1hdGUodGltZXN0YW1wIDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgLy8gUnVuIHRoZSBsb29wIGFnYWluIHRoZSBuZXh0IHRpbWUgdGhlIGJyb3dzZXIgaXMgcmVhZHkgdG8gcmVuZGVyLlxyXG4gICAgICAgIC8vIFdlIHNldCByYWZIYW5kbGUgaW1tZWRpYXRlbHkgc28gdGhhdCB0aGUgbmV4dCBmcmFtZSBjYW4gYmUgY2FuY2VsZWRcclxuICAgICAgICAvLyBkdXJpbmcgdGhlIGN1cnJlbnQgZnJhbWUuXHJcbiAgICAgICAgdGhpcy5yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgLy8gVGhyb3R0bGUgdGhlIGZyYW1lIHJhdGUgKGlmIG1pbkZyYW1lRGVsYXkgaXMgc2V0IHRvIGEgbm9uLXplcm8gdmFsdWUgYnlcclxuICAgICAgICAvLyBgTWFpbkxvb3Auc2V0TWF4QWxsb3dlZEZQUygpYCkuXHJcbiAgICAgICAgaWYgKHRpbWVzdGFtcCA8IHRoaXMubGFzdEZyYW1lVGltZU1zICsgdGhpcy5taW5GcmFtZURlbGF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZyYW1lRGVsdGEgaXMgdGhlIGN1bXVsYXRpdmUgYW1vdW50IG9mIGluLWFwcCB0aW1lIHRoYXQgaGFzbid0IGJlZW5cclxuICAgICAgICAvLyBzaW11bGF0ZWQgeWV0LiBBZGQgdGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgZnJhbWUuIFdlIG5lZWQgdG8gdHJhY2sgdG90YWxcclxuICAgICAgICAvLyBub3QteWV0LXNpbXVsYXRlZCB0aW1lIChhcyBvcHBvc2VkIHRvIGp1c3QgdGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGVcclxuICAgICAgICAvLyBsYXN0IGZyYW1lKSBiZWNhdXNlIG5vdCBhbGwgYWN0dWFsbHkgZWxhcHNlZCB0aW1lIGlzIGd1YXJhbnRlZWQgdG8gYmVcclxuICAgICAgICAvLyBzaW11bGF0ZWQgZWFjaCBmcmFtZS4gU2VlIHRoZSBjb21tZW50cyBiZWxvdyBmb3IgZGV0YWlscy5cclxuICAgICAgICB0aGlzLmZyYW1lRGVsdGEgKz0gdGltZXN0YW1wIC0gdGhpcy5sYXN0RnJhbWVUaW1lTXM7XHJcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lTXMgPSB0aW1lc3RhbXA7XHJcblxyXG4gICAgICAgIC8vIFJ1biBhbnkgdXBkYXRlcyB0aGF0IGFyZSBub3QgZGVwZW5kZW50IG9uIHRpbWUgaW4gdGhlIHNpbXVsYXRpb24uIFNlZVxyXG4gICAgICAgIC8vIGBNYWluTG9vcC5zZXRCZWdpbigpYCBmb3IgYWRkaXRpb25hbCBkZXRhaWxzIG9uIGhvdyB0byB1c2UgdGhpcy5cclxuICAgICAgICB0aGlzLmJlZ2luKHRpbWVzdGFtcCwgdGhpcy5mcmFtZURlbHRhKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBlc3RpbWF0ZSBvZiB0aGUgZnJhbWUgcmF0ZSwgYGZwc2AuIEFwcHJveGltYXRlbHkgZXZlcnlcclxuICAgICAgICAvLyBzZWNvbmQsIHRoZSBudW1iZXIgb2YgZnJhbWVzIHRoYXQgb2NjdXJyZWQgaW4gdGhhdCBzZWNvbmQgYXJlIGluY2x1ZGVkXHJcbiAgICAgICAgLy8gaW4gYW4gZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2Ugb2YgYWxsIGZyYW1lcyBwZXIgc2Vjb25kLiBUaGlzIG1lYW5zXHJcbiAgICAgICAgLy8gdGhhdCBtb3JlIHJlY2VudCBzZWNvbmRzIGFmZmVjdCB0aGUgZXN0aW1hdGVkIGZyYW1lIHJhdGUgbW9yZSB0aGFuIG9sZGVyXHJcbiAgICAgICAgLy8gc2Vjb25kcy5cclxuICAgICAgICBpZiAodGltZXN0YW1wID4gdGhpcy5sYXN0RnBzVXBkYXRlICsgdGhpcy5mcHNVcGRhdGVJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAvLyBDb21wdXRlIHRoZSBuZXcgZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2UuXHJcbiAgICAgICAgICAgIHRoaXMuZnBzID1cclxuICAgICAgICAgICAgICAgIC8vIERpdmlkZSB0aGUgbnVtYmVyIG9mIGZyYW1lcyBzaW5jZSB0aGUgbGFzdCBGUFMgdXBkYXRlIGJ5IHRoZVxyXG4gICAgICAgICAgICAgICAgLy8gYW1vdW50IG9mIHRpbWUgdGhhdCBoYXMgcGFzc2VkIHRvIGdldCB0aGUgbWVhbiBmcmFtZXMgcGVyIHNlY29uZFxyXG4gICAgICAgICAgICAgICAgLy8gb3ZlciB0aGF0IHBlcmlvZC4gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzbGlnaHRseSBtb3JlIHRoYW4gYVxyXG4gICAgICAgICAgICAgICAgLy8gc2Vjb25kIGhhcyBsaWtlbHkgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IHVwZGF0ZS5cclxuICAgICAgICAgICAgICAgIHRoaXMuZnBzQWxwaGEgKiB0aGlzLmZyYW1lc1NpbmNlTGFzdEZwc1VwZGF0ZSAqIDEwMDAgLyAodGltZXN0YW1wIC0gdGhpcy5sYXN0RnBzVXBkYXRlKSArXHJcbiAgICAgICAgICAgICAgICAoMSAtIHRoaXMuZnBzQWxwaGEpICogdGhpcy5mcHM7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgZnJhbWUgY291bnRlciBhbmQgbGFzdC11cGRhdGVkIHRpbWVzdGFtcCBzaW5jZSB0aGVpclxyXG4gICAgICAgICAgICAvLyBsYXRlc3QgdmFsdWVzIGhhdmUgbm93IGJlZW4gaW5jb3Jwb3JhdGVkIGludG8gdGhlIEZQUyBlc3RpbWF0ZS5cclxuICAgICAgICAgICAgdGhpcy5sYXN0RnBzVXBkYXRlID0gdGltZXN0YW1wO1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lc1NpbmNlTGFzdEZwc1VwZGF0ZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENvdW50IHRoZSBjdXJyZW50IGZyYW1lIGluIHRoZSBuZXh0IGZyYW1lcy1wZXItc2Vjb25kIHVwZGF0ZS4gVGhpc1xyXG4gICAgICAgIC8vIGhhcHBlbnMgYWZ0ZXIgdGhlIHByZXZpb3VzIHNlY3Rpb24gYmVjYXVzZSB0aGUgcHJldmlvdXMgc2VjdGlvblxyXG4gICAgICAgIC8vIGNhbGN1bGF0ZXMgdGhlIGZyYW1lcyB0aGF0IG9jY3VyIHVwIHVudGlsIGB0aW1lc3RhbXBgLCBhbmQgYHRpbWVzdGFtcGBcclxuICAgICAgICAvLyByZWZlcnMgdG8gYSB0aW1lIGp1c3QgYmVmb3JlIHRoZSBjdXJyZW50IGZyYW1lIHdhcyBkZWxpdmVyZWQuXHJcbiAgICAgICAgdGhpcy5mcmFtZXNTaW5jZUxhc3RGcHNVcGRhdGUrKztcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBBIG5haXZlIHdheSB0byBtb3ZlIGFuIG9iamVjdCBhbG9uZyBpdHMgWC1heGlzIG1pZ2h0IGJlIHRvIHdyaXRlIGEgbWFpblxyXG4gICAgICAgICAqIGxvb3AgY29udGFpbmluZyB0aGUgc3RhdGVtZW50IGBvYmoueCArPSAxMDtgIHdoaWNoIHdvdWxkIG1vdmUgdGhlIG9iamVjdFxyXG4gICAgICAgICAqIDEwIHVuaXRzIHBlciBmcmFtZS4gVGhpcyBhcHByb2FjaCBzdWZmZXJzIGZyb20gdGhlIGlzc3VlIHRoYXQgaXQgaXNcclxuICAgICAgICAgKiBkZXBlbmRlbnQgb24gdGhlIGZyYW1lIHJhdGUuIEluIG90aGVyIHdvcmRzLCBpZiB5b3VyIGFwcGxpY2F0aW9uIGlzXHJcbiAgICAgICAgICogcnVubmluZyBzbG93bHkgKHRoYXQgaXMsIGZld2VyIGZyYW1lcyBwZXIgc2Vjb25kKSwgeW91ciBvYmplY3Qgd2lsbCBhbHNvXHJcbiAgICAgICAgICogYXBwZWFyIHRvIG1vdmUgc2xvd2x5LCB3aGVyZWFzIGlmIHlvdXIgYXBwbGljYXRpb24gaXMgcnVubmluZyBxdWlja2x5XHJcbiAgICAgICAgICogKHRoYXQgaXMsIG1vcmUgZnJhbWVzIHBlciBzZWNvbmQpLCB5b3VyIG9iamVjdCB3aWxsIGFwcGVhciB0byBtb3ZlXHJcbiAgICAgICAgICogcXVpY2tseS4gVGhpcyBpcyB1bmRlc2lyYWJsZSwgZXNwZWNpYWxseSBpbiBtdWx0aXBsYXllci9tdWx0aS11c2VyXHJcbiAgICAgICAgICogYXBwbGljYXRpb25zLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogT25lIHNvbHV0aW9uIGlzIHRvIG11bHRpcGx5IHRoZSBzcGVlZCBieSB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBoYXNcclxuICAgICAgICAgKiBwYXNzZWQgYmV0d2VlbiByZW5kZXJpbmcgZnJhbWVzLiBGb3IgZXhhbXBsZSwgaWYgeW91IHdhbnQgeW91ciBvYmplY3QgdG9cclxuICAgICAgICAgKiBtb3ZlIDYwMCB1bml0cyBwZXIgc2Vjb25kLCB5b3UgbWlnaHQgd3JpdGUgYG9iai54ICs9IDYwMCAqIGRlbHRhYCwgd2hlcmVcclxuICAgICAgICAgKiBgZGVsdGFgIGlzIHRoZSB0aW1lIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZS4gKEZvciBjb252ZW5pZW5jZSwgbGV0J3NcclxuICAgICAgICAgKiBtb3ZlIHRoaXMgc3RhdGVtZW50IHRvIGFuIHVwZGF0ZSgpIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYGRlbHRhYCBhcyBhXHJcbiAgICAgICAgICogcGFyYW1ldGVyLikgVGhpcyB3YXksIHlvdXIgb2JqZWN0IHdpbGwgbW92ZSBhIGNvbnN0YW50IGRpc3RhbmNlIG92ZXJcclxuICAgICAgICAgKiB0aW1lLiBIb3dldmVyLCBhdCBsb3cgZnJhbWUgcmF0ZXMgYW5kIGhpZ2ggc3BlZWRzLCB5b3VyIG9iamVjdCB3aWxsIG1vdmVcclxuICAgICAgICAgKiBsYXJnZSBkaXN0YW5jZXMgZXZlcnkgZnJhbWUsIHdoaWNoIGNhbiBjYXVzZSBpdCB0byBkbyBzdHJhbmdlIHRoaW5nc1xyXG4gICAgICAgICAqIHN1Y2ggYXMgbW92ZSB0aHJvdWdoIHdhbGxzLiBBZGRpdGlvbmFsbHksIHdlIHdvdWxkIGxpa2Ugb3VyIHByb2dyYW0gdG9cclxuICAgICAgICAgKiBiZSBkZXRlcm1pbmlzdGljLiBUaGF0IGlzLCBldmVyeSB0aW1lIHdlIHJ1biB0aGUgYXBwbGljYXRpb24gd2l0aCB0aGVcclxuICAgICAgICAgKiBzYW1lIGlucHV0LCB3ZSB3b3VsZCBsaWtlIGV4YWN0bHkgdGhlIHNhbWUgb3V0cHV0LiBJZiB0aGUgdGltZSBiZXR3ZWVuXHJcbiAgICAgICAgICogZnJhbWVzICh0aGUgYGRlbHRhYCkgdmFyaWVzLCBvdXIgb3V0cHV0IHdpbGwgZGl2ZXJnZSB0aGUgbG9uZ2VyIHRoZVxyXG4gICAgICAgICAqIHByb2dyYW0gcnVucyBkdWUgdG8gYWNjdW11bGF0ZWQgcm91bmRpbmcgZXJyb3JzLCBldmVuIGF0IG5vcm1hbCBmcmFtZVxyXG4gICAgICAgICAqIHJhdGVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQSBiZXR0ZXIgc29sdXRpb24gaXMgdG8gc2VwYXJhdGUgdGhlIGFtb3VudCBvZiB0aW1lIHNpbXVsYXRlZCBpbiBlYWNoXHJcbiAgICAgICAgICogdXBkYXRlKCkgZnJvbSB0aGUgYW1vdW50IG9mIHRpbWUgYmV0d2VlbiBmcmFtZXMuIE91ciB1cGRhdGUoKSBmdW5jdGlvblxyXG4gICAgICAgICAqIGRvZXNuJ3QgbmVlZCB0byBjaGFuZ2U7IHdlIGp1c3QgbmVlZCB0byBjaGFuZ2UgdGhlIGRlbHRhIHdlIHBhc3MgdG8gaXRcclxuICAgICAgICAgKiBzbyB0aGF0IGVhY2ggdXBkYXRlKCkgc2ltdWxhdGVzIGEgZml4ZWQgYW1vdW50IG9mIHRpbWUgKHRoYXQgaXMsIGBkZWx0YWBcclxuICAgICAgICAgKiBzaG91bGQgaGF2ZSB0aGUgc2FtZSB2YWx1ZSBlYWNoIHRpbWUgdXBkYXRlKCkgaXMgY2FsbGVkKS4gVGhlIHVwZGF0ZSgpXHJcbiAgICAgICAgICogZnVuY3Rpb24gY2FuIGJlIHJ1biBtdWx0aXBsZSB0aW1lcyBwZXIgZnJhbWUgaWYgbmVlZGVkIHRvIHNpbXVsYXRlIHRoZVxyXG4gICAgICAgICAqIHRvdGFsIGFtb3VudCBvZiB0aW1lIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZS4gKElmIHRoZSB0aW1lIHRoYXQgaGFzXHJcbiAgICAgICAgICogcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGZyYW1lIGlzIGxlc3MgdGhhbiB0aGUgZml4ZWQgc2ltdWxhdGlvbiB0aW1lLCB3ZVxyXG4gICAgICAgICAqIGp1c3Qgd29uJ3QgcnVuIGFuIHVwZGF0ZSgpIHVudGlsIHRoZSB0aGUgbmV4dCBmcmFtZS4gSWYgdGhlcmUgaXNcclxuICAgICAgICAgKiB1bnNpbXVsYXRlZCB0aW1lIGxlZnQgb3ZlciB0aGF0IGlzIGxlc3MgdGhhbiBvdXIgdGltZXN0ZXAsIHdlJ2xsIGp1c3RcclxuICAgICAgICAgKiBsZWF2ZSBpdCB0byBiZSBzaW11bGF0ZWQgZHVyaW5nIHRoZSBuZXh0IGZyYW1lLikgVGhpcyBhcHByb2FjaCBhdm9pZHNcclxuICAgICAgICAgKiBpbmNvbnNpc3RlbnQgcm91bmRpbmcgZXJyb3JzIGFuZCBlbnN1cmVzIHRoYXQgdGhlcmUgYXJlIG5vIGdpYW50IGxlYXBzXHJcbiAgICAgICAgICogdGhyb3VnaCB3YWxscyBiZXR3ZWVuIGZyYW1lcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoYXQgaXMgd2hhdCBpcyBkb25lIGJlbG93LiBJdCBpbnRyb2R1Y2VzIGEgbmV3IHByb2JsZW0sIGJ1dCBpdCBpcyBhXHJcbiAgICAgICAgICogbWFuYWdlYWJsZSBvbmU6IGlmIHRoZSBhbW91bnQgb2YgdGltZSBzcGVudCBzaW11bGF0aW5nIGlzIGNvbnNpc3RlbnRseVxyXG4gICAgICAgICAqIGxvbmdlciB0aGFuIHRoZSBhbW91bnQgb2YgdGltZSBiZXR3ZWVuIGZyYW1lcywgdGhlIGFwcGxpY2F0aW9uIGNvdWxkXHJcbiAgICAgICAgICogZnJlZXplIGFuZCBjcmFzaCBpbiBhIHNwaXJhbCBvZiBkZWF0aC4gVGhpcyB3b24ndCBoYXBwZW4gYXMgbG9uZyBhcyB0aGVcclxuICAgICAgICAgKiBmaXhlZCBzaW11bGF0aW9uIHRpbWUgaXMgc2V0IHRvIGEgdmFsdWUgdGhhdCBpcyBoaWdoIGVub3VnaCB0aGF0XHJcbiAgICAgICAgICogdXBkYXRlKCkgY2FsbHMgdXN1YWxseSB0YWtlIGxlc3MgdGltZSB0aGFuIHRoZSBhbW91bnQgb2YgdGltZSB0aGV5J3JlXHJcbiAgICAgICAgICogc2ltdWxhdGluZy4gSWYgaXQgZG9lcyBzdGFydCB0byBoYXBwZW4gYW55d2F5LCBzZWUgYE1haW5Mb29wLnNldEVuZCgpYFxyXG4gICAgICAgICAqIGZvciBhIGRpc2N1c3Npb24gb2Ygd2F5cyB0byBzdG9wIGl0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQWRkaXRpb25hbGx5LCBzZWUgYE1haW5Mb29wLnNldFVwZGF0ZSgpYCBmb3IgYSBkaXNjdXNzaW9uIG9mIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgICogY29uc2lkZXJhdGlvbnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBGdXJ0aGVyIHJlYWRpbmcgZm9yIHRob3NlIGludGVyZXN0ZWQ6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAtIGh0dHA6Ly9nYW1lcHJvZ3JhbW1pbmdwYXR0ZXJucy5jb20vZ2FtZS1sb29wLmh0bWxcclxuICAgICAgICAgKiAtIGh0dHA6Ly9nYWZmZXJvbmdhbWVzLmNvbS9nYW1lLXBoeXNpY3MvZml4LXlvdXItdGltZXN0ZXAvXHJcbiAgICAgICAgICogLSBodHRwczovL2dhbWVhbGNoZW1pc3Qud29yZHByZXNzLmNvbS8yMDEzLzAzLzE2L3Rob3VnaHRzLW9uLXRoZS1qYXZhc2NyaXB0LWdhbWUtbG9vcC9cclxuICAgICAgICAgKiAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvR2FtZXMvQW5hdG9teVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMubnVtVXBkYXRlU3RlcHMgPSAwO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLmZyYW1lRGVsdGEgPj0gdGhpcy5zaW11bGF0aW9uVGltZXN0ZXApIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5zaW11bGF0aW9uVGltZXN0ZXApO1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lRGVsdGEgLT0gdGhpcy5zaW11bGF0aW9uVGltZXN0ZXA7XHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgKiBTYW5pdHkgY2hlY2s6IGJhaWwgaWYgd2UgcnVuIHRoZSBsb29wIHRvbyBtYW55IHRpbWVzLlxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBPbmUgd2F5IHRoaXMgY291bGQgaGFwcGVuIGlzIGlmIHVwZGF0ZSgpIHRha2VzIGxvbmdlciB0byBydW4gdGhhblxyXG4gICAgICAgICAgICAgKiB0aGUgdGltZSBpdCBzaW11bGF0ZXMsIHRoZXJlYnkgY2F1c2luZyBhIHNwaXJhbCBvZiBkZWF0aC4gRm9yIHdheXNcclxuICAgICAgICAgICAgICogdG8gYXZvaWQgdGhpcywgc2VlIGBNYWluTG9vcC5zZXRFbmQoKWAuIEFub3RoZXIgd2F5IHRoaXMgY291bGRcclxuICAgICAgICAgICAgICogaGFwcGVuIGlzIGlmIHRoZSBicm93c2VyIHRocm90dGxlcyBzZXJ2aW5nIGZyYW1lcywgd2hpY2ggdHlwaWNhbGx5XHJcbiAgICAgICAgICAgICAqIG9jY3VycyB3aGVuIHRoZSB0YWIgaXMgaW4gdGhlIGJhY2tncm91bmQgb3IgdGhlIGRldmljZSBiYXR0ZXJ5IGlzXHJcbiAgICAgICAgICAgICAqIGxvdy4gQW4gZXZlbnQgb3V0c2lkZSBvZiB0aGUgbWFpbiBsb29wIHN1Y2ggYXMgYXVkaW8gcHJvY2Vzc2luZyBvclxyXG4gICAgICAgICAgICAgKiBzeW5jaHJvbm91cyByZXNvdXJjZSByZWFkcyBjb3VsZCBhbHNvIGNhdXNlIHRoZSBhcHBsaWNhdGlvbiB0byBoYW5nXHJcbiAgICAgICAgICAgICAqIHRlbXBvcmFyaWx5IGFuZCBhY2N1bXVsYXRlIG5vdC15ZXQtc2ltdWxhdGVkIHRpbWUgYXMgYSByZXN1bHQuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIDI0MCBpcyBjaG9zZW4gYmVjYXVzZSwgZm9yIGFueSBzYW5lIHZhbHVlIG9mIHNpbXVsYXRpb25UaW1lc3RlcCwgMjQwXHJcbiAgICAgICAgICAgICAqIHVwZGF0ZXMgd2lsbCBzaW11bGF0ZSBhdCBsZWFzdCBvbmUgc2Vjb25kLCBhbmQgaXQgd2lsbCBzaW11bGF0ZSBmb3VyXHJcbiAgICAgICAgICAgICAqIHNlY29uZHMgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBzaW11bGF0aW9uVGltZXN0ZXAuIChTYWZhcmlcclxuICAgICAgICAgICAgICogbm90aWZpZXMgdXNlcnMgdGhhdCB0aGUgc2NyaXB0IGlzIHRha2luZyB0b28gbG9uZyB0byBydW4gaWYgaXQgdGFrZXNcclxuICAgICAgICAgICAgICogbW9yZSB0aGFuIGZpdmUgc2Vjb25kcy4pXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIElmIHRoZXJlIGFyZSBtb3JlIHVwZGF0ZXMgdG8gcnVuIGluIGEgZnJhbWUgdGhhbiB0aGlzLCB0aGVcclxuICAgICAgICAgICAgICogYXBwbGljYXRpb24gd2lsbCBhcHBlYXIgdG8gc2xvdyBkb3duIHRvIHRoZSB1c2VyIHVudGlsIGl0IGNhdGNoZXNcclxuICAgICAgICAgICAgICogYmFjayB1cC4gSW4gbmV0d29ya2VkIGFwcGxpY2F0aW9ucyB0aGlzIHdpbGwgdXN1YWxseSBjYXVzZSB0aGUgdXNlclxyXG4gICAgICAgICAgICAgKiB0byBnZXQgb3V0IG9mIHN5bmMgd2l0aCB0aGVpciBwZWVycywgYnV0IGlmIHRoZSB1cGRhdGVzIGFyZSB0YWtpbmdcclxuICAgICAgICAgICAgICogdGhpcyBsb25nIGFscmVhZHksIHRoZXkncmUgcHJvYmFibHkgYWxyZWFkeSBvdXQgb2Ygc3luYy5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmICgrK3RoaXMubnVtVXBkYXRlU3RlcHMgPj0gMjQwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhbmljID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFJlbmRlciB0aGUgc2NyZWVuLiBXZSBkbyB0aGlzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB1cGRhdGUoKSBoYXMgcnVuXHJcbiAgICAgICAgICogZHVyaW5nIHRoaXMgZnJhbWUgYmVjYXVzZSBpdCBpcyBwb3NzaWJsZSB0byBpbnRlcnBvbGF0ZSBiZXR3ZWVuIHVwZGF0ZXNcclxuICAgICAgICAgKiB0byBtYWtlIHRoZSBmcmFtZSByYXRlIGFwcGVhciBmYXN0ZXIgdGhhbiB1cGRhdGVzIGFyZSBhY3R1YWxseVxyXG4gICAgICAgICAqIGhhcHBlbmluZy4gU2VlIGBNYWluTG9vcC5zZXREcmF3KClgIGZvciBhbiBleHBsYW5hdGlvbiBvZiBob3cgdG8gZG9cclxuICAgICAgICAgKiB0aGF0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogV2UgZHJhdyBhZnRlciB1cGRhdGluZyBiZWNhdXNlIHdlIHdhbnQgdGhlIHNjcmVlbiB0byByZWZsZWN0IGEgc3RhdGUgb2ZcclxuICAgICAgICAgKiB0aGUgYXBwbGljYXRpb24gdGhhdCBpcyBhcyB1cC10by1kYXRlIGFzIHBvc3NpYmxlLiAoYE1haW5Mb29wLnN0YXJ0KClgXHJcbiAgICAgICAgICogZHJhd3MgdGhlIHZlcnkgZmlyc3QgZnJhbWUgaW4gdGhlIGFwcGxpY2F0aW9uJ3MgaW5pdGlhbCBzdGF0ZSwgYmVmb3JlXHJcbiAgICAgICAgICogYW55IHVwZGF0ZXMgaGF2ZSBvY2N1cnJlZC4pIFNvbWUgc291cmNlcyBzcGVjdWxhdGUgdGhhdCByZW5kZXJpbmdcclxuICAgICAgICAgKiBlYXJsaWVyIGluIHRoZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgY2FsbGJhY2sgY2FuIGdldCB0aGUgc2NyZWVuIHBhaW50ZWRcclxuICAgICAgICAgKiBmYXN0ZXI7IHRoaXMgaXMgbW9zdGx5IG5vdCB0cnVlLCBhbmQgZXZlbiB3aGVuIGl0IGlzLCBpdCdzIHVzdWFsbHkganVzdFxyXG4gICAgICAgICAqIGEgdHJhZGUtb2ZmIGJldHdlZW4gcmVuZGVyaW5nIHRoZSBjdXJyZW50IGZyYW1lIHNvb25lciBhbmQgcmVuZGVyaW5nIHRoZVxyXG4gICAgICAgICAqIG5leHQgZnJhbWUgbGF0ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBTZWUgYE1haW5Mb29wLnNldERyYXcoKWAgZm9yIGRldGFpbHMgYWJvdXQgZHJhdygpIGl0c2VsZi5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmRyYXcodGhpcy5mcmFtZURlbHRhIC8gdGhpcy5zaW11bGF0aW9uVGltZXN0ZXApO1xyXG5cclxuICAgICAgICAvLyBSdW4gYW55IHVwZGF0ZXMgdGhhdCBhcmUgbm90IGRlcGVuZGVudCBvbiB0aW1lIGluIHRoZSBzaW11bGF0aW9uLiBTZWVcclxuICAgICAgICAvLyBgTWFpbkxvb3Auc2V0RW5kKClgIGZvciBhZGRpdGlvbmFsIGRldGFpbHMgb24gaG93IHRvIHVzZSB0aGlzLlxyXG4gICAgICAgIHRoaXMuZW5kKHRoaXMuZnBzLCB0aGlzLnBhbmljKTtcclxuXHJcbiAgICAgICAgdGhpcy5wYW5pYyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNVQkNMQVNTRVMgTVVTVCBPVkVSUklERSBGT1VSIFJFUVVJUkVEIE1FVEhPRFM6XHJcbiAgICAgICAgLy8gYmVnaW5cclxuICAgICAgICAvLyB1cGRhdGVcclxuICAgICAgICAvLyBkcmF3XHJcbiAgICAgICAgLy8gZW5kXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgcnVucyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBtYWluIGxvb3AuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGJlZ2luKCkgZnVuY3Rpb24gaXMgdHlwaWNhbGx5IHVzZWQgdG8gcHJvY2VzcyBpbnB1dCBiZWZvcmUgdGhlXHJcbiAgICAgKiB1cGRhdGVzIHJ1bi4gUHJvY2Vzc2luZyBpbnB1dCBoZXJlIChpbiBjaHVua3MpIGNhbiByZWR1Y2UgdGhlIHJ1bm5pbmdcclxuICAgICAqIHRpbWUgb2YgZXZlbnQgaGFuZGxlcnMsIHdoaWNoIGlzIHVzZWZ1bCBiZWNhdXNlIGxvbmctcnVubmluZyBldmVudFxyXG4gICAgICogaGFuZGxlcnMgY2FuIHNvbWV0aW1lcyBkZWxheSBmcmFtZXMuXHJcbiAgICAgKlxyXG4gICAgICogVW5saWtlIHtAbGluayAjc2V0VXBkYXRlIHVwZGF0ZX0oKSwgd2hpY2ggY2FuIHJ1biB6ZXJvIG9yIG1vcmUgdGltZXMgcGVyXHJcbiAgICAgKiBmcmFtZSwgYmVnaW4oKSBhbHdheXMgcnVucyBleGFjdGx5IG9uY2UgcGVyIGZyYW1lLiBUaGlzIG1ha2VzIGl0IHVzZWZ1bFxyXG4gICAgICogZm9yIGFueSB1cGRhdGVzIHRoYXQgYXJlIG5vdCBkZXBlbmRlbnQgb24gdGltZSBpbiB0aGUgc2ltdWxhdGlvbi5cclxuICAgICAqIEV4YW1wbGVzIGluY2x1ZGUgYWRqdXN0aW5nIEhVRCBjYWxjdWxhdGlvbnMgb3IgcGVyZm9ybWluZyBsb25nLXJ1bm5pbmdcclxuICAgICAqIHVwZGF0ZXMgaW5jcmVtZW50YWxseS4gQ29tcGFyZWQgdG8ge0BsaW5rICNzZXRFbmQgZW5kfSgpLCBnZW5lcmFsbHlcclxuICAgICAqIGFjdGlvbnMgc2hvdWxkIG9jY3VyIGluIGJlZ2luKCkgaWYgdGhleSBhZmZlY3QgYW55dGhpbmcgdGhhdFxyXG4gICAgICoge0BsaW5rICNzZXRVcGRhdGUgdXBkYXRlfSgpIG9yIHtAbGluayAjc2V0RHJhdyBkcmF3fSgpIHVzZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBiZWdpblxyXG4gICAgICogICBUaGUgYmVnaW4oKSBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYmVnaW4udGltZXN0YW1wXVxyXG4gICAgICogICBUaGUgY3VycmVudCB0aW1lc3RhbXAgKHdoZW4gdGhlIGZyYW1lIHN0YXJ0ZWQpLCBpbiBtaWxsaXNlY29uZHMuIFRoaXNcclxuICAgICAqICAgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY29tcGFyaXNvbiB0byBvdGhlciB0aW1lc3RhbXBzIGJlY2F1c2UgdGhlXHJcbiAgICAgKiAgIGVwb2NoIChpLmUuIHRoZSBcInplcm9cIiB0aW1lKSBkZXBlbmRzIG9uIHRoZSBlbmdpbmUgcnVubmluZyB0aGlzIGNvZGUuXHJcbiAgICAgKiAgIEluIGVuZ2luZXMgdGhhdCBzdXBwb3J0IGBET01IaWdoUmVzVGltZVN0YW1wYCAoYWxsIG1vZGVybiBicm93c2Vyc1xyXG4gICAgICogICBleGNlcHQgaU9TIFNhZmFyaSA4KSB0aGUgZXBvY2ggaXMgdGhlIHRpbWUgdGhlIHBhZ2Ugc3RhcnRlZCBsb2FkaW5nLFxyXG4gICAgICogICBzcGVjaWZpY2FsbHkgYHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnRgLiBFdmVyeXdoZXJlIGVsc2UsXHJcbiAgICAgKiAgIGluY2x1ZGluZyBub2RlLmpzLCB0aGUgZXBvY2ggaXMgdGhlIFVuaXggZXBvY2ggKDE5NzAtMDEtMDFUMDA6MDA6MDBaKS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYmVnaW4uZGVsdGFdXHJcbiAgICAgKiAgIFRoZSB0b3RhbCBlbGFwc2VkIHRpbWUgdGhhdCBoYXMgbm90IHlldCBiZWVuIHNpbXVsYXRlZCwgaW5cclxuICAgICAqICAgbWlsbGlzZWNvbmRzLlxyXG4gICAgICovXHJcbiAgICBhYnN0cmFjdCBiZWdpbih0aW1lc3RhbXAgOiBudW1iZXIsIGRlbHRhIDogbnVtYmVyKSA6IHZvaWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgcnVucyB1cGRhdGVzIChpLmUuIEFJIGFuZCBwaHlzaWNzKS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgdXBkYXRlKCkgZnVuY3Rpb24gc2hvdWxkIHNpbXVsYXRlIGFueXRoaW5nIHRoYXQgaXMgYWZmZWN0ZWQgYnkgdGltZS5cclxuICAgICAqIEl0IGNhbiBiZSBjYWxsZWQgemVybyBvciBtb3JlIHRpbWVzIHBlciBmcmFtZSBkZXBlbmRpbmcgb24gdGhlIGZyYW1lXHJcbiAgICAgKiByYXRlLlxyXG4gICAgICpcclxuICAgICAqIEFzIHdpdGggZXZlcnl0aGluZyBpbiB0aGUgbWFpbiBsb29wLCB0aGUgcnVubmluZyB0aW1lIG9mIHVwZGF0ZSgpXHJcbiAgICAgKiBkaXJlY3RseSBhZmZlY3RzIHRoZSBmcmFtZSByYXRlLiBJZiB1cGRhdGUoKSB0YWtlcyBsb25nIGVub3VnaCB0aGF0IHRoZVxyXG4gICAgICogZnJhbWUgcmF0ZSBkcm9wcyBiZWxvdyB0aGUgdGFyZ2V0IChcImJ1ZGdldGVkXCIpIGZyYW1lIHJhdGUsIHBhcnRzIG9mIHRoZVxyXG4gICAgICogdXBkYXRlKCkgZnVuY3Rpb24gdGhhdCBkbyBub3QgbmVlZCB0byBleGVjdXRlIGJldHdlZW4gZXZlcnkgZnJhbWUgY2FuIGJlXHJcbiAgICAgKiBtb3ZlZCBpbnRvIFdlYiBXb3JrZXJzLiAoVmFyaW91cyBzb3VyY2VzIG9uIHRoZSBpbnRlcm5ldCBzb21ldGltZXNcclxuICAgICAqIHN1Z2dlc3Qgb3RoZXIgc2NoZWR1bGluZyBwYXR0ZXJucyB1c2luZyBzZXRUaW1lb3V0KCkgb3Igc2V0SW50ZXJ2YWwoKS5cclxuICAgICAqIFRoZXNlIGFwcHJvYWNoZXMgc29tZXRpbWVzIG9mZmVyIG1vZGVzdCBpbXByb3ZlbWVudHMgd2l0aCBtaW5pbWFsXHJcbiAgICAgKiBjaGFuZ2VzIHRvIGV4aXN0aW5nIGNvZGUsIGJ1dCBiZWNhdXNlIEphdmFTY3JpcHQgaXMgc2luZ2xlLXRocmVhZGVkLCB0aGVcclxuICAgICAqIHVwZGF0ZXMgd2lsbCBzdGlsbCBibG9jayByZW5kZXJpbmcgYW5kIGRyYWcgZG93biB0aGUgZnJhbWUgcmF0ZS4gV2ViXHJcbiAgICAgKiBXb3JrZXJzIGV4ZWN1dGUgaW4gc2VwYXJhdGUgdGhyZWFkcywgc28gdGhleSBmcmVlIHVwIG1vcmUgdGltZSBpbiB0aGVcclxuICAgICAqIG1haW4gbG9vcC4pXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBzY3JpcHQgY2FuIGJlIGltcG9ydGVkIGludG8gYSBXZWIgV29ya2VyIHVzaW5nIGltcG9ydFNjcmlwdHMoKSBhbmRcclxuICAgICAqIHVzZWQgdG8gcnVuIGEgc2Vjb25kIG1haW4gbG9vcCBpbiB0aGUgd29ya2VyLiBTb21lIGNvbnNpZGVyYXRpb25zOlxyXG4gICAgICpcclxuICAgICAqIC0gUHJvZmlsZSB5b3VyIGNvZGUgYmVmb3JlIGRvaW5nIHRoZSB3b3JrIHRvIG1vdmUgaXQgaW50byBXZWIgV29ya2Vycy5cclxuICAgICAqICAgSXQgY291bGQgYmUgdGhlIHJlbmRlcmluZyB0aGF0IGlzIHRoZSBib3R0bGVuZWNrLCBpbiB3aGljaCBjYXNlIHRoZVxyXG4gICAgICogICBzb2x1dGlvbiBpcyB0byBkZWNyZWFzZSB0aGUgdmlzdWFsIGNvbXBsZXhpdHkgb2YgdGhlIHNjZW5lLlxyXG4gICAgICogLSBJdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gbW92ZSB0aGUgKmVudGlyZSogY29udGVudHMgb2YgdXBkYXRlKCkgaW50b1xyXG4gICAgICogICB3b3JrZXJzIHVubGVzcyB7QGxpbmsgI3NldERyYXcgZHJhd30oKSBjYW4gaW50ZXJwb2xhdGUgYmV0d2VlbiBmcmFtZXMuXHJcbiAgICAgKiAgIFRoZSBsb3dlc3QtaGFuZ2luZyBmcnVpdCBpcyBiYWNrZ3JvdW5kIHVwZGF0ZXMgKGxpa2UgY2FsY3VsYXRpbmdcclxuICAgICAqICAgY2l0aXplbnMnIGhhcHBpbmVzcyBpbiBhIGNpdHktYnVpbGRpbmcgZ2FtZSksIHBoeXNpY3MgdGhhdCBkb2Vzbid0XHJcbiAgICAgKiAgIGFmZmVjdCB0aGUgc2NlbmUgKGxpa2UgZmxhZ3Mgd2F2aW5nIGluIHRoZSB3aW5kKSwgYW5kIGFueXRoaW5nIHRoYXQgaXNcclxuICAgICAqICAgb2NjbHVkZWQgb3IgaGFwcGVuaW5nIGZhciBvZmYgc2NyZWVuLlxyXG4gICAgICogLSBJZiBkcmF3KCkgbmVlZHMgdG8gaW50ZXJwb2xhdGUgcGh5c2ljcyBiYXNlZCBvbiBhY3Rpdml0eSB0aGF0IG9jY3Vyc1xyXG4gICAgICogICBpbiBhIHdvcmtlciwgdGhlIHdvcmtlciBuZWVkcyB0byBwYXNzIHRoZSBpbnRlcnBvbGF0aW9uIHZhbHVlIGJhY2sgdG9cclxuICAgICAqICAgdGhlIG1haW4gdGhyZWFkIHNvIHRoYXQgaXMgaXMgYXZhaWxhYmxlIHRvIGRyYXcoKS5cclxuICAgICAqIC0gV2ViIFdvcmtlcnMgY2FuJ3QgYWNjZXNzIHRoZSBzdGF0ZSBvZiB0aGUgbWFpbiB0aHJlYWQsIHNvIHRoZXkgY2FuJ3RcclxuICAgICAqICAgZGlyZWN0bHkgbW9kaWZ5IG9iamVjdHMgaW4geW91ciBzY2VuZS4gTW92aW5nIGRhdGEgdG8gYW5kIGZyb20gV2ViXHJcbiAgICAgKiAgIFdvcmtlcnMgaXMgYSBwYWluLiBUaGUgZmFzdGVzdCB3YXkgdG8gZG8gaXQgaXMgd2l0aCBUcmFuc2ZlcmFibGVcclxuICAgICAqICAgT2JqZWN0czogYmFzaWNhbGx5LCB5b3UgY2FuIHBhc3MgYW4gQXJyYXlCdWZmZXIgdG8gYSB3b3JrZXIsXHJcbiAgICAgKiAgIGRlc3Ryb3lpbmcgdGhlIG9yaWdpbmFsIHJlZmVyZW5jZSBpbiB0aGUgcHJvY2Vzcy5cclxuICAgICAqXHJcbiAgICAgKiBZb3UgY2FuIHJlYWQgbW9yZSBhYm91dCBXZWIgV29ya2VycyBhbmQgVHJhbnNmZXJhYmxlIE9iamVjdHMgYXRcclxuICAgICAqIFtIVE1MNSBSb2Nrc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvd29ya2Vycy9iYXNpY3MvKS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVcclxuICAgICAqICAgVGhlIHVwZGF0ZSgpIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt1cGRhdGUuZGVsdGFdXHJcbiAgICAgKiAgIFRoZSBhbW91bnQgb2YgdGltZSBpbiBtaWxsaXNlY29uZHMgdG8gc2ltdWxhdGUgaW4gdGhlIHVwZGF0ZS4gSW4gbW9zdFxyXG4gICAgICogICBjYXNlcyB0aGlzIHRpbWVzdGVwIG5ldmVyIGNoYW5nZXMgaW4gb3JkZXIgdG8gZW5zdXJlIGRldGVybWluaXN0aWNcclxuICAgICAqICAgdXBkYXRlcy4gVGhlIHRpbWVzdGVwIGlzIHRoZSBzYW1lIGFzIHRoYXQgcmV0dXJuZWQgYnlcclxuICAgICAqICAgYE1haW5Mb29wLmdldFNpbXVsYXRpb25UaW1lc3RlcCgpYC5cclxuICAgICAqL1xyXG4gICAgYWJzdHJhY3QgdXBkYXRlKHRpbWVTdGVwIDogbnVtYmVyKSA6IHZvaWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgZHJhd3MgdGhpbmdzIG9uIHRoZSBzY3JlZW4uXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGRyYXcoKSBmdW5jdGlvbiBnZXRzIHBhc3NlZCB0aGUgcGVyY2VudCBvZiB0aW1lIHRoYXQgdGhlIG5leHQgcnVuIG9mXHJcbiAgICAgKiB7QGxpbmsgI3NldFVwZGF0ZSB1cGRhdGV9KCkgd2lsbCBzaW11bGF0ZSB0aGF0IGhhcyBhY3R1YWxseSBlbGFwc2VkLCBhc1xyXG4gICAgICogYSBkZWNpbWFsLiBJbiBvdGhlciB3b3JkcywgZHJhdygpIGdldHMgcGFzc2VkIGhvdyBmYXIgYmV0d2VlbiB1cGRhdGUoKVxyXG4gICAgICogY2FsbHMgaXQgaXMuIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UgdGhlIHRpbWUgc2ltdWxhdGVkIGJ5IHVwZGF0ZSgpIGFuZFxyXG4gICAgICogdGhlIHRpbWUgYmV0d2VlbiBkcmF3KCkgY2FsbHMgaXMgdXN1YWxseSBkaWZmZXJlbnQsIHNvIHRoZSBwYXJhbWV0ZXIgdG9cclxuICAgICAqIGRyYXcoKSBjYW4gYmUgdXNlZCB0byBpbnRlcnBvbGF0ZSBtb3Rpb24gYmV0d2VlbiBmcmFtZXMgdG8gbWFrZVxyXG4gICAgICogcmVuZGVyaW5nIGFwcGVhciBzbW9vdGhlci4gVG8gaWxsdXN0cmF0ZSwgaWYgdXBkYXRlKCkgYWR2YW5jZXMgdGhlXHJcbiAgICAgKiBzaW11bGF0aW9uIGF0IGVhY2ggdmVydGljYWwgYmFyIGluIHRoZSBmaXJzdCByb3cgYmVsb3csIGFuZCBkcmF3KCkgY2FsbHNcclxuICAgICAqIGhhcHBlbiBhdCBlYWNoIHZlcnRpY2FsIGJhciBpbiB0aGUgc2Vjb25kIHJvdyBiZWxvdywgdGhlbiBzb21lIGZyYW1lc1xyXG4gICAgICogd2lsbCBoYXZlIHRpbWUgbGVmdCBvdmVyIHRoYXQgaXMgbm90IHlldCBzaW11bGF0ZWQgYnkgdXBkYXRlKCkgd2hlblxyXG4gICAgICogcmVuZGVyaW5nIG9jY3VycyBpbiBkcmF3KCk6XHJcbiAgICAgKlxyXG4gICAgICogICAgIHVwZGF0ZSgpIHRpbWVzdGVwczogIHwgIHwgIHwgIHwgIHwgIHwgIHwgIHwgIHxcclxuICAgICAqICAgICBkcmF3KCkgY2FsbHM6ICAgICAgICB8ICAgfCAgIHwgICB8ICAgfCAgIHwgICB8XHJcbiAgICAgKlxyXG4gICAgICogVG8gaW50ZXJwb2xhdGUgbW90aW9uIGZvciByZW5kZXJpbmcgcHVycG9zZXMsIG9iamVjdHMnIHN0YXRlIGFmdGVyIHRoZVxyXG4gICAgICogbGFzdCB1cGRhdGUoKSBtdXN0IGJlIHJldGFpbmVkIGFuZCB1c2VkIHRvIGNhbGN1bGF0ZSBhbiBpbnRlcm1lZGlhdGVcclxuICAgICAqIHN0YXRlLiBOb3RlIHRoYXQgdGhpcyBtZWFucyByZW5kZXJzIHdpbGwgYmUgdXAgdG8gb25lIHVwZGF0ZSgpIGJlaGluZC5cclxuICAgICAqIFRoaXMgaXMgc3RpbGwgYmV0dGVyIHRoYW4gZXh0cmFwb2xhdGluZyAocHJvamVjdGluZyBvYmplY3RzJyBzdGF0ZSBhZnRlclxyXG4gICAgICogYSBmdXR1cmUgdXBkYXRlKCkpIHdoaWNoIGNhbiBwcm9kdWNlIGJpemFycmUgcmVzdWx0cy4gU3RvcmluZyBtdWx0aXBsZVxyXG4gICAgICogc3RhdGVzIGNhbiBiZSBkaWZmaWN1bHQgdG8gc2V0IHVwLCBhbmQga2VlcCBpbiBtaW5kIHRoYXQgcnVubmluZyB0aGlzXHJcbiAgICAgKiBwcm9jZXNzIHRha2VzIHRpbWUgdGhhdCBjb3VsZCBwdXNoIHRoZSBmcmFtZSByYXRlIGRvd24sIHNvIGl0J3Mgb2Z0ZW5cclxuICAgICAqIG5vdCB3b3J0aHdoaWxlIHVubGVzcyBzdHV0dGVyaW5nIGlzIHZpc2libGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhd1xyXG4gICAgICogICBUaGUgZHJhdygpIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtkcmF3LmludGVycG9sYXRpb25QZXJjZW50YWdlXVxyXG4gICAgICogICBUaGUgY3VtdWxhdGl2ZSBhbW91bnQgb2YgdGltZSB0aGF0IGhhc24ndCBiZWVuIHNpbXVsYXRlZCB5ZXQsIGRpdmlkZWRcclxuICAgICAqICAgYnkgdGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgd2lsbCBiZSBzaW11bGF0ZWQgdGhlIG5leHQgdGltZSB1cGRhdGUoKVxyXG4gICAgICogICBydW5zLiBVc2VmdWwgZm9yIGludGVycG9sYXRpbmcgZnJhbWVzLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZHJhdyhpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSA6IG51bWJlcikgOiB2b2lkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IHJ1bnMgYXQgdGhlIGVuZCBvZiB0aGUgbWFpbiBsb29wLlxyXG4gICAgICpcclxuICAgICAqIFVubGlrZSB7QGxpbmsgI3NldFVwZGF0ZSB1cGRhdGV9KCksIHdoaWNoIGNhbiBydW4gemVybyBvciBtb3JlIHRpbWVzIHBlclxyXG4gICAgICogZnJhbWUsIGVuZCgpIGFsd2F5cyBydW5zIGV4YWN0bHkgb25jZSBwZXIgZnJhbWUuIFRoaXMgbWFrZXMgaXQgdXNlZnVsXHJcbiAgICAgKiBmb3IgYW55IHVwZGF0ZXMgdGhhdCBhcmUgbm90IGRlcGVuZGVudCBvbiB0aW1lIGluIHRoZSBzaW11bGF0aW9uLlxyXG4gICAgICogRXhhbXBsZXMgaW5jbHVkZSBjbGVhbmluZyB1cCBhbnkgdGVtcG9yYXJ5IHN0YXRlIHNldCB1cCBieVxyXG4gICAgICoge0BsaW5rICNzZXRCZWdpbiBiZWdpbn0oKSwgbG93ZXJpbmcgdGhlIHZpc3VhbCBxdWFsaXR5IGlmIHRoZSBmcmFtZSByYXRlXHJcbiAgICAgKiBpcyB0b28gbG93LCBvciBwZXJmb3JtaW5nIGxvbmctcnVubmluZyB1cGRhdGVzIGluY3JlbWVudGFsbHkuIENvbXBhcmVkXHJcbiAgICAgKiB0byBiZWdpbigpLCBnZW5lcmFsbHkgYWN0aW9ucyBzaG91bGQgb2NjdXIgaW4gZW5kKCkgaWYgdGhleSB1c2UgYW55dGhpbmdcclxuICAgICAqIHRoYXQgdXBkYXRlKCkgb3Ige0BsaW5rICNzZXREcmF3IGRyYXd9KCkgYWZmZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVuZFxyXG4gICAgICogICBUaGUgZW5kKCkgZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZC5mcHNdXHJcbiAgICAgKiAgIFRoZSBleHBvbmVudGlhbCBtb3ZpbmcgYXZlcmFnZSBvZiB0aGUgZnJhbWVzIHBlciBzZWNvbmQuIFRoaXMgaXMgdGhlXHJcbiAgICAgKiAgIHNhbWUgdmFsdWUgcmV0dXJuZWQgYnkgYE1haW5Mb29wLmdldEZQUygpYC4gSXQgY2FuIGJlIHVzZWQgdG8gdGFrZVxyXG4gICAgICogICBhY3Rpb24gd2hlbiB0aGUgRlBTIGlzIHRvbyBsb3cgKG9yIHRvIHJlc3RvcmUgdG8gbm9ybWFsY3kgaWYgdGhlIEZQU1xyXG4gICAgICogICBtb3ZlcyBiYWNrIHVwKS4gRXhhbXBsZXMgb2YgYWN0aW9ucyB0byB0YWtlIGlmIHRoZSBGUFMgaXMgdG9vIGxvd1xyXG4gICAgICogICBpbmNsdWRlIGV4aXRpbmcgdGhlIGFwcGxpY2F0aW9uLCBsb3dlcmluZyB0aGUgdmlzdWFsIHF1YWxpdHksIHN0b3BwaW5nXHJcbiAgICAgKiAgIG9yIHJlZHVjaW5nIGFjdGl2aXRpZXMgb3V0c2lkZSBvZiB0aGUgbWFpbiBsb29wIGxpa2UgZXZlbnQgaGFuZGxlcnMgb3JcclxuICAgICAqICAgYXVkaW8gcGxheWJhY2ssIHBlcmZvcm1pbmcgbm9uLWNyaXRpY2FsIHVwZGF0ZXMgbGVzcyBmcmVxdWVudGx5LCBvclxyXG4gICAgICogICBpbmNyZWFzaW5nIHRoZSBzaW11bGF0aW9uIHRpbWVzdGVwIChieSBjYWxsaW5nXHJcbiAgICAgKiAgIGBNYWluTG9vcC5zZXRTaW11bGF0aW9uVGltZXN0ZXAoKWApLiBOb3RlIHRoYXQgdGhpcyBsYXN0IG9wdGlvblxyXG4gICAgICogICByZXN1bHRzIGluIG1vcmUgdGltZSBiZWluZyBzaW11bGF0ZWQgcGVyIHVwZGF0ZSgpIGNhbGwsIHdoaWNoIGNhdXNlc1xyXG4gICAgICogICB0aGUgYXBwbGljYXRpb24gdG8gYmVoYXZlIG5vbi1kZXRlcm1pbmlzdGljYWxseS5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2VuZC5wYW5pYz1mYWxzZV1cclxuICAgICAqICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNpbXVsYXRpb24gaGFzIGZhbGxlbiB0b28gZmFyIGJlaGluZCByZWFsIHRpbWUuXHJcbiAgICAgKiAgIFNwZWNpZmljYWxseSwgYHBhbmljYCB3aWxsIGJlIGB0cnVlYCBpZiB0b28gbWFueSB1cGRhdGVzIG9jY3VycmVkIGluXHJcbiAgICAgKiAgIG9uZSBmcmFtZS4gSW4gbmV0d29ya2VkIGxvY2tzdGVwIGFwcGxpY2F0aW9ucywgdGhlIGFwcGxpY2F0aW9uIHNob3VsZFxyXG4gICAgICogICB3YWl0IGZvciBzb21lIGFtb3VudCBvZiB0aW1lIHRvIHNlZSBpZiB0aGUgdXNlciBjYW4gY2F0Y2ggdXAgYmVmb3JlXHJcbiAgICAgKiAgIGRyb3BwaW5nIHRoZSB1c2VyLiBJbiBuZXR3b3JrZWQgYnV0IG5vbi1sb2Nrc3RlcCBhcHBsaWNhdGlvbnMsIHRoaXNcclxuICAgICAqICAgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IHRoZSB1c2VyIG5lZWRzIHRvIGJlIHNuYXBwZWQgb3IgZWFzZWQgdG8gdGhlXHJcbiAgICAgKiAgIGN1cnJlbnQgYXV0aG9yaXRhdGl2ZSBzdGF0ZS4gV2hlbiB0aGlzIGhhcHBlbnMsIGl0IG1heSBiZSBjb252ZW5pZW50XHJcbiAgICAgKiAgIHRvIGNhbGwgYE1haW5Mb29wLnJlc2V0RnJhbWVEZWx0YSgpYCB0byBkaXNjYXJkIGFjY3VtdWxhdGVkIHBlbmRpbmdcclxuICAgICAqICAgdXBkYXRlcy4gSW4gbm9uLW5ldHdvcmtlZCBhcHBsaWNhdGlvbnMsIGl0IG1heSBiZSBhY2NlcHRhYmxlIHRvIGFsbG93XHJcbiAgICAgKiAgIHRoZSBhcHBsaWNhdGlvbiB0byBrZWVwIHJ1bm5pbmcgZm9yIGF3aGlsZSB0byBzZWUgaWYgaXQgd2lsbCBjYXRjaCB1cC5cclxuICAgICAqICAgSG93ZXZlciwgdGhpcyBjb3VsZCBhbHNvIGNhdXNlIHRoZSBhcHBsaWNhdGlvbiB0byBsb29rIGxpa2UgaXQgaXNcclxuICAgICAqICAgcnVubmluZyB2ZXJ5IHF1aWNrbHkgZm9yIGEgZmV3IGZyYW1lcyBhcyBpdCB0cmFuc2l0aW9ucyB0aHJvdWdoIHRoZVxyXG4gICAgICogICBpbnRlcm1lZGlhdGUgc3RhdGVzLiBBbiBhbHRlcm5hdGl2ZSB0aGF0IG1heSBiZSBhY2NlcHRhYmxlIGlzIHRvXHJcbiAgICAgKiAgIHNpbXBseSBpZ25vcmUgdGhlIHVuc2ltdWxhdGVkIGVsYXBzZWQgdGltZSBieSBjYWxsaW5nXHJcbiAgICAgKiAgIGBNYWluTG9vcC5yZXNldEZyYW1lRGVsdGEoKWAgZXZlbiB0aG91Z2ggdGhpcyBpbnRyb2R1Y2VzXHJcbiAgICAgKiAgIG5vbi1kZXRlcm1pbmlzdGljIGJlaGF2aW9yLiBJbiBhbGwgY2FzZXMsIGlmIHRoZSBhcHBsaWNhdGlvbiBwYW5pY3NcclxuICAgICAqICAgZnJlcXVlbnRseSwgdGhpcyBpcyBhbiBpbmRpY2F0aW9uIHRoYXQgdGhlIG1haW4gbG9vcCBpcyBydW5uaW5nIHRvb1xyXG4gICAgICogICBzbG93bHkuIEhvd2V2ZXIsIG1vc3Qgb2YgdGhlIHRpbWUgdGhlIGRyb3AgaW4gZnJhbWUgcmF0ZSB3aWxsIHByb2JhYmx5XHJcbiAgICAgKiAgIGJlIG5vdGljZWFibGUgYmVmb3JlIGEgcGFuaWMgb2NjdXJzLiBUbyBoZWxwIHRoZSBhcHBsaWNhdGlvbiBjYXRjaCB1cFxyXG4gICAgICogICBhZnRlciBhIHBhbmljIGNhdXNlZCBieSBhIHNwaXJhbCBvZiBkZWF0aCwgdGhlIHNhbWUgc3RlcHMgY2FuIGJlIHRha2VuXHJcbiAgICAgKiAgIHRoYXQgYXJlIHN1Z2dlc3RlZCBhYm92ZSBpZiB0aGUgRlBTIGRyb3BzIHRvbyBsb3cuXHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0IGVuZChmcHMgOiBudW1iZXIsIHBhbmljIDogYm9vbGVhbikgOiB2b2lkO1xyXG59IiwiLypcclxuICogTWF0aFV0aWxpdGllcyBwcm92aWRlcyBhIG51bWJlciBvZiBzZXJ2aWNlcyBmb3IgcmVuZGVyaW5nIHVzaW5nIDR4NCBtYXRyaWNlcywgbGlrZVxyXG4gKiB0cmFuc2Zvcm10aW5nIChpLmUuIHRyYW5zbGF0aW9uLCByb3RhdGlvbiwgYW5kIHNjYWxpbmcpIDNkIG9yIDJkIHBvaW50cyBmcm9tIHdvcmxkXHJcbiAqIGNvb3JkaW5hdGUgc3lzdGVtcyB0byBzY3JlZW4gY29vcmRpbmF0ZSBzeXN0ZW1zLlxyXG4gKi9cclxuaW1wb3J0IHtNYXRyaXh9IGZyb20gJy4vTWF0cml4J1xyXG5pbXBvcnQge1ZlY3RvcjN9IGZyb20gJy4vVmVjdG9yMydcclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgTWF0aFV0aWxpdGllcyB7XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQ0eDQocmVzdWx0IDogTWF0cml4KSA6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGRldDAgPSByZXN1bHQuZ2V0KDAsIDApICogKFxyXG4gICAgICAgICAgICAocmVzdWx0LmdldCgxLCAxKSAqICgocmVzdWx0LmdldCgyLCAyKSAqIHJlc3VsdC5nZXQoMywgMykpIC0gKHJlc3VsdC5nZXQoMiwgMykgKiByZXN1bHQuZ2V0KDMsIDIpKSkpXHJcbiAgICAgICAgICAgIC0gKHJlc3VsdC5nZXQoMSwgMikgKiAoKHJlc3VsdC5nZXQoMiwgMSkgKiByZXN1bHQuZ2V0KDMsIDMpKSAtIChyZXN1bHQuZ2V0KDIsIDMpICogcmVzdWx0LmdldCgzLCAxKSkpKVxyXG4gICAgICAgICAgICArIChyZXN1bHQuZ2V0KDEsIDMpICogKChyZXN1bHQuZ2V0KDIsIDEpICogcmVzdWx0LmdldCgzLCAyKSkgLSAocmVzdWx0LmdldCgzLCAxKSAqIHJlc3VsdC5nZXQoMiwgMikpKSkpO1xyXG4gICAgICAgIGxldCBkZXQxID0gcmVzdWx0LmdldCgwLCAxKSAqIChcclxuICAgICAgICAgICAgKHJlc3VsdC5nZXQoMSwgMCkgKiAoKHJlc3VsdC5nZXQoMiwgMikgKiByZXN1bHQuZ2V0KDMsIDMpKSAtIChyZXN1bHQuZ2V0KDIsIDMpICogcmVzdWx0LmdldCgzLCAyKSkpKVxyXG4gICAgICAgICAgICAtIChyZXN1bHQuZ2V0KDEsIDIpICogKChyZXN1bHQuZ2V0KDIsIDApICogcmVzdWx0LmdldCgzLCAzKSkgLSAocmVzdWx0LmdldCgzLCAwKSAqIHJlc3VsdC5nZXQoMiwgMykpKSlcclxuICAgICAgICAgICAgKyAocmVzdWx0LmdldCgxLCAzKSAqICgocmVzdWx0LmdldCgyLCAwKSAqIHJlc3VsdC5nZXQoMywgMikpIC0gKHJlc3VsdC5nZXQoMywgMCkgKiByZXN1bHQuZ2V0KDIsIDIpKSkpKTtcclxuICAgICAgICBsZXQgZGV0MiA9IHJlc3VsdC5nZXQoMCwgMikgKiAoXHJcbiAgICAgICAgICAgIChyZXN1bHQuZ2V0KDEsIDApICogKChyZXN1bHQuZ2V0KDIsIDEpICogcmVzdWx0LmdldCgzLCAzKSkgLSAocmVzdWx0LmdldCgyLCAzKSAqIHJlc3VsdC5nZXQoMywgMSkpKSlcclxuICAgICAgICAgICAgLSAocmVzdWx0LmdldCgxLCAxKSAqICgocmVzdWx0LmdldCgyLCAwKSAqIHJlc3VsdC5nZXQoMywgMykpIC0gKHJlc3VsdC5nZXQoMiwgMykgKiByZXN1bHQuZ2V0KDMsIDApKSkpXHJcbiAgICAgICAgICAgICsgKHJlc3VsdC5nZXQoMSwgMykgKiAoKHJlc3VsdC5nZXQoMiwgMCkgKiByZXN1bHQuZ2V0KDMsIDEpKSAtIChyZXN1bHQuZ2V0KDIsIDEpICogcmVzdWx0LmdldCgzLCAwKSkpKSk7XHJcbiAgICAgICAgbGV0IGRldDMgPSByZXN1bHQuZ2V0KDAsIDMpICogKFxyXG4gICAgICAgICAgICAocmVzdWx0LmdldCgxLCAwKSAqICgocmVzdWx0LmdldCgyLCAxKSAqIHJlc3VsdC5nZXQoMywgMikpIC0gKHJlc3VsdC5nZXQoMiwgMikgKiByZXN1bHQuZ2V0KDMsIDEpKSkpXHJcbiAgICAgICAgICAgIC0gKHJlc3VsdC5nZXQoMSwgMSkgKiAoKHJlc3VsdC5nZXQoMiwgMCkgKiByZXN1bHQuZ2V0KDMsIDIpKSAtIChyZXN1bHQuZ2V0KDIsIDIpICogcmVzdWx0LmdldCgzLCAwKSkpKVxyXG4gICAgICAgICAgICArIChyZXN1bHQuZ2V0KDEsIDIpICogKChyZXN1bHQuZ2V0KDIsIDApICogcmVzdWx0LmdldCgzLCAxKSkgLSAocmVzdWx0LmdldCgyLCAxKSAqIHJlc3VsdC5nZXQoMywgMCkpKSkpO1xyXG4gICAgICAgIGxldCBkZXQgPSBkZXQwIC0gZGV0MSArIGRldDIgLSBkZXQzO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGV0ID0gXCIgKyBkZXQwICsgXCIgKyBcIiArIGRldDEgKyBcIiArIFwiICsgZGV0MiArIFwiICsgXCIgKyBkZXQzKTtcclxuICAgICAgICByZXR1cm4gZGV0O1xyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHJlc3VsdCA6IE1hdHJpeCkgOiB2b2lkIHtcclxuICAgICAgICBpZiAocmVzdWx0LmdldFJvd3MoKSA9PT0gcmVzdWx0LmdldENvbHVtbnMoKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5nZXRSb3dzKCk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZXN1bHQuZ2V0Q29sdW1ucygpOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gailcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldCgxLjAsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldCgwLjAsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGludmVyc2UocmVzdWx0IDogTWF0cml4LCBtYXQgOiBNYXRyaXgpIDogdm9pZCB7XHJcbiAgICAgICAgbGV0IGRldCA9IHRoaXMuZGV0ZXJtaW5hbnQobWF0KTtcclxuICAgICAgICBsZXQgbTAwID0gbWF0LmdldCgwLCAwKTsgbGV0IG0wMSA9IG1hdC5nZXQoMCwgMSk7IGxldCBtMDIgPSBtYXQuZ2V0KDAsIDIpOyBsZXQgbTAzID0gbWF0LmdldCgwLCAzKTtcclxuICAgICAgICBsZXQgbTEwID0gbWF0LmdldCgxLCAwKTsgbGV0IG0xMSA9IG1hdC5nZXQoMSwgMSk7IGxldCBtMTIgPSBtYXQuZ2V0KDEsIDIpOyBsZXQgbTEzID0gbWF0LmdldCgxLCAzKTtcclxuICAgICAgICBsZXQgbTIwID0gbWF0LmdldCgyLCAwKTsgbGV0IG0yMSA9IG1hdC5nZXQoMiwgMSk7IGxldCBtMjIgPSBtYXQuZ2V0KDIsIDIpOyBsZXQgbTIzID0gbWF0LmdldCgyLCAzKTtcclxuICAgICAgICBsZXQgbTMwID0gbWF0LmdldCgzLCAwKTsgbGV0IG0zMSA9IG1hdC5nZXQoMywgMSk7IGxldCBtMzIgPSBtYXQuZ2V0KDMsIDIpOyBsZXQgbTMzID0gbWF0LmdldCgzLCAzKTtcclxuICAgICAgICBsZXQgdGVtcCA9IG5ldyBNYXRyaXgoNCwgNCk7XHJcbiAgICAgICAgdGVtcC5zZXQoKG0xMiAqIG0yMyAqIG0zMSkgLSAobTEzICogbTIyICogbTMxKSArIChtMTMgKiBtMjEgKiBtMzIpIC0gKG0xMSAqIG0yMyAqIG0zMikgLSAobTEyICogbTIxICogbTMzKSArIChtMTEgKiBtMjIgKiBtMzMpLCAwLCAwKTtcclxuICAgICAgICB0ZW1wLnNldCgobTAzICogbTIyICogbTMxKSAtIChtMDIgKiBtMjMgKiBtMzEpIC0gKG0wMyAqIG0yMSAqIG0zMikgKyAobTAxICogbTIzICogbTMyKSArIChtMDIgKiBtMjEgKiBtMzMpIC0gKG0wMSAqIG0yMiAqIG0zMyksIDAsIDEpO1xyXG4gICAgICAgIHRlbXAuc2V0KChtMDIgKiBtMTMgKiBtMzEpIC0gKG0wMyAqIG0xMiAqIG0zMSkgKyAobTAzICogbTExICogbTMyKSAtIChtMDEgKiBtMTMgKiBtMzIpIC0gKG0wMiAqIG0xMSAqIG0zMykgKyAobTAxICogbTEyICogbTMzKSwgMCwgMik7XHJcbiAgICAgICAgdGVtcC5zZXQoKG0wMyAqIG0xMiAqIG0yMSkgLSAobTAyICogbTEzICogbTIxKSAtIChtMDMgKiBtMTEgKiBtMjIpICsgKG0wMSAqIG0xMyAqIG0yMikgKyAobTAyICogbTExICogbTIzKSAtIChtMDEgKiBtMTIgKiBtMjMpLCAwLCAzKTtcclxuICAgICAgICB0ZW1wLnNldCgobTEzICogbTIyICogbTMwKSAtIChtMTIgKiBtMjMgKiBtMzApIC0gKG0xMyAqIG0yMCAqIG0zMikgKyAobTEwICogbTIzICogbTMyKSArIChtMTIgKiBtMjAgKiBtMzMpIC0gKG0xMCAqIG0yMiAqIG0zMyksIDEsIDApO1xyXG4gICAgICAgIHRlbXAuc2V0KChtMDIgKiBtMjMgKiBtMzApIC0gKG0wMyAqIG0yMiAqIG0zMCkgKyAobTAzICogbTIwICogbTMyKSAtIChtMDAgKiBtMjMgKiBtMzIpIC0gKG0wMiAqIG0yMCAqIG0zMykgKyAobTAwICogbTIyICogbTMzKSwgMSwgMSk7XHJcbiAgICAgICAgdGVtcC5zZXQoKG0wMyAqIG0xMiAqIG0zMCkgLSAobTAyICogbTEzICogbTMwKSAtIChtMDMgKiBtMTAgKiBtMzIpICsgKG0wMCAqIG0xMyAqIG0zMikgKyAobTAyICogbTEwICogbTMzKSAtIChtMDAgKiBtMTIgKiBtMzMpLCAxLCAyKTtcclxuICAgICAgICB0ZW1wLnNldCgobTAyICogbTEzICogbTIwKSAtIChtMDMgKiBtMTIgKiBtMjApICsgKG0wMyAqIG0xMCAqIG0yMikgLSAobTAwICogbTEzICogbTIyKSAtIChtMDIgKiBtMTAgKiBtMjMpICsgKG0wMCAqIG0xMiAqIG0yMyksIDEsIDMpO1xyXG4gICAgICAgIHRlbXAuc2V0KChtMTEgKiBtMjMgKiBtMzApIC0gKG0xMyAqIG0yMSAqIG0zMCkgKyAobTEzICogbTIwICogbTMxKSAtIChtMTAgKiBtMjMgKiBtMzEpIC0gKG0xMSAqIG0yMCAqIG0zMykgKyAobTEwICogbTIxICogbTMzKSwgMiwgMCk7XHJcbiAgICAgICAgdGVtcC5zZXQoKG0wMyAqIG0yMSAqIG0zMCkgLSAobTAxICogbTIzICogbTMwKSAtIChtMDMgKiBtMjAgKiBtMzEpICsgKG0wMCAqIG0yMyAqIG0zMSkgKyAobTAxICogbTIwICogbTMzKSAtIChtMDAgKiBtMjEgKiBtMzMpLCAyLCAxKTtcclxuICAgICAgICB0ZW1wLnNldCgobTAxICogbTEzICogbTMwKSAtIChtMDMgKiBtMTEgKiBtMzApICsgKG0wMyAqIG0xMCAqIG0zMSkgLSAobTAwICogbTEzICogbTMxKSAtIChtMDEgKiBtMTAgKiBtMzMpICsgKG0wMCAqIG0xMSAqIG0zMyksIDIsIDIpO1xyXG4gICAgICAgIHRlbXAuc2V0KChtMDMgKiBtMTEgKiBtMjApIC0gKG0wMSAqIG0xMyAqIG0yMCkgLSAobTAzICogbTEwICogbTIxKSArIChtMDAgKiBtMTMgKiBtMjEpICsgKG0wMSAqIG0xMCAqIG0yMykgLSAobTAwICogbTExICogbTIzKSwgMiwgMyk7XHJcbiAgICAgICAgdGVtcC5zZXQoKG0xMiAqIG0yMSAqIG0zMCkgLSAobTExICogbTIyICogbTMwKSAtIChtMTIgKiBtMjAgKiBtMzEpICsgKG0xMCAqIG0yMiAqIG0zMSkgKyAobTExICogbTIwICogbTMyKSAtIChtMTAgKiBtMjEgKiBtMzIpLCAzLCAwKTtcclxuICAgICAgICB0ZW1wLnNldCgobTAxICogbTIyICogbTMwKSAtIChtMDIgKiBtMjEgKiBtMzApICsgKG0wMiAqIG0yMCAqIG0zMSkgLSAobTAwICogbTIyICogbTMxKSAtIChtMDEgKiBtMjAgKiBtMzIpICsgKG0wMCAqIG0yMSAqIG0zMiksIDMsIDEpO1xyXG4gICAgICAgIHRlbXAuc2V0KChtMDIgKiBtMTEgKiBtMzApIC0gKG0wMSAqIG0xMiAqIG0zMCkgLSAobTAyICogbTEwICogbTMxKSArIChtMDAgKiBtMTIgKiBtMzEpICsgKG0wMSAqIG0xMCAqIG0zMikgLSAobTAwICogbTExICogbTMyKSwgMywgMik7XHJcbiAgICAgICAgdGVtcC5zZXQoKG0wMSAqIG0xMiAqIG0yMCkgLSAobTAyICogbTExICogbTIwKSArIChtMDIgKiBtMTAgKiBtMjEpIC0gKG0wMCAqIG0xMiAqIG0yMSkgLSAobTAxICogbTEwICogbTIyKSArIChtMDAgKiBtMTEgKiBtMjIpLCAzLCAzKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnNldCh0ZW1wLmdldChpLCBqKSAvIGRldCwgaSwgaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gbW9kZWwocmVzdWx0IDogTWF0cml4LCB0cmFuc2xhdGlvbiA6IFZlY3RvcjMsIHJvdGF0aW9uIDogVmVjdG9yMywgc2NhbGUgOiBWZWN0b3IzKSA6IHZvaWQge1xyXG4gICAgICAgIC8vIFRSQU5TTEFUSU9OIE1BVFJJWFx0XHJcbiAgICAgICAgbGV0IHRyYW5zbGF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcclxuICAgICAgICB0aGlzLmlkZW50aXR5KHRyYW5zbGF0aW9uTWF0cml4KTtcclxuICAgICAgICB0aGlzLnRyYW5zbGF0ZSh0cmFuc2xhdGlvbk1hdHJpeCwgdHJhbnNsYXRpb24pO1xyXG5cclxuICAgICAgICAvLyBST1RBVElPTiBNQVRSSVhcclxuICAgICAgICBsZXQgcm90YXRpb25NYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xyXG4gICAgICAgIHRoaXMuaWRlbnRpdHkocm90YXRpb25NYXRyaXgpO1xyXG4gICAgICAgIHRoaXMucm90YXRlKHJvdGF0aW9uTWF0cml4LCByb3RhdGlvbik7XHJcblxyXG4gICAgICAgIC8vIFNDQUxJTkcgTUFUUklYXHJcbiAgICAgICAgbGV0IHNjYWxlTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcclxuICAgICAgICB0aGlzLmlkZW50aXR5KHNjYWxlTWF0cml4KTtcclxuICAgICAgICB0aGlzLnNjYWxlKHNjYWxlTWF0cml4LCBzY2FsZSk7XHJcblxyXG4gICAgICAgIC8vIEFORCBOT1cgTVVMVElQTFkgVEhFTSBUT0dFVEhFUiBJTiBUSEUgQ09SUkVDVCBPUkRFUlxyXG4gICAgICAgIGxldCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcclxuICAgICAgICB0aGlzLm11bHRpcGx5KHRlbXBNYXRyaXgsIHRyYW5zbGF0aW9uTWF0cml4LCByb3RhdGlvbk1hdHJpeCk7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBseShyZXN1bHQsIHRlbXBNYXRyaXgsIHNjYWxlTWF0cml4KTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkocmVzdWx0IDogTWF0cml4LCBtYXQwIDogTWF0cml4LCBtYXQxIDogTWF0cml4KSA6IHZvaWQge1xyXG4gICAgICAgIC8vIHJlc3VsdCBNSUdIVCBCRSBtYXQwIE9SIG1hdDEgU08gSVQnUyBCRVNUIElGIFdFXHJcbiAgICAgICAgLy8gQ0FMQ1VMQVRFIFRFTVAgVkFMVUVTIEZJUlNUIEJFRk9SRSBBU1NJR05NRU5UXHJcbiAgICAgICAgbGV0IHIwMCA9IChtYXQwLmdldCgwLCAwKSAqIG1hdDEuZ2V0KDAsIDApKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAxKSAqIG1hdDEuZ2V0KDEsIDApKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAyKSAqIG1hdDEuZ2V0KDIsIDApKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAzKSAqIG1hdDEuZ2V0KDMsIDApKTtcclxuICAgICAgICBsZXQgcjEwID0gKG1hdDAuZ2V0KDEsIDApICogbWF0MS5nZXQoMCwgMCkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDEpICogbWF0MS5nZXQoMSwgMCkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDIpICogbWF0MS5nZXQoMiwgMCkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDMpICogbWF0MS5nZXQoMywgMCkpO1xyXG4gICAgICAgIGxldCByMjAgPSAobWF0MC5nZXQoMiwgMCkgKiBtYXQxLmdldCgwLCAwKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMSkgKiBtYXQxLmdldCgxLCAwKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMikgKiBtYXQxLmdldCgyLCAwKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMykgKiBtYXQxLmdldCgzLCAwKSk7XHJcbiAgICAgICAgbGV0IHIzMCA9IChtYXQwLmdldCgzLCAwKSAqIG1hdDEuZ2V0KDAsIDApKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAxKSAqIG1hdDEuZ2V0KDEsIDApKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAyKSAqIG1hdDEuZ2V0KDIsIDApKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAzKSAqIG1hdDEuZ2V0KDMsIDApKTtcclxuICAgICAgICBsZXQgcjAxID0gKG1hdDAuZ2V0KDAsIDApICogbWF0MS5nZXQoMCwgMSkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDEpICogbWF0MS5nZXQoMSwgMSkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDIpICogbWF0MS5nZXQoMiwgMSkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDMpICogbWF0MS5nZXQoMywgMSkpO1xyXG4gICAgICAgIGxldCByMTEgPSAobWF0MC5nZXQoMSwgMCkgKiBtYXQxLmdldCgwLCAxKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMSkgKiBtYXQxLmdldCgxLCAxKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMikgKiBtYXQxLmdldCgyLCAxKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMykgKiBtYXQxLmdldCgzLCAxKSk7XHJcbiAgICAgICAgbGV0IHIyMSA9IChtYXQwLmdldCgyLCAwKSAqIG1hdDEuZ2V0KDAsIDEpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAxKSAqIG1hdDEuZ2V0KDEsIDEpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAyKSAqIG1hdDEuZ2V0KDIsIDEpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAzKSAqIG1hdDEuZ2V0KDMsIDEpKTtcclxuICAgICAgICBsZXQgcjMxID0gKG1hdDAuZ2V0KDMsIDApICogbWF0MS5nZXQoMCwgMSkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDEpICogbWF0MS5nZXQoMSwgMSkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDIpICogbWF0MS5nZXQoMiwgMSkpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDMpICogbWF0MS5nZXQoMywgMSkpO1xyXG4gICAgICAgIGxldCByMDIgPSAobWF0MC5nZXQoMCwgMCkgKiBtYXQxLmdldCgwLCAyKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMSkgKiBtYXQxLmdldCgxLCAyKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMikgKiBtYXQxLmdldCgyLCAyKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMykgKiBtYXQxLmdldCgzLCAyKSk7XHJcbiAgICAgICAgbGV0IHIxMiA9IChtYXQwLmdldCgxLCAwKSAqIG1hdDEuZ2V0KDAsIDIpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAxKSAqIG1hdDEuZ2V0KDEsIDIpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAyKSAqIG1hdDEuZ2V0KDIsIDIpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAzKSAqIG1hdDEuZ2V0KDMsIDIpKTtcclxuICAgICAgICBsZXQgcjIyID0gKG1hdDAuZ2V0KDIsIDApICogbWF0MS5nZXQoMCwgMikpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDEpICogbWF0MS5nZXQoMSwgMikpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDIpICogbWF0MS5nZXQoMiwgMikpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDMpICogbWF0MS5nZXQoMywgMikpO1xyXG4gICAgICAgIGxldCByMzIgPSAobWF0MC5nZXQoMywgMCkgKiBtYXQxLmdldCgwLCAyKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMSkgKiBtYXQxLmdldCgxLCAyKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMikgKiBtYXQxLmdldCgyLCAyKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMykgKiBtYXQxLmdldCgzLCAyKSk7XHJcbiAgICAgICAgbGV0IHIwMyA9IChtYXQwLmdldCgwLCAwKSAqIG1hdDEuZ2V0KDAsIDMpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAxKSAqIG1hdDEuZ2V0KDEsIDMpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAyKSAqIG1hdDEuZ2V0KDIsIDMpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAzKSAqIG1hdDEuZ2V0KDMsIDMpKTtcclxuICAgICAgICBsZXQgcjEzID0gKG1hdDAuZ2V0KDEsIDApICogbWF0MS5nZXQoMCwgMykpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDEpICogbWF0MS5nZXQoMSwgMykpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDIpICogbWF0MS5nZXQoMiwgMykpXHJcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDMpICogbWF0MS5nZXQoMywgMykpO1xyXG4gICAgICAgIGxldCByMjMgPSAobWF0MC5nZXQoMiwgMCkgKiBtYXQxLmdldCgwLCAzKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMSkgKiBtYXQxLmdldCgxLCAzKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMikgKiBtYXQxLmdldCgyLCAzKSlcclxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMykgKiBtYXQxLmdldCgzLCAzKSk7XHJcbiAgICAgICAgbGV0IHIzMyA9IChtYXQwLmdldCgzLCAwKSAqIG1hdDEuZ2V0KDAsIDMpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAxKSAqIG1hdDEuZ2V0KDEsIDMpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAyKSAqIG1hdDEuZ2V0KDIsIDMpKVxyXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAzKSAqIG1hdDEuZ2V0KDMsIDMpKTtcclxuXHJcbiAgICAgICAgLy8gTk9XIFBVVCBBTEwgVEhFIENBTENVTEFURUQgVkFMVUVTIElOIFRIRSByZXN1bHQgTUFUUklYXHJcbiAgICAgICAgcmVzdWx0LnNldChyMDAsIDAsIDApO1xyXG4gICAgICAgIHJlc3VsdC5zZXQocjEwLCAxLCAwKTtcclxuICAgICAgICByZXN1bHQuc2V0KHIyMCwgMiwgMCk7XHJcbiAgICAgICAgcmVzdWx0LnNldChyMzAsIDMsIDApO1xyXG4gICAgICAgIHJlc3VsdC5zZXQocjAxLCAwLCAxKTtcclxuICAgICAgICByZXN1bHQuc2V0KHIxMSwgMSwgMSk7XHJcbiAgICAgICAgcmVzdWx0LnNldChyMjEsIDIsIDEpO1xyXG4gICAgICAgIHJlc3VsdC5zZXQocjMxLCAzLCAxKTtcclxuICAgICAgICByZXN1bHQuc2V0KHIwMiwgMCwgMik7XHJcbiAgICAgICAgcmVzdWx0LnNldChyMTIsIDEsIDIpO1xyXG4gICAgICAgIHJlc3VsdC5zZXQocjIyLCAyLCAyKTtcclxuICAgICAgICByZXN1bHQuc2V0KHIzMiwgMywgMik7XHJcbiAgICAgICAgcmVzdWx0LnNldChyMDMsIDAsIDMpO1xyXG4gICAgICAgIHJlc3VsdC5zZXQocjEzLCAxLCAzKTtcclxuICAgICAgICByZXN1bHQuc2V0KHIyMywgMiwgMyk7XHJcbiAgICAgICAgcmVzdWx0LnNldChyMzMsIDMsIDMpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0aW9uKHJlc3VsdCA6IE1hdHJpeCwgbmVhclogOiBudW1iZXIsIGZhclogOiBudW1iZXIsIHZpZXdwb3J0V2lkdGggOiBudW1iZXIsIHZpZXdwb3J0SGVpZ2h0IDogbnVtYmVyLCBmb3ZZIDogbnVtYmVyKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCBhc3BlY3RSYXRpbyA9IHZpZXdwb3J0V2lkdGggLyB2aWV3cG9ydEhlaWdodDtcclxuICAgICAgICBsZXQgZmllbGRPZlZpZXdZID0gdGhpcy5tYXRoLmRlZ3JlZXNUb1JhZGlhbnMoZm92WSk7XHJcbiAgICAgICAgbGV0IGZpZWxkT2ZWaWV3WCA9IDIgKiBNYXRoLmF0YW4oTWF0aC50YW4oZmllbGRPZlZpZXdZIC8gMikgKiBhc3BlY3RSYXRpbyk7XHJcblxyXG4gICAgICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBBUyBTSE9SVEhBTkQgRk9SIExPQURJTkcgT1VSIE1BVFJJWFxyXG4gICAgICAgIGxldCBuID0gbmVhclo7XHJcbiAgICAgICAgbGV0IGYgPSBmYXJaO1xyXG4gICAgICAgIGxldCByID0gTWF0aC50YW4oZmllbGRPZlZpZXdYIC8gMikgKiBuO1xyXG4gICAgICAgIGxldCB0ID0gTWF0aC50YW4oZmllbGRPZlZpZXdZIC8gMikgKiBuO1xyXG5cclxuICAgICAgICAvLyAwLTNcclxuICAgICAgICByZXN1bHQuc2V0KG4gLyByLCAwLCAwKTtcclxuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMCwgMSk7XHJcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDAsIDIpO1xyXG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAwLCAzKTtcclxuICAgICAgICAvLyA0LTdcclxuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMSwgMCk7XHJcbiAgICAgICAgcmVzdWx0LnNldChuIC8gdCwgMSwgMSk7XHJcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDEsIDIpO1xyXG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAxLCAzKTtcclxuICAgICAgICAvLyA4LTExXHJcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDIsIDApO1xyXG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAyLCAxKTtcclxuICAgICAgICByZXN1bHQuc2V0KCgtKGYgKyBuKSkgLyAoZiAtIG4pLCAyLCAyKTtcclxuICAgICAgICByZXN1bHQuc2V0KCgtMiAqIGYgKiBuKSAvIChmIC0gbiksIDIsIDMpO1xyXG4gICAgICAgIC8vIDEyLTE1IFxyXG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAzLCAwKTtcclxuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMywgMSk7XHJcbiAgICAgICAgcmVzdWx0LnNldCgtMS4wLCAzLCAyKTtcclxuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMywgMyk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShyZXN1bHQgOiBNYXRyaXgsIHJvdGF0aW9uVmVjdG9yIDogVmVjdG9yMykgOiB2b2lkIHtcclxuICAgICAgICAvLyBTVEFSVCBXSVRIIFRIRSBYLUFYSVMgUk9UQVRJT05cclxuICAgICAgICBsZXQgeFJvdGF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcclxuICAgICAgICB0aGlzLmlkZW50aXR5KHhSb3RhdGlvbk1hdHJpeCk7XHJcbiAgICAgICAgbGV0IHRoZXRhWCA9IHJvdGF0aW9uVmVjdG9yLmdldFRoZXRhWCgpO1xyXG4gICAgICAgIHhSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5jb3ModGhldGFYKSwgMSwgMSk7XHJcbiAgICAgICAgeFJvdGF0aW9uTWF0cml4LnNldChNYXRoLnNpbih0aGV0YVgpLCAyLCAxKTtcclxuICAgICAgICB4Um90YXRpb25NYXRyaXguc2V0KC0xICogTWF0aC5zaW4odGhldGFYKSwgMSwgMik7XHJcbiAgICAgICAgeFJvdGF0aW9uTWF0cml4LnNldChNYXRoLmNvcyh0aGV0YVgpLCAyLCAyKTtcclxuXHJcbiAgICAgICAgLy8gU1RBUlQgV0lUSCBUSEUgWS1BWElTIFJPVEFUSU9OXHJcbiAgICAgICAgbGV0IHlSb3RhdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoNCwgNCk7XHJcbiAgICAgICAgdGhpcy5pZGVudGl0eSh5Um90YXRpb25NYXRyaXgpO1xyXG4gICAgICAgIGxldCB0aGV0YVkgPSByb3RhdGlvblZlY3Rvci5nZXRUaGV0YVkoKTtcclxuICAgICAgICB5Um90YXRpb25NYXRyaXguc2V0KE1hdGguY29zKHRoZXRhWSksIDAsIDApO1xyXG4gICAgICAgIHlSb3RhdGlvbk1hdHJpeC5zZXQoLTEgKiBNYXRoLnNpbih0aGV0YVkpLCAyLCAwKTtcclxuICAgICAgICB5Um90YXRpb25NYXRyaXguc2V0KE1hdGguc2luKHRoZXRhWSksIDAsIDIpO1xyXG4gICAgICAgIHlSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5jb3ModGhldGFZKSwgMiwgMik7XHJcblxyXG4gICAgICAgIC8vIFNUQVJUIFdJVEggVEhFIFotQVhJUyBST1RBVElPTlxyXG4gICAgICAgIGxldCB6Um90YXRpb25NYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xyXG4gICAgICAgIHRoaXMuaWRlbnRpdHkoelJvdGF0aW9uTWF0cml4KTtcclxuICAgICAgICBsZXQgdGhldGFaID0gcm90YXRpb25WZWN0b3IuZ2V0VGhldGFaKCk7XHJcbiAgICAgICAgelJvdGF0aW9uTWF0cml4LnNldChNYXRoLmNvcyh0aGV0YVopLCAwLCAwKTtcclxuICAgICAgICB6Um90YXRpb25NYXRyaXguc2V0KE1hdGguc2luKHRoZXRhWiksIDEsIDApO1xyXG4gICAgICAgIHpSb3RhdGlvbk1hdHJpeC5zZXQoLTEgKiBNYXRoLnNpbih0aGV0YVopLCAwLCAxKTtcclxuICAgICAgICB6Um90YXRpb25NYXRyaXguc2V0KE1hdGguY29zKHRoZXRhWiksIDEsIDEpO1xyXG5cclxuICAgICAgICAvLyBTVEFSVCBXSVRIIFRIRSBYLUFYSVMgUk9UQVRJT05cclxuICAgICAgICBsZXQgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoNCwgNCk7XHJcbiAgICAgICAgdGhpcy5pZGVudGl0eSh0ZW1wTWF0cml4KTtcclxuICAgICAgICB0aGlzLm11bHRpcGx5KHRlbXBNYXRyaXgsIHhSb3RhdGlvbk1hdHJpeCwgeVJvdGF0aW9uTWF0cml4KTtcclxuICAgICAgICB0aGlzLm11bHRpcGx5KHJlc3VsdCwgdGVtcE1hdHJpeCwgelJvdGF0aW9uTWF0cml4KTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2NhbGUocmVzdWx0IDogTWF0cml4LCBzY2FsZVZlY3RvciA6IFZlY3RvcjMpIDogdm9pZCB7XHJcbiAgICAgICAgLy8gU1RBUlQgV0lUSCBUSEUgSURFTlRJVFkgTUFUUklYXHJcbiAgICAgICAgdGhpcy5pZGVudGl0eShyZXN1bHQsIHNjYWxlVmVjdG9yKTtcclxuXHJcbiAgICAgICAgLy8gQU5EIFRIRU4gTE9BRCBJTiBUSEUgVFJBTlNMQVRJT04gVkFMVUVTXHJcbiAgICAgICAgcmVzdWx0LnNldChzY2FsZVZlY3Rvci5nZXRYKCksIDAsIDApO1xyXG4gICAgICAgIHJlc3VsdC5zZXQoc2NhbGVWZWN0b3IuZ2V0WSgpLCAxLCAxKTtcclxuICAgICAgICByZXN1bHQuc2V0KHNjYWxlVmVjdG9yLmdldFooKSwgMiwgMik7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybShyZXN1bHQgOiBWZWN0b3IzLCBtYXQgOiBNYXRyaXgsIHZlYyA6IFZlY3RvcjMpIDogdm9pZCB7XHJcbiAgICAgICAgcmVzdWx0LnNldFgoKG1hdC5nZXQoMCwgMCkgKiB2ZWMuZ2V0WCgpKSArIChtYXQuZ2V0KDAsIDEpICogdmVjLmdldFkoKSkgKyAobWF0LmdldCgwLCAyKSAqIHZlYy5nZXRaKCkpICsgKG1hdC5nZXQoMCwgMykgKiB2ZWMuZ2V0VygpKSk7XHJcbiAgICAgICAgcmVzdWx0LnNldFkoKG1hdC5nZXQoMSwgMCkgKiB2ZWMuZ2V0WCgpKSArIChtYXQuZ2V0KDEsIDEpICogdmVjLmdldFkoKSkgKyAobWF0LmdldCgxLCAyKSAqIHZlYy5nZXRaKCkpICsgKG1hdC5nZXQoMSwgMykgKiB2ZWMuZ2V0VygpKSk7XHJcbiAgICAgICAgcmVzdWx0LnNldFooKG1hdC5nZXQoMiwgMCkgKiB2ZWMuZ2V0WCgpKSArIChtYXQuZ2V0KDIsIDEpICogdmVjLmdldFkoKSkgKyAobWF0LmdldCgyLCAyKSAqIHZlYy5nZXRaKCkpICsgKG1hdC5nZXQoMiwgMykgKiB2ZWMuZ2V0VygpKSk7XHJcbiAgICAgICAgcmVzdWx0LnNldFcoKG1hdC5nZXQoMywgMCkgKiB2ZWMuZ2V0WCgpKSArIChtYXQuZ2V0KDMsIDEpICogdmVjLmdldFkoKSkgKyAobWF0LmdldCgzLCAyKSAqIHZlYy5nZXRaKCkpICsgKG1hdC5nZXQoMywgMykgKiB2ZWMuZ2V0VygpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShyZXN1bHQgOiBNYXRyaXgsIHRyYW5zbGF0aW9uVmVjdG9yIDogVmVjdG9yMykgOiB2b2lkIHtcclxuICAgICAgICAvLyBTVEFSVCBXSVRIIFRIRSBJREVOVElUWSBNQVRSSVhcclxuICAgICAgICB0aGlzLmlkZW50aXR5KHJlc3VsdCk7XHJcblxyXG4gICAgICAgIC8vIEFORCBUSEVOIExPQUQgSU4gVEhFIFRSQU5TTEFUSU9OIFZBTFVFU1xyXG4gICAgICAgIHJlc3VsdC5zZXQodHJhbnNsYXRpb25WZWN0b3IuZ2V0WCgpLCAwLCAzKTtcclxuICAgICAgICByZXN1bHQuc2V0KHRyYW5zbGF0aW9uVmVjdG9yLmdldFkoKSwgMSwgMyk7XHJcbiAgICAgICAgcmVzdWx0LnNldCh0cmFuc2xhdGlvblZlY3Rvci5nZXRaKCksIDIsIDMpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2UocmVzdWx0IDogTWF0cml4LCBtYXQgOiBNYXRyaXgpIDogdm9pZCB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA0OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gbWF0LmdldChpLCBqKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQodGVtcCwgaiwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHZpZXcocmVzdWx0IDogTWF0cml4LCBjYW1lcmFQb3NpdGlvbiA6IFZlY3RvcjMsIGNhbWVyYU9yaWVudGF0aW9uIDogVmVjdG9yMykgOiB2b2lkIHtcclxuICAgICAgICBsZXQgcGl0Y2ggPSB0aGlzLm1hdGguZGVncmVlc1RvUmFkaWFucyhjYW1lcmFPcmllbnRhdGlvbi5nZXRUaGV0YVgoKSk7XHJcbiAgICAgICAgbGV0IHlhdyA9IHRoaXMubWF0aC5kZWdyZWVzVG9SYWRpYW5zKGNhbWVyYU9yaWVudGF0aW9uLmdldFRoZXRhWSgpKTtcclxuICAgICAgICBsZXQgcm9sbCA9IHRoaXMubWF0aC5kZWdyZWVzVG9SYWRpYW5zKGNhbWVyYU9yaWVudGF0aW9uLmdldFRoZXRhWigpKTtcclxuXHJcbiAgICAgICAgLy8gVE8gVFJBTlNMQVRFXHJcbiAgICAgICAgbGV0IHRyYW5zbGF0ZVZlY3RvciA9IHRoaXMubWF0aC52ZWN0b3JNYXRoLmNyZWF0ZVBvc2l0aW9uVmVjdG9yKCk7XHJcbiAgICAgICAgdHJhbnNsYXRlVmVjdG9yLnNldCgtY2FtZXJhUG9zaXRpb24uZ2V0WCgpLCAtY2FtZXJhUG9zaXRpb24uZ2V0WSgpLCAtY2FtZXJhUG9zaXRpb24uZ2V0WigpKTtcclxuICAgICAgICBsZXQgdHJhbnNsYXRlTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcclxuICAgICAgICB0aGlzLmlkZW50aXR5KHRyYW5zbGF0ZU1hdHJpeCk7XHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGUodHJhbnNsYXRlTWF0cml4LCB0cmFuc2xhdGVWZWN0b3IpO1xyXG5cclxuICAgICAgICAvLyBUTyBST1RBVEVcclxuICAgICAgICBsZXQgcm90YXRlVmVjdG9yID0gdGhpcy5tYXRoLnZlY3Rvck1hdGguY3JlYXRlUm90YXRpb25WZWN0b3IoKTtcclxuICAgICAgICByb3RhdGVWZWN0b3Iuc2V0KC1waXRjaCwgLXlhdywgLXJvbGwpO1xyXG4gICAgICAgIGxldCByb3RhdGVNYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xyXG4gICAgICAgIHRoaXMucm90YXRlKHJvdGF0ZU1hdHJpeCwgcm90YXRlVmVjdG9yKTtcclxuXHJcbiAgICAgICAgLy8gTk9XIENPTUJJTkUgVEhFIDIgTUFUUklDRVNcclxuICAgICAgICB0aGlzLm11bHRpcGx5KHJlc3VsdCwgcm90YXRlTWF0cml4LCB0cmFuc2xhdGVNYXRyaXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhZGRWZWN0b3JzKHJlc3VsdCA6IFZlY3RvcjMsIHZlYzAgOiBWZWN0b3IzLCB2ZWMxIDogVmVjdG9yMykgOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlYzAuZ2V0U2l6ZSgpOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHRvdGFsID0gdmVjMC5nZXRBdChpKSArIHZlYzEuZ2V0QXQoaSk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5zZXRBdChpLCB0b3RhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcm9zc1Byb2R1Y3QocmVzdWx0IDogVmVjdG9yMywgdmVjMCA6IFZlY3RvcjMsIHZlYzEgOiBWZWN0b3IzKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCByZXN1bHQwID0gKHZlYzAuZ2V0WSgpICogdmVjMS5nZXRaKCkpXHJcbiAgICAgICAgICAgIC0gKHZlYzEuZ2V0WSgpICogdmVjMC5nZXRaKCkpO1xyXG4gICAgICAgIGxldCByZXN1bHQxID0gKHZlYzAuZ2V0WigpICogdmVjMS5nZXRYKCkpXHJcbiAgICAgICAgICAgIC0gKHZlYzEuZ2V0WigpICogdmVjMC5nZXRYKCkpO1xyXG4gICAgICAgIGxldCByZXN1bHQyID0gKHZlYzAuZ2V0WCgpICogdmVjMS5nZXRZKCkpXHJcbiAgICAgICAgICAgIC0gKHZlYzEuZ2V0WCgpICogdmVjMC5nZXRZKCkpO1xyXG4gICAgICAgIHJlc3VsdC5zZXRYKHJlc3VsdDApO1xyXG4gICAgICAgIHJlc3VsdC5zZXRZKHJlc3VsdDEpO1xyXG4gICAgICAgIHJlc3VsdC5zZXRaKHJlc3VsdDIpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBkb3RQcm9kdWN0KHZlYzAgOiBWZWN0b3IzLCB2ZWMxIDogVmVjdG9yMykgOiBudW1iZXIge1xyXG4gICAgICAgIGxldCByZXN1bHRYID0gdmVjMC5nZXRYKCkgKiB2ZWMxLmdldFgoKTtcclxuICAgICAgICBsZXQgcmVzdWx0WSA9IHZlYzAuZ2V0WSgpICogdmVjMS5nZXRZKCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdFogPSB2ZWMwLmdldFooKSAqIHZlYzEuZ2V0WigpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHRYICsgcmVzdWx0WSArIHJlc3VsdFo7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5VmVjdG9ycyhyZXN1bHQgOiBWZWN0b3IzLCB2ZWMgOiBWZWN0b3IzLCBzY2FsYXIgOiBudW1iZXIpIDogdm9pZCB7XHJcbiAgICAgICAgbGV0IHZlY1ggPSB2ZWMuZ2V0WCgpICogc2NhbGFyO1xyXG4gICAgICAgIGxldCB2ZWNZID0gdmVjLmdldFkoKSAqIHNjYWxhcjtcclxuICAgICAgICBsZXQgdmVjWiA9IHZlYy5nZXRaKCkgKiBzY2FsYXI7XHJcbiAgICAgICAgcmVzdWx0LnNldFgodmVjWCk7XHJcbiAgICAgICAgcmVzdWx0LnNldFkodmVjWSk7XHJcbiAgICAgICAgcmVzdWx0LnNldFoodmVjWik7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShyZXN1bHQgOiBWZWN0b3IzLCB2ZWMgOiBWZWN0b3IzKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCB4U3F1YXJlZCA9IHZlYy5nZXRYKCkgKiB2ZWMuZ2V0WCgpO1xyXG4gICAgICAgIGxldCB5U3F1YXJlZCA9IHZlYy5nZXRZKCkgKiB2ZWMuZ2V0WSgpO1xyXG4gICAgICAgIGxldCB6U3F1YXJlZCA9IHZlYy5nZXRaKCkgKiB2ZWMuZ2V0WigpO1xyXG4gICAgICAgIGxldCBkaXN0YW5jZSA9IE1hdGguc3FydCh4U3F1YXJlZCArIHlTcXVhcmVkICsgelNxdWFyZWQpO1xyXG4gICAgICAgIHJlc3VsdC5zZXRYKHZlYy5nZXRYKCkgLyBkaXN0YW5jZSk7XHJcbiAgICAgICAgcmVzdWx0LnNldFkodmVjLmdldFkoKSAvIGRpc3RhbmNlKTtcclxuICAgICAgICByZXN1bHQuc2V0Wih2ZWMuZ2V0WigpIC8gZGlzdGFuY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdFZlY3RvcnMocmVzdWx0IDogVmVjdG9yMywgdmVjMCA6IFZlY3RvcjMsIHZlYzEgOiBWZWN0b3IzKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCByZXN1bHRYID0gdmVjMC5nZXRYKCkgLSB2ZWMxLmdldFgoKTtcclxuICAgICAgICBsZXQgcmVzdWx0WSA9IHZlYzAuZ2V0WSgpIC0gdmVjMS5nZXRZKCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdFogPSB2ZWMwLmdldFooKSAtIHZlYzEuZ2V0WigpO1xyXG4gICAgICAgIHJlc3VsdC5zZXRYKHJlc3VsdFgpO1xyXG4gICAgICAgIHJlc3VsdC5zZXRZKHJlc3VsdFkpO1xyXG4gICAgICAgIHJlc3VsdC5zZXRaKHJlc3VsdFopO1xyXG4gICAgfVxyXG59IiwiLypcclxuICogQSBNYXRyaXggaXMgdXNlZCBmb3IgdHJhbnNmb3JtaW5nIHBvaW50cyBmcm9tIGxvY2FsXHJcbiAqIGNvb3JkaW5hdGVzIHRvIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1hdHJpeCB7XHJcbiAgICBwcml2YXRlIG1hdCA6IEZsb2F0MzJBcnJheTtcclxuICAgIHByaXZhdGUgcm93cyA6IG51bWJlcjtcclxuICAgIHByaXZhdGUgY29sdW1ucyA6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iocm93cyA6IG51bWJlciwgY29sdW1ucyA6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucm93cyA9IHJvd3M7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcclxuICAgICAgICB0aGlzLm1hdCA9IG5ldyBGbG9hdDMyQXJyYXkocm93cyAqIGNvbHVtbnMpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKHJvd3MgKiBjb2x1bW5zKTsgaSsrKVxyXG4gICAgICAgICAgICB0aGlzLm1hdFtpXSA9IDAuMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGF0YSgpIDogRmxvYXQzMkFycmF5IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFJvd3MoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm93cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29sdW1ucygpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW5zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbmRleCAocm93cyA6IG51bWJlciwgY29sdW1ucyA6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5yb3dzICogY29sdW1ucykgKyByb3dzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgZ2V0IChyb3cgOiBudW1iZXIsIGNvbHVtbiA6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0SW5kZXgocm93LCBjb2x1bW4pO1xyXG4gICAgICAgIGxldCB2YWx1ZVRvUmV0dXJuID0gdGhpcy5tYXRbaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZVRvUmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgKHZhbHVlIDogbnVtYmVyLCByb3cgOiBudW1iZXIsIGNvbHVtbiA6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0SW5kZXgocm93LCBjb2x1bW4pO1xyXG4gICAgICAgIHRoaXMubWF0W2luZGV4XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgcHJpbnQgKCkgOiB2b2lkIHtcclxuICAgICAgICBsZXQgbWF4V2lkdGggPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVzdE51bSA9IHRoaXMuZ2V0KGosIGkpICsgXCJcIjtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXN0TnVtLmxlbmd0aCA+IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGggPSB0ZXN0TnVtLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdGV4dCA9IFwiWyBcIjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm93czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpID4gMClcclxuICAgICAgICAgICAgICAgIHRleHQgKz0gXCIgIFwiO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuY29sdW1uczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtVGV4dCA9IHRoaXMuZ2V0KGksIGopICsgXCJcIjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChudW1UZXh0Lmxlbmd0aCA8IG1heFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnVtVGV4dCA9IFwiIFwiICsgbnVtVGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRleHQgKz0gbnVtVGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChqIDwgKHRoaXMuY29sdW1ucyAtIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBcIixcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRleHQgKz0gXCIgXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgPCAodGhpcy5yb3dzIC0gMSkpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgKz0gXCJcXG5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZXh0ICs9IFwiXVwiO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogVmVjdG9yM1xyXG4gKiBcclxuICogVGhlIFZlY3RvcjMgY2xhc3MgY2FuIGJlIHVzZWQgZm9yIGFueSAyZCBvciAzZCBwb2ludCwgdmVjdG9yLCBcclxuICogb3Igcm90YXRpb24gKGkuZS4gYW5nbGVzIG9mIG9yaWVudGF0aW9uKS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3IzIHtcclxuICAgIHByaXZhdGUgdmVjIDogRmxvYXQzMkFycmF5O1xyXG4gICAgcHJpdmF0ZSBzaXplIDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspXHJcbiAgICAgICAgICAgIHRoaXMudmVjW2ldID0gMC4wO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IDQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNpemUoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXQoaW5kZXggOiBudW1iZXIpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52ZWNbaW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRYKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlY1swXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0WSgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52ZWNbMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFooKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjWzJdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRXKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlY1szXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGhldGFYKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlY1swXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGhldGFZKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlY1sxXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGhldGFaKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlY1syXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0KGluaXQwIDogbnVtYmVyLCBpbml0MSA6IG51bWJlciwgaW5pdDIgOiBudW1iZXIsIGluaXQzIDogbnVtYmVyKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmVjWzBdID0gaW5pdDA7XHJcbiAgICAgICAgdGhpcy52ZWNbMV0gPSBpbml0MTtcclxuICAgICAgICB0aGlzLnZlY1syXSA9IGluaXQyO1xyXG4gICAgICAgIHRoaXMudmVjWzNdID0gaW5pdDM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEF0KGluZGV4IDogbnVtYmVyLCB2YWx1ZSA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZlY1tpbmRleF0gPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0WChpbml0WCA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZlY1swXSA9IGluaXRYO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRZKGluaXRZIDogbnVtYmVyKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmVjWzFdID0gaW5pdFk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFooaW5pdFogOiBudW1iZXIpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52ZWNbMl0gPSBpbml0WjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Vyhpbml0VyA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnZlY1szXSA9IGluaXRXO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRUaGV0YVgoaW5pdFRoZXRhWCA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldFgoaW5pdFRoZXRhWCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFRoZXRhWShpbml0VGhldGFZIDogbnVtYmVyKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0WShpbml0VGhldGFZKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VGhldGFaKGluaXRUaGV0YVogOiBudW1iZXIpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZXRaKGluaXRUaGV0YVopO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmludCgpIDogdm9pZCB7XHJcbiAgICAgICAgbGV0IHRleHQgPSBcIltcIjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRleHQgKz0gdGhpcy52ZWNbaV07XHJcbiAgICAgICAgICAgIGlmIChpIDwgKHRoaXMuc2l6ZSAtIDEpKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiLCBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0ZXh0ICs9IFwiXVwiO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRleHQpO1xyXG4gICAgfVxyXG59IiwiLypcclxuICogVGhpcyBjbGFzcyByZW5kZXJzIHRleHQgdG8gYSBjYW52YXMsIHVwZGF0ZWQgZWFjaCBmcmFtZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZXh0VG9SZW5kZXIge1xyXG4gICAgcHVibGljIGlkIDogc3RyaW5nO1xyXG4gICAgcHVibGljIHRleHQgOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgeCA6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5IDogbnVtYmVyO1xyXG4gICAgcHVibGljIHVwZGF0ZSA6IEZ1bmN0aW9uO1xyXG4gICAgcHVibGljIGZvbnRGYW1pbHkgOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgZm9udFNpemUgOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgZm9udENvbG9yIDogc3RyaW5nO1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgOiBNYXA8c3RyaW5nLCBvYmplY3Q+O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihpbml0SWQgOiBzdHJpbmcsIGluaXRUZXh0IDogc3RyaW5nLCBpbml0WCA6IG51bWJlciwgaW5pdFkgOiBudW1iZXIsIGluaXRVcGRhdGUgOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpbml0SWQ7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gaW5pdFRleHQ7XHJcbiAgICAgICAgdGhpcy54ID0gaW5pdFg7XHJcbiAgICAgICAgdGhpcy55ID0gaW5pdFk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUgPSBpbml0VXBkYXRlO1xyXG4gICAgICAgIHRoaXMuZm9udEZhbWlseSA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5mb250U2l6ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5mb250Q29sb3IgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRleHRSZW5kZXJlciB7XHJcbiAgICBwcml2YXRlIHRleHRUb1JlbmRlciA6IEFycmF5PFRleHRUb1JlbmRlcj47XHJcbiAgICBwcml2YXRlIHRleHRDYW52YXMgOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgdGV4dENhbnZhc1dpZHRoIDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0ZXh0Q2FudmFzSGVpZ2h0IDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0ZXh0Q3R4IDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHJpdmF0ZSBkZWZhdWx0Rm9udEZhbWlseSA6IHN0cmluZztcclxuICAgIHByaXZhdGUgZGVmYXVsdEZvbnRTaXplIDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBkZWZhdWx0Rm9udENvbG9yIDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0ZXh0Q2FudmFzSWQgOiBzdHJpbmcsIGluaXRGb250RmFtaWx5IDogc3RyaW5nLCBpbml0Rm9udFNpemUgOiBudW1iZXIsIGluaXRGb250Q29sb3IgOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnRleHRUb1JlbmRlciA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHRoaXMudGV4dENhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZXh0Q2FudmFzSWQpO1xyXG4gICAgICAgIHRoaXMudGV4dENhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHRoaXMudGV4dENhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy50ZXh0Q2FudmFzV2lkdGggPSB0aGlzLnRleHRDYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy50ZXh0Q2FudmFzSGVpZ2h0ID0gdGhpcy50ZXh0Q2FudmFzLmhlaWdodDtcclxuICAgICAgICB0aGlzLnRleHRDdHggPSB0aGlzLnRleHRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdEZvbnRGYW1pbHkgPSBpbml0Rm9udEZhbWlseTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRGb250U2l6ZSA9IGluaXRGb250U2l6ZTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRGb250Q29sb3IgPSBpbml0Rm9udENvbG9yO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgYWRkVGV4dFRvUmVuZGVyKHRleHRUb0FkZCA6IFRleHRUb1JlbmRlcikgOiB2b2lkIHtcclxuICAgICAgICB0ZXh0VG9BZGQuZm9udEZhbWlseSA9IHRoaXMuZGVmYXVsdEZvbnRGYW1pbHk7XHJcbiAgICAgICAgdGV4dFRvQWRkLmZvbnRTaXplID0gdGhpcy5kZWZhdWx0Rm9udFNpemU7XHJcbiAgICAgICAgdGV4dFRvQWRkLmZvbnRDb2xvciA9IHRoaXMuZGVmYXVsdEZvbnRDb2xvcjtcclxuICAgICAgICB0aGlzLnRleHRUb1JlbmRlci5wdXNoKHRleHRUb0FkZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyKCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRleHRUb1JlbmRlciA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDYW52YXNXaWR0aCgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0Q2FudmFzV2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENhbnZhc0hlaWdodCgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0Q2FudmFzSGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGV4dEN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy50ZXh0Q2FudmFzLndpZHRoLCB0aGlzLnRleHRDYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGV4dFRvUmVuZGVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0VG9SZW5kZXIgPSB0aGlzLnRleHRUb1JlbmRlcltpXTtcclxuICAgICAgICAgICAgdGV4dFRvUmVuZGVyLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRDdHguZm9udCA9IFwiXCIgKyB0ZXh0VG9SZW5kZXIuZm9udFNpemUgKyBcInB4IFwiICsgdGV4dFRvUmVuZGVyLmZvbnRGYW1pbHk7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dEN0eC5maWxsU3R5bGUgPSB0ZXh0VG9SZW5kZXIuZm9udENvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRDdHguZmlsbFRleHQodGV4dFRvUmVuZGVyLnRleHQsIHRleHRUb1JlbmRlci54LCB0ZXh0VG9SZW5kZXIueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgV2ViR0xHYW1lU2hhZGVyIH0gZnJvbSAnLi9XZWJHTEdhbWVTaGFkZXInXHJcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uL21hdGgvTWF0cml4J1xyXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi4vbWF0aC9WZWN0b3IzJ1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFdlYkdMR2FtZVJlbmRlcmluZ0NvbXBvbmVudCB7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgQV9QT1NJVElPTiA9IFwiYV9Qb3NpdGlvblwiO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IEFfVEVYX0NPT1JEID0gXCJhX1RleENvb3JkXCI7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgVV9NRVNIX1RSQU5TRk9STSA9IFwidV9NZXNoVHJhbnNmb3JtXCI7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgVV9URVhfQ09PUkRfRkFDVE9SID0gXCJ1X1RleENvb3JkRmFjdG9yXCI7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgVV9URVhfQ09PUkRfU0hJRlQgPSBcInVfVGV4Q29vcmRTaGlmdFwiO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IFVfU0FNUExFUiA9IFwidV9TYW1wbGVyXCI7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgTlVNX1ZFUlRJQ0VTID0gNDtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBGTE9BVFNfUEVSX1ZFUlRFWCA9IDI7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEUgPSAyO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IFRPVEFMX0JZVEVTID0gMTY7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgVkVSVEVYX1BPU0lUSU9OX09GRlNFVCA9IDA7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVCA9IDg7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgSU5ERVhfT0ZfRklSU1RfVkVSVEVYID0gMDtcclxuXHJcbiAgICAvLyBUSEVTRSBXSUxMIEJFIFBST1ZJREVEIENVU1RPTUxZIEFGVEVSIENPTlNUUlVDVElPTiBEVVJJTkcgaW5pdFxyXG4gICAgcHJvdGVjdGVkIHNoYWRlcjogV2ViR0xHYW1lU2hhZGVyO1xyXG4gICAgcHJvdGVjdGVkIHZlcnRleERhdGFCdWZmZXI6IFdlYkdMQnVmZmVyO1xyXG4gICAgcHJvdGVjdGVkIHdlYkdMQXR0cmlidXRlTG9jYXRpb25zOiBNYXA8c3RyaW5nLCBHTHVpbnQ+O1xyXG4gICAgcHJvdGVjdGVkIHdlYkdMVW5pZm9ybUxvY2F0aW9uczogTWFwPHN0cmluZywgV2ViR0xVbmlmb3JtTG9jYXRpb24+O1xyXG5cclxuICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBGT1IgVFJBTlNPRk1SSU5HIE9CSkVDVFMgV0hFTiBXRSBEUkFXIFRIRU1cclxuICAgIHByb3RlY3RlZCBtZXNoVHJhbnNmb3JtOiBNYXRyaXg7XHJcbiAgICBwcm90ZWN0ZWQgbWVzaFRyYW5zbGF0ZTogVmVjdG9yMztcclxuICAgIHByb3RlY3RlZCBtZXNoUm90YXRlOiBWZWN0b3IzO1xyXG4gICAgcHJvdGVjdGVkIG1lc2hTY2FsZTogVmVjdG9yMztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyBXRSdMTCBNQU5BR0UgVEhFU0UgRk9SIE9VUiBXZWJHTCBTSEFERVJTXHJcbiAgICAgICAgdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9ucyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9ucyA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICAgICAgLy8gV0UnTEwgVVNFIFRIRVNFIEZPUiBUUkFOU0xBVElORywgUk9UQVRJTkcsIEFORCBTQ0FMSU5HIFRIRSBNRVNIXHJcbiAgICAgICAgdGhpcy5tZXNoVHJhbnNmb3JtID0gbmV3IE1hdHJpeCg0LCA0KTtcclxuICAgICAgICB0aGlzLm1lc2hUcmFuc2xhdGUgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubWVzaFJvdGF0ZSA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5tZXNoU2NhbGUgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbml0KHdlYkdMOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhTaGFkZXJTb3VyY2U6IHN0cmluZyxcclxuICAgICAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyU291cmNlOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICByZW5kZXJTZXR1cERhdGE6IG9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIC8vIEZJUlNUIFdFIE5FRUQgVE8gTUFLRSBUSEUgU0hBREVSXHJcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgV2ViR0xHYW1lU2hhZGVyKCk7XHJcbiAgICAgICAgdGhpcy5zaGFkZXIuaW5pdCh3ZWJHTCwgdmVydGV4U2hhZGVyU291cmNlLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XHJcblxyXG4gICAgICAgIC8vIENSRUFURSBUSEUgQlVGRkVSIE9OIFRIRSBHUFVcclxuICAgICAgICB0aGlzLnZlcnRleERhdGFCdWZmZXIgPSB3ZWJHTC5jcmVhdGVCdWZmZXIoKTtcclxuXHJcbiAgICAgICAgLy8gQklORCBUSEUgQlVGRkVSIFRPIEJFIFZFUlRFWCBEQVRBXHJcbiAgICAgICAgd2ViR0wuYmluZEJ1ZmZlcih3ZWJHTC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4RGF0YUJ1ZmZlcik7XHJcblxyXG4gICAgICAgIC8vIE1BS0UgVEhFIE1FU0ggREFUQSBPVVJTRUxWRVMgSU4gQSBDSElMRCBDTEFTU1xyXG4gICAgICAgIGxldCBtZXNoVmVydGV4RGF0YSA6IEZsb2F0MzJBcnJheSA9IHRoaXMuZ2V0VmVydGV4RGF0YShyZW5kZXJTZXR1cERhdGEpO1xyXG5cclxuICAgICAgICAvLyBBTkQgU0VORCBUSEUgREFUQSBUTyBUSEUgQlVGRkVSIFdFIENSRUFURUQgT04gVEhFIEdQVVxyXG4gICAgICAgIHdlYkdMLmJ1ZmZlckRhdGEod2ViR0wuQVJSQVlfQlVGRkVSLCBtZXNoVmVydGV4RGF0YSwgd2ViR0wuU1RBVElDX0RSQVcpO1xyXG5cclxuICAgICAgICAvLyBTRVRVUCBUSEUgU0hBREVSIEFUVFJJQlVURVMgQU5EIFVOSUZPUk1TXHJcbiAgICAgICAgdGhpcy5sb2FkQXR0cmlidXRlTG9jYXRpb25zKHdlYkdMLCB0aGlzLmdldFNoYWRlckF0dHJpYnV0ZU5hbWVzKCkpO1xyXG4gICAgICAgIHRoaXMubG9hZFVuaWZvcm1Mb2NhdGlvbnMod2ViR0wsIHRoaXMuZ2V0U2hhZGVyVW5pZm9ybU5hbWVzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRWZXJ0ZXhEYXRhKHJlbmRlckRhdGEgOiBvYmplY3QpIDogRmxvYXQzMkFycmF5O1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldFNoYWRlckF0dHJpYnV0ZU5hbWVzKCk6IHN0cmluZ1tdO1xyXG4gICAgcHVibGljIGFic3RyYWN0IGdldFNoYWRlclVuaWZvcm1OYW1lcygpOiBzdHJpbmdbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gbG9hZHMgYWxsIHRoZSBhdHRyaWJ1dGUgZGF0YSB2YWx1ZXMgc28gdGhhdCB3ZSBjYW5cclxuICAgICAqIHJldHJpZXZlIHRoZW0gbGF0ZXIgd2hlbiBpdCBpcyB0aW1lIHRvIHJlbmRlci4gTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb25cclxuICAgICAqIGNhbiBvbmx5IGJlIGNhbGxlZCBhZnRlciB0aGUgc2hhZGVyIHByb2dyYW0gaGFzIGJlZW4gY3JlYXRlZC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGxvYWRBdHRyaWJ1dGVMb2NhdGlvbnMod2ViR0w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgYXR0cmlidXRlTG9jYXRpb25OYW1lczogQXJyYXk8c3RyaW5nPikge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlTG9jYXRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbG9jYXRpb25OYW1lOiBzdHJpbmcgPSBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzW2ldO1xyXG4gICAgICAgICAgICBsZXQgbG9jYXRpb246IEdMdWludCA9IHdlYkdMLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKSwgbG9jYXRpb25OYW1lKTtcclxuICAgICAgICAgICAgdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9ucy5zZXQobG9jYXRpb25OYW1lLCBsb2NhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBsb2FkcyBhbGwgdGhlIHVuaWZvcm0gZGF0YSB2YWx1ZXMgc28gdGhhdCB3ZSBjYW5cclxuICAgICAqIHJldHJpZXZlIHRoZW0gbGF0ZXIgd2hlbiBpdCBpcyB0aW1lIHRvIHJlbmRlci4gTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb25cclxuICAgICAqIGNhbiBvbmx5IGJlIGNhbGxlZCBhZnRlciB0aGUgc2hhZGVyIHByb2dyYW0gaGFzIGJlZW4gY3JlYXRlZC5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIGxvYWRVbmlmb3JtTG9jYXRpb25zKHdlYkdMOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHVuaWZvcm1Mb2NhdGlvbk5hbWVzOiBBcnJheTxzdHJpbmc+KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHVuaWZvcm1Mb2NhdGlvbk5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbk5hbWU6IHN0cmluZyA9IHVuaWZvcm1Mb2NhdGlvbk5hbWVzW2ldO1xyXG4gICAgICAgICAgICBsZXQgbG9jYXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gd2ViR0wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKSwgbG9jYXRpb25OYW1lKTtcclxuICAgICAgICAgICAgdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnMuc2V0KGxvY2F0aW9uTmFtZSwgbG9jYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8qXHJcbiAqIFRoaXMgc2VydmVzIGFzIHRoZSBzdWJzeXN0ZW0gdGhhdCBtYW5hZ2VzIGFsbCBnYW1lIHJlbmRlcmluZy5cclxuICovXHJcbmltcG9ydCB7IFRleHRSZW5kZXJlciB9IGZyb20gJy4vVGV4dFJlbmRlcmVyJ1xyXG5pbXBvcnQgeyBXZWJHTEdhbWVUaWxlZExheWVyUmVuZGVyZXIgfSBmcm9tICcuL1dlYkdMR2FtZVRpbGVkTGF5ZXJSZW5kZXJlcidcclxuaW1wb3J0IHsgV2ViR0xHYW1lU3ByaXRlUmVuZGVyZXIgfSBmcm9tICcuL1dlYkdMR2FtZVNwcml0ZVJlbmRlcmVyJ1xyXG5pbXBvcnQgeyBXZWJHTEdhbWVUZXh0dXJlIH0gZnJvbSAnLi9XZWJHTEdhbWVUZXh0dXJlJztcclxuaW1wb3J0IHsgQW5pbWF0ZWRTcHJpdGUgfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXHJcbmltcG9ydCB7IFRpbGVkTGF5ZXIgfSBmcm9tICcuLi9zY2VuZS90aWxlcy9UaWxlZExheWVyJ1xyXG5pbXBvcnQgeyBWaWV3cG9ydCB9IGZyb20gJy4uL3NjZW5lL1ZpZXdwb3J0J1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW0ge1xyXG4gICAgcHJpdmF0ZSByZW5kZXJpbmdDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB3ZWJHTDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xyXG4gICAgcHJpdmF0ZSBjYW52YXNXaWR0aDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjYW52YXNIZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgICAvLyBPVVIgR0FNRVMgUkVOREVSIFRIUkVFIERJRkZFUkVOVCBUWVBFUyBPRiBUSElOR1NcclxuICAgIHByaXZhdGUgdGlsZWRMYXllclJlbmRlcmVyOiBXZWJHTEdhbWVUaWxlZExheWVyUmVuZGVyZXI7XHJcbiAgICBwcml2YXRlIHNwcml0ZVJlbmRlcmVyOiBXZWJHTEdhbWVTcHJpdGVSZW5kZXJlcjtcclxuICAgIHByaXZhdGUgdGV4dFJlbmRlcmVyOiBUZXh0UmVuZGVyZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCByZW5kZXJpbmdDYW52YXNJZDogc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q2FudmFzSWQ6IHN0cmluZykge1xyXG4gICAgICAgIC8vIEZJUlNUIFNFVFVQIHdlYkdMXHJcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdDYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVuZGVyaW5nQ2FudmFzSWQpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyaW5nQ2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJpbmdDYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSB0aGlzLnJlbmRlcmluZ0NhbnZhcy53aWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IHRoaXMucmVuZGVyaW5nQ2FudmFzLmhlaWdodDtcclxuICAgICAgICB0aGlzLndlYkdMID0gdGhpcy5yZW5kZXJpbmdDYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpO1xyXG5cclxuICAgICAgICAvLyBJRiBUSEUgVVNFUidTIE1BQ0hJTkUvQlJPV1NFUiBET0VTTidUIFNVUFBPUlRcclxuICAgICAgICAvLyBXZWJHTCBUSEVOIFRIRVJFJ1MgTk8gUE9JTlQgT0YgR09JTkcgT05cclxuICAgICAgICBpZiAoIXRoaXMud2ViR0wpIHtcclxuICAgICAgICAgICAgLy8gUFJPVklERSBTT01FIEZFRURCQUNLIFRIQVQgV2ViR0wgV09OJ1QgV09SSyBCRUNBVVNFXHJcbiAgICAgICAgICAgIC8vIFRIRSBVU0VSJ1MnIEdSQVBISUNTIENBUkQgSVMgRk9SIFRIRSBCSVJEU1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiV2ViR0wgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGRldmljZVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFORCBFTkQgSU5JVElBTElaQVRJT05cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2ViR0wgSVMgU1VQUE9SVEVELCBTTyBJTklUIEVWRVJZVEhJTkcgVEhBVCBVU0VTIElUXHJcblxyXG4gICAgICAgIC8vIE1BS0UgVEhFIENMRUFSIENPTE9SIEJMQUNLXHJcbiAgICAgICAgdGhpcy5zZXRDbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCk7XHJcblxyXG4gICAgICAgIC8vIEVOQUJMRSBERVBUSCBURVNUSU5HXHJcbiAgICAgICAgdGhpcy53ZWJHTC5kaXNhYmxlKHRoaXMud2ViR0wuREVQVEhfVEVTVCk7XHJcbiAgICAgICAgdGhpcy53ZWJHTC5lbmFibGUodGhpcy53ZWJHTC5CTEVORCk7XHJcbiAgICAgICAgdGhpcy53ZWJHTC5ibGVuZEZ1bmModGhpcy53ZWJHTC5TUkNfQUxQSEEsIHRoaXMud2ViR0wuT05FX01JTlVTX1NSQ19BTFBIQSk7XHJcblxyXG4gICAgICAgIC8vIFRVUk4gT04gQkFDS0ZBQ0UgQ1VMTElOR1xyXG4gICAgICAgIHRoaXMud2ViR0wuZW5hYmxlKHRoaXMud2ViR0wuQ1VMTF9GQUNFKTtcclxuXHJcbiAgICAgICAgLy8gVEhJUyBTUEVDSUZJRVMgVEhBVCBXRSdSRSBVU0lORyBUSEUgRU5USVJFIENBTlZBU1xyXG4gICAgICAgIHRoaXMud2ViR0wudmlld3BvcnQoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBNQUtFIFRIRSBUSUxFRCBMQVlFUiBSRU5ERVJFUlxyXG4gICAgICAgIHRoaXMudGlsZWRMYXllclJlbmRlcmVyID0gbmV3IFdlYkdMR2FtZVRpbGVkTGF5ZXJSZW5kZXJlcigpO1xyXG5cclxuICAgICAgICAvLyBNQUtFIFRIRSBTUFJJVEUgUkVOREVSRVJcclxuICAgICAgICB0aGlzLnNwcml0ZVJlbmRlcmVyID0gbmV3IFdlYkdMR2FtZVNwcml0ZVJlbmRlcmVyKCk7XHJcblxyXG4gICAgICAgIC8vIFRISVMgV0lMTCBTVE9SRSBPVVIgVEVYVFxyXG4gICAgICAgIHRoaXMudGV4dFJlbmRlcmVyID0gbmV3IFRleHRSZW5kZXJlcih0ZXh0Q2FudmFzSWQsIFwic2VyaWZcIiwgMTgsIFwiI0ZGRkYwMFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGV4dHVyZUNvbnN0YW50KGlkOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIC8vIFdFIE9OTFkgQUxMT1cgRk9SIDEwIFRFWFRVUkVTIFRPIEJFIFBVVCBPTiBUSEUgR1BVXHJcbiAgICAgICAgc3dpdGNoIChpZCkge1xyXG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkUwO1xyXG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkUxO1xyXG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkUyO1xyXG4gICAgICAgICAgICBjYXNlIDM6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkUzO1xyXG4gICAgICAgICAgICBjYXNlIDQ6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkU0O1xyXG4gICAgICAgICAgICBjYXNlIDU6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkU1O1xyXG4gICAgICAgICAgICBjYXNlIDY6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkU2O1xyXG4gICAgICAgICAgICBjYXNlIDc6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkU3O1xyXG4gICAgICAgICAgICBjYXNlIDg6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkU4O1xyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gdGhpcy53ZWJHTC5URVhUVVJFOTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdlYkdMKCk6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2ViR0w7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRpbGVkTGF5ZXJSZW5kZXJlcigpOiBXZWJHTEdhbWVUaWxlZExheWVyUmVuZGVyZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVkTGF5ZXJSZW5kZXJlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3ByaXRlUmVuZGVyZXIoKTogV2ViR0xHYW1lU3ByaXRlUmVuZGVyZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZVJlbmRlcmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUZXh0UmVuZGVyZXIoKTogVGV4dFJlbmRlcmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0UmVuZGVyZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXRXZWJHTFRleHR1cmUodGV4dHVyZVRvSW5pdDogV2ViR0xHYW1lVGV4dHVyZSwgdGV4dHVyZUlkOiBudW1iZXIsIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICB0ZXh0dXJlVG9Jbml0LndpZHRoID0gaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgdGV4dHVyZVRvSW5pdC5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIENSRUFURSBBIFdlYkdMIFRFWFRVUkUgT04gVEhFIEdQVVxyXG4gICAgICAgIHRleHR1cmVUb0luaXQud2ViR0xUZXh0dXJlID0gdGhpcy53ZWJHTC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgdGV4dHVyZVRvSW5pdC53ZWJHTFRleHR1cmVJZCA9IHRleHR1cmVJZDtcclxuXHJcbiAgICAgICAgLy8gRkxJUCBUSEUgSU1BR0UnUyB5LUFYSVNcclxuICAgICAgICAvL3dlYkdMLnBpeGVsU3RvcmVpKHdlYkdMLlVOUEFDS19GTElQX1lfV0VCR0wsIDEpO1xyXG5cclxuICAgICAgICAvLyBBQ1RJVkFURSBUSEUgV2ViR0wgVEVYVFVSRSBPTiBUSEUgR1BVXHJcbiAgICAgICAgLy9sZXQgdGV4dHVyZU51bU5hbWUgOiBzdHJpbmcgPSBcIlRFWFRVUkVcIiArIHRleHR1cmVJZDtcclxuICAgICAgICBsZXQgdGV4dHVyZU5hbWVDb25zdGFudDogbnVtYmVyID0gdGhpcy5nZXRUZXh0dXJlQ29uc3RhbnQodGV4dHVyZUlkKTtcclxuICAgICAgICB0aGlzLndlYkdMLmFjdGl2ZVRleHR1cmUodGV4dHVyZU5hbWVDb25zdGFudCk7XHJcblxyXG4gICAgICAgIC8vIEJJTkQgVEhFIFRFWFRVUkUgVE8gQSAyRCBUWVBFXHJcbiAgICAgICAgdGhpcy53ZWJHTC5iaW5kVGV4dHVyZSh0aGlzLndlYkdMLlRFWFRVUkVfMkQsIHRleHR1cmVUb0luaXQud2ViR0xUZXh0dXJlKTtcclxuXHJcbiAgICAgICAgLy8gU1BFQ0lGWSBSRU5ERVJJTkcgU0VUVElOR1NcclxuICAgICAgICB0aGlzLndlYkdMLnRleFBhcmFtZXRlcmkodGhpcy53ZWJHTC5URVhUVVJFXzJELCB0aGlzLndlYkdMLlRFWFRVUkVfTUlOX0ZJTFRFUiwgdGhpcy53ZWJHTC5MSU5FQVIpO1xyXG5cclxuICAgICAgICAvLyBTRVQgVEhFIElNQUdFIEZPUiBUSEUgVEVYVFVSRVxyXG4gICAgICAgIHRoaXMud2ViR0wudGV4SW1hZ2UyRCh0aGlzLndlYkdMLlRFWFRVUkVfMkQsIDAsIHRoaXMud2ViR0wuUkdCQSwgdGhpcy53ZWJHTC5SR0JBLCB0aGlzLndlYkdMLlVOU0lHTkVEX0JZVEUsIGltYWdlKTtcclxuXHJcbiAgICAgICAgLy8gS0VFUCBJVCBGT1IgV0hFTiBXRSBSRU5ERVJcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRDbGVhckNvbG9yKHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMud2ViR0wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKCAgdmlld3BvcnQgOiBWaWV3cG9ydCxcclxuICAgICAgICAgICAgICAgICAgICB0aWxlZExheWVyczogQXJyYXk8VGlsZWRMYXllcj4sXHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNwcml0ZXM6IEFycmF5PEFuaW1hdGVkU3ByaXRlPik6IHZvaWQge1xyXG4gICAgICAgIC8vIENMRUFSIFRIRSBDQU5WQVNcclxuICAgICAgICB0aGlzLndlYkdMLmNsZWFyKHRoaXMud2ViR0wuQ09MT1JfQlVGRkVSX0JJVCB8IHRoaXMud2ViR0wuREVQVEhfQlVGRkVSX0JJVCk7XHJcblxyXG4gICAgICAgIC8vIFJFTkRFUiBUSEUgVElMRUQgTEFZRVIgRklSU1RcclxuICAgICAgICB0aGlzLnRpbGVkTGF5ZXJSZW5kZXJlci5yZW5kZXIodGhpcy53ZWJHTCwgdmlld3BvcnQsIHRpbGVkTGF5ZXJzKTtcclxuXHJcbiAgICAgICAgLy8gUkVOREVSIFRIRSBTUFJJVEVTIE9OIE9ORSBDQU5WQVNcclxuICAgICAgICB0aGlzLnNwcml0ZVJlbmRlcmVyLnJlbmRlcih0aGlzLndlYkdMLCB2aWV3cG9ydCwgdmlzaWJsZVNwcml0ZXMpO1xyXG5cclxuICAgICAgICAvLyBUSEVOIFRIRSBURVhUIE9OIEFOT1RIRVIgT1ZFUkxBUFBJTkcgQ0FOVkFTXHJcbiAgICAgICAgdGhpcy50ZXh0UmVuZGVyZXIucmVuZGVyKCk7XHJcbiAgICB9XHJcbn0iLCIvKlxyXG4gKiBUaGlzIGlzIGEgd3JhcHBlciBjbGFzcyBmb3IgYSBXZWJHTFByb2dyYW0sIGkuZS4gYSBzaGFkZXIgZm9yIGN1c3RvbSByZW5kZXJpbmdcclxuICogdXNpbmcgV2ViR0wncyBwcm9ncmFtbWFibGUgcGlwZWxpbmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgV2ViR0xHYW1lU2hhZGVyIHtcclxuICAgIHByaXZhdGUgcHJvZ3JhbSA6IFdlYkdMUHJvZ3JhbTtcclxuICAgIHByaXZhdGUgdmVydGV4U2hhZGVyIDogV2ViR0xTaGFkZXI7XHJcbiAgICBwcml2YXRlIGZyYWdtZW50U2hhZGVyIDogV2ViR0xTaGFkZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cclxuXHJcbiAgICBwdWJsaWMgZ2V0UHJvZ3JhbSgpIDogV2ViR0xQcm9ncmFtIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmFtO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbml0KHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2U291cmNlIDogc3RyaW5nLCBmU291cmNlIDogc3RyaW5nKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudmVydGV4U2hhZGVyID0gPFdlYkdMU2hhZGVyPnRoaXMuY3JlYXRlU2hhZGVyKHdlYkdMLCB3ZWJHTC5WRVJURVhfU0hBREVSLCB2U291cmNlKTtcclxuICAgICAgICB0aGlzLmZyYWdtZW50U2hhZGVyID0gPFdlYkdMU2hhZGVyPnRoaXMuY3JlYXRlU2hhZGVyKHdlYkdMLCB3ZWJHTC5GUkFHTUVOVF9TSEFERVIsIGZTb3VyY2UpO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHRoaXMuY3JlYXRlU2hhZGVyUHJvZ3JhbSh3ZWJHTCwgdGhpcy52ZXJ0ZXhTaGFkZXIsIHRoaXMuZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVTaGFkZXIod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHR5cGUgOiBudW1iZXIsIHNvdXJjZSA6IHN0cmluZykgOiBXZWJHTFNoYWRlciB7XHJcbiAgICAgICAgLy8gTUFLRSBBIE5FVyBTSEFERVIgT0JKRUNULCBMT0FEIElUJ1MgU09VUkNFLCBBTkQgQ09NUElMRSBJVFxyXG4gICAgICAgIHZhciBzaGFkZXIgPSB3ZWJHTC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgICAgICAgd2ViR0wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcclxuICAgICAgICB3ZWJHTC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcblxyXG4gICAgICAgIC8vIERJRCBJVCBDT01QSUxFP1xyXG4gICAgICAgIHZhciBzdWNjZXNzID0gd2ViR0wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgd2ViR0wuQ09NUElMRV9TVEFUVVMpO1xyXG4gICAgICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBESVNBU1RFUlxyXG4gICAgICAgIGNvbnNvbGUubG9nKHdlYkdMLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICAgICAgd2ViR0wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVNoYWRlclByb2dyYW0od2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZTaGFkZXIgOiBXZWJHTFNoYWRlciwgZlNoYWRlciA6IFdlYkdMU2hhZGVyKSA6IFdlYkdMUHJvZ3JhbSB7XHJcbiAgICAgICAgLy8gTUFLRSBUSEUgR0xTTCBTSEFERVIgUFJPR1JBTVxyXG4gICAgICAgIGxldCBwcm9ncmFtVG9DcmVhdGUgPSB3ZWJHTC5jcmVhdGVQcm9ncmFtKCk7XHJcblxyXG4gICAgICAgIC8vIExJTksgVEhFIFZFUlQgQU5EIEZSQUdcclxuICAgICAgICB3ZWJHTC5hdHRhY2hTaGFkZXIocHJvZ3JhbVRvQ3JlYXRlLCB2U2hhZGVyKTtcclxuICAgICAgICB3ZWJHTC5hdHRhY2hTaGFkZXIocHJvZ3JhbVRvQ3JlYXRlLCBmU2hhZGVyKTtcclxuXHJcbiAgICAgICAgLy8gTk9XIFdFIENBTiBMSU5LIFRIRSBTSEFERVIgUFJPR1JBTVxyXG4gICAgICAgIHdlYkdMLmxpbmtQcm9ncmFtKHByb2dyYW1Ub0NyZWF0ZSk7XHJcbiAgICAgICAgbGV0IGxpbmtlZCA6IGJvb2xlYW4gPSB3ZWJHTC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW1Ub0NyZWF0ZSwgd2ViR0wuTElOS19TVEFUVVMpO1xyXG5cclxuICAgICAgICAvLyBJUyBJVCBMSU5LRUQ/XHJcbiAgICAgICAgaWYgKCFsaW5rZWQpIHtcclxuICAgICAgICAgICAgLy8gRElTQVNURVJcclxuICAgICAgICAgICAgbGV0IGVycm9yRmVlZGJhY2sgOiBzdHJpbmcgPSB3ZWJHTC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtVG9DcmVhdGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvckZlZWRiYWNrKTtcclxuXHJcbiAgICAgICAgICAgIC8vIERJU0FTVEVSXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHdlYkdMLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW1Ub0NyZWF0ZSkpO1xyXG4gICAgICAgICAgICB3ZWJHTC5kZWxldGVQcm9ncmFtKHByb2dyYW1Ub0NyZWF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9ncmFtVG9DcmVhdGU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1dlYkdMR2FtZVJlbmRlcmluZ0NvbXBvbmVudH0gZnJvbSAnLi9XZWJHTEdhbWVSZW5kZXJpbmdDb21wb25lbnQnXHJcbmltcG9ydCB7TWF0aFV0aWxpdGllc30gZnJvbSAnLi4vbWF0aC9NYXRoVXRpbGl0aWVzJ1xyXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXHJcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGVUeXBlfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGVUeXBlJ1xyXG5pbXBvcnQge1dlYkdMR2FtZVRleHR1cmV9IGZyb20gJy4vV2ViR0xHYW1lVGV4dHVyZSdcclxuaW1wb3J0IHtWaWV3cG9ydH0gZnJvbSAnLi4vc2NlbmUvVmlld3BvcnQnXHJcblxyXG5leHBvcnQgY2xhc3MgV2ViR0xHYW1lU3ByaXRlUmVuZGVyZXIgZXh0ZW5kcyBXZWJHTEdhbWVSZW5kZXJpbmdDb21wb25lbnQge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWZXJ0ZXhEYXRhKCkgOiBGbG9hdDMyQXJyYXkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAgICAgLTAuNSwgIDAuNSwgMC4wLCAwLjAsXHJcbiAgICAgICAgICAgIC0wLjUsIC0wLjUsIDAuMCwgMS4wLFxyXG4gICAgICAgICAgICAgMC41LCAgMC41LCAxLjAsIDAuMCxcclxuICAgICAgICAgICAgIDAuNSwgLTAuNSwgMS4wLCAxLjBcclxuICAgICAgICBdKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRTaGFkZXJBdHRyaWJ1dGVOYW1lcygpIDogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbdGhpcy5BX1BPU0lUSU9OLCB0aGlzLkFfVEVYX0NPT1JEXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRTaGFkZXJVbmlmb3JtTmFtZXMoKSA6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuVV9NRVNIX1RSQU5TRk9STSwgdGhpcy5VX1NBTVBMRVIsIHRoaXMuVV9URVhfQ09PUkRfRkFDVE9SLCB0aGlzLlVfVEVYX0NPT1JEX1NISUZUXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKCAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnQgOiBWaWV3cG9ydCxcclxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlU3ByaXRlcyA6IEFycmF5PEFuaW1hdGVkU3ByaXRlPikgOiB2b2lkIHtcclxuICAgICAgICAvLyBTRUxFQ1QgVEhFIEFOSU1BVEVEIFNQUklURSBSRU5ERVJJTkcgU0hBREVSIFBST0dSQU0gRk9SIFVTRVxyXG4gICAgICAgIGxldCBzaGFkZXJQcm9ncmFtVG9Vc2UgPSB0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCk7XHJcbiAgICAgICAgd2ViR0wudXNlUHJvZ3JhbShzaGFkZXJQcm9ncmFtVG9Vc2UpO1xyXG5cclxuICAgICAgIC8vIEFORCBUSEVOIFJFTkRFUiBFQUNIIE9ORVxyXG4gICAgICAgZm9yIChsZXQgc3ByaXRlIG9mIHZpc2libGVTcHJpdGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQW5pbWF0ZWRTcHJpdGUod2ViR0wsIHZpZXdwb3J0LCBzcHJpdGUpOyAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyQW5pbWF0ZWRTcHJpdGUoICAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0IDogVmlld3BvcnQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUgOiBBbmltYXRlZFNwcml0ZSkgOiB2b2lkIHtcclxuICAgICAgICAvLyBZT1UnTEwgTkVFRCBUTyBVUERBVEUgVEhJUyBNRVRIT0QgVE8gTUFLRSBTVVJFIFNQUklURVMgU0NST0xMIEFORCBST1RBVEVcclxuICAgICAgICBcclxuICAgICAgICBsZXQgY2FudmFzV2lkdGggOiBudW1iZXIgPSB3ZWJHTC5jYW52YXMud2lkdGg7XHJcbiAgICAgICAgbGV0IGNhbnZhc0hlaWdodCA6IG51bWJlciA9IHdlYkdMLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IHNwcml0ZVR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGUgPSBzcHJpdGUuZ2V0U3ByaXRlVHlwZSgpO1xyXG4gICAgICAgIGxldCB0ZXh0dXJlIDogV2ViR0xHYW1lVGV4dHVyZSA9IHNwcml0ZVR5cGUuZ2V0U3ByaXRlU2hlZXRUZXh0dXJlKCk7XHJcblxyXG4gICAgICAgIC8vIENBTENVTEFURSBIT1cgTVVDSCBUTyBUUkFOU0xBVEUgVEhFIFFVQUQgUEVSIFRIRSBTUFJJVEUgUE9TSVRJT05cclxuICAgICAgICBsZXQgc3ByaXRlV2lkdGggOiBudW1iZXIgPSBzcHJpdGVUeXBlLmdldFNwcml0ZVdpZHRoKCk7XHJcbiAgICAgICAgbGV0IHNwcml0ZUhlaWdodCA6IG51bWJlciA9IHNwcml0ZVR5cGUuZ2V0U3ByaXRlSGVpZ2h0KCk7XHJcbiAgICAgICAgbGV0IHNwcml0ZVhJblBpeGVscyA6IG51bWJlciA9IHNwcml0ZS5nZXRQb3NpdGlvbigpLmdldFgoKSArIChzcHJpdGVXaWR0aC8yKTtcclxuICAgICAgICBsZXQgc3ByaXRlWUluUGl4ZWxzIDogbnVtYmVyID0gc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgKHNwcml0ZUhlaWdodC8yKTtcclxuICAgICAgICBsZXQgc3ByaXRlWFRyYW5zbGF0ZSA6IG51bWJlciA9IChzcHJpdGVYSW5QaXhlbHMgLSAodmlld3BvcnQuZ2V0WCgpICsgdmlld3BvcnQuZ2V0V2lkdGgoKSAvIDIpKSAvIChjYW52YXNXaWR0aCAvIDIpOy8vKGNhbnZhc1dpZHRoLzIpKS8oY2FudmFzV2lkdGgvMik7XHJcbiAgICAgICAgbGV0IHNwcml0ZVlUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWUluUGl4ZWxzIC0gKHZpZXdwb3J0LmdldFkoKSArIHZpZXdwb3J0LmdldEhlaWdodCgpIC8gMikpIC8gKGNhbnZhc0hlaWdodCAvIDIpOy8vKGNhbnZhc0hlaWdodC8yKSkvKGNhbnZhc0hlaWdodC8yKTtcclxuICAgICAgICB0aGlzLm1lc2hUcmFuc2xhdGUuc2V0WChzcHJpdGVYVHJhbnNsYXRlKTtcclxuICAgICAgICB0aGlzLm1lc2hUcmFuc2xhdGUuc2V0WSgtc3ByaXRlWVRyYW5zbGF0ZSk7XHJcblxyXG4gICAgICAgIC8vIENBTENVTEFURSBIT1cgTVVDSCBUTyBTQ0FMRSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBTSVpFXHJcbiAgICAgICAgbGV0IGRlZmF1bHRXaWR0aCA6IG51bWJlciA9IGNhbnZhc1dpZHRoO1xyXG4gICAgICAgIGxldCBkZWZhdWx0SGVpZ2h0IDogbnVtYmVyID0gY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIC8vbGV0IHJvdGF0aW9uIDogbnVtYmVyID0gTWF0aC5QSS8yO1xyXG4gICAgICAgIGxldCBzY2FsZVhEaWZmIDogbnVtYmVyID0gMDsvL3JvdGF0aW9uIC8gMzA7XHJcbiAgICAgICAgbGV0IHNjYWxlWURpZmYgOiBudW1iZXIgPSAwOy8vcm90YXRpb24gLyAxNTtcclxuICAgICAgICBsZXQgc2NhbGVYIDogbnVtYmVyID0gMipzcHJpdGVXaWR0aC9kZWZhdWx0V2lkdGg7XHJcbiAgICAgICAgbGV0IHNjYWxlWSA6IG51bWJlciA9IDIqc3ByaXRlSGVpZ2h0L2RlZmF1bHRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5tZXNoU2NhbGUuc2V0KHNjYWxlWCArIHNjYWxlWERpZmYsIHNjYWxlWSAtIHNjYWxlWURpZmYsIDAuMCwgMC4wKTsvLzEuMCwgMS4wKTtcclxuICAgICAgICAvL3RoaXMubWVzaFJvdGF0ZS5zZXRaKE1hdGguUEkvMilcclxuXHJcbiAgICAgICAgLy8gQHRvZG8gLSBDT01CSU5FIFRISVMgV0lUSCBUSEUgUk9UQVRFIEFORCBTQ0FMRSBWQUxVRVMgRlJPTSBUSEUgU1BSSVRFXHJcbiAgICAgICAgTWF0aFV0aWxpdGllcy5pZGVudGl0eSh0aGlzLm1lc2hUcmFuc2Zvcm0pO1xyXG4gICAgICAgIE1hdGhVdGlsaXRpZXMubW9kZWwodGhpcy5tZXNoVHJhbnNmb3JtLCB0aGlzLm1lc2hUcmFuc2xhdGUsIHRoaXMubWVzaFJvdGF0ZSwgdGhpcy5tZXNoU2NhbGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZJR1VSRSBPVVQgVEhFIFRFWFRVUkUgQ09PUkRJTkFURSBGQUNUT1IgQU5EIFNISUZUXHJcbiAgICAgICAgbGV0IHRleENvb3JkRmFjdG9yWCA6IG51bWJlciA9IHNwcml0ZVdpZHRoL3RleHR1cmUud2lkdGg7XHJcbiAgICAgICAgbGV0IHRleENvb3JkRmFjdG9yWSA6IG51bWJlciA9IHNwcml0ZUhlaWdodC90ZXh0dXJlLmhlaWdodDtcclxuICAgICAgICBsZXQgc3ByaXRlTGVmdCA6IG51bWJlciA9IHNwcml0ZS5nZXRMZWZ0KCk7XHJcbiAgICAgICAgbGV0IHNwcml0ZVRvcCA6IG51bWJlciA9IHNwcml0ZS5nZXRUb3AoKTtcclxuICAgICAgICBsZXQgdGV4Q29vcmRTaGlmdFggOiBudW1iZXIgPSBzcHJpdGVMZWZ0L3RleHR1cmUud2lkdGg7XHJcbiAgICAgICAgbGV0IHRleENvb3JkU2hpZnRZIDogbnVtYmVyID0gc3ByaXRlVG9wL3RleHR1cmUuaGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyBVU0UgVEhFIEFUVFJJQlVURVNcclxuICAgICAgICB3ZWJHTC5iaW5kQnVmZmVyKHdlYkdMLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyKTtcclxuICAgICAgICB3ZWJHTC5iaW5kVGV4dHVyZSh3ZWJHTC5URVhUVVJFXzJELCB0ZXh0dXJlLndlYkdMVGV4dHVyZSk7XHJcblxyXG4gICAgICAgIC8vIEhPT0sgVVAgVEhFIEFUVFJJQlVURVNcclxuICAgICAgICBsZXQgYV9Qb3NpdGlvbkxvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9ucy5nZXQodGhpcy5BX1BPU0lUSU9OKTtcclxuICAgICAgICB3ZWJHTC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFfUG9zaXRpb25Mb2NhdGlvbiwgdGhpcy5GTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURSwgd2ViR0wuRkxPQVQsIGZhbHNlLCB0aGlzLlRPVEFMX0JZVEVTLCB0aGlzLlZFUlRFWF9QT1NJVElPTl9PRkZTRVQpO1xyXG4gICAgICAgIHdlYkdMLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFfUG9zaXRpb25Mb2NhdGlvbik7XHJcbiAgICAgICAgbGV0IGFfVGV4Q29vcmRMb2NhdGlvbiA6IEdMdWludCA9IHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnMuZ2V0KHRoaXMuQV9URVhfQ09PUkQpO1xyXG4gICAgICAgIHdlYkdMLnZlcnRleEF0dHJpYlBvaW50ZXIoYV9UZXhDb29yZExvY2F0aW9uLCB0aGlzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIHRoaXMuVE9UQUxfQllURVMsIHRoaXMuVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVCk7XHJcbiAgICAgICAgd2ViR0wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9UZXhDb29yZExvY2F0aW9uKTtcclxuXHJcbiAgICAgICAgLy8gVVNFIFRIRSBVTklGT1JNU1xyXG4gICAgICAgIGxldCB1X01lc2hUcmFuc2Zvcm1Mb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnMuZ2V0KHRoaXMuVV9NRVNIX1RSQU5TRk9STSk7XHJcbiAgICAgICAgd2ViR0wudW5pZm9ybU1hdHJpeDRmdih1X01lc2hUcmFuc2Zvcm1Mb2NhdGlvbiwgZmFsc2UsIHRoaXMubWVzaFRyYW5zZm9ybS5nZXREYXRhKCkpO1xyXG4gICAgICAgIGxldCB1X1NhbXBsZXJMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnMuZ2V0KHRoaXMuVV9TQU1QTEVSKTtcclxuICAgICAgICB3ZWJHTC51bmlmb3JtMWkodV9TYW1wbGVyTG9jYXRpb24sIHRleHR1cmUud2ViR0xUZXh0dXJlSWQpO1xyXG4gICAgICAgIGxldCB1X1RleENvb3JkRmFjdG9yTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zLmdldCh0aGlzLlVfVEVYX0NPT1JEX0ZBQ1RPUik7XHJcbiAgICAgICAgd2ViR0wudW5pZm9ybTJmKHVfVGV4Q29vcmRGYWN0b3JMb2NhdGlvbiwgdGV4Q29vcmRGYWN0b3JYLCB0ZXhDb29yZEZhY3RvclkpO1xyXG4gICAgICAgIGxldCB1X1RleENvb3JkU2hpZnRMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnMuZ2V0KHRoaXMuVV9URVhfQ09PUkRfU0hJRlQpO1xyXG4gICAgICAgIHdlYkdMLnVuaWZvcm0yZih1X1RleENvb3JkU2hpZnRMb2NhdGlvbiwgdGV4Q29vcmRTaGlmdFgsIHRleENvb3JkU2hpZnRZKTtcclxuXHJcbiAgICAgICAgLy8gRFJBVyBUSEUgU1BSSVRFIEFTIEEgVFJJQU5HTEUgU1RSSVAgVVNJTkcgNCBWRVJUSUNFUywgU1RBUlRJTkcgQVQgVEhFIFNUQVJUIE9GIFRIRSBBUlJBWSAoaW5kZXggMClcclxuICAgICAgICB3ZWJHTC5kcmF3QXJyYXlzKHdlYkdMLlRSSUFOR0xFX1NUUklQLCB0aGlzLklOREVYX09GX0ZJUlNUX1ZFUlRFWCwgdGhpcy5OVU1fVkVSVElDRVMpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFdlYkdMR2FtZVRleHR1cmUge1xyXG4gICAgcHVibGljIHdlYkdMVGV4dHVyZUlkOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgd2ViR0xUZXh0dXJlOiBXZWJHTFRleHR1cmU7XHJcbiAgICBwdWJsaWMgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgd2lkdGggOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgaGVpZ2h0IDogbnVtYmVyO1xyXG59IiwiaW1wb3J0IHsgTWF0aFV0aWxpdGllcyB9IGZyb20gXCIuLi9tYXRoL01hdGhVdGlsaXRpZXNcIlxyXG5pbXBvcnQgeyBUaWxlZExheWVyIH0gZnJvbSBcIi4uL3NjZW5lL3RpbGVzL1RpbGVkTGF5ZXJcIlxyXG5pbXBvcnQgeyBUaWxlU2V0IH0gZnJvbSBcIi4uL3NjZW5lL3RpbGVzL1RpbGVTZXRcIlxyXG5pbXBvcnQgeyBXZWJHTEdhbWVSZW5kZXJpbmdDb21wb25lbnQgfSBmcm9tICcuL1dlYkdMR2FtZVJlbmRlcmluZ0NvbXBvbmVudCdcclxuaW1wb3J0IHsgV2ViR0xHYW1lVGV4dHVyZSB9IGZyb20gJy4vV2ViR0xHYW1lVGV4dHVyZSdcclxuaW1wb3J0IHsgVmlld3BvcnQgfSBmcm9tICcuLi9zY2VuZS9WaWV3cG9ydCdcclxuXHJcbmV4cG9ydCBjbGFzcyBXZWJHTEdhbWVUaWxlZExheWVyUmVuZGVyZXIgZXh0ZW5kcyBXZWJHTEdhbWVSZW5kZXJpbmdDb21wb25lbnQge1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyB0aGUgYXJyYXkgb2YgYXR0cmlidXRlIGRhdGEgbmVlZGVkIHRvIFxyXG4gICAgICogcmVuZGVyIG91ciBUaWxlZExheWVyIGFuZCBwdXRzIGl0IGluIHRoZSB0aWxlZCBsYXllciBhcmd1bWVudC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdlbmVyYXRlVmVydGV4RGF0YSh0aWxlZExheWVyOiBUaWxlZExheWVyKTogRmxvYXQzMkFycmF5IHtcclxuICAgICAgICBsZXQgc29tZU51bWJlcllvdUhhdmVUb0RldGVybWluZSA6IG51bWJlciA9IDQ7XHJcbiAgICAgICAgbGV0IGRhdGFUb0ZpbGwgPSBbc29tZU51bWJlcllvdUhhdmVUb0RldGVybWluZV07XHJcbiAgICAgICAgbGV0IHZlcnRleERhdGE6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YVRvRmlsbCk7XHJcbiAgICAgICAgcmV0dXJuIHZlcnRleERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZlcnRleERhdGEocmVuZGVyU2V0dXBEYXRhOiBvYmplY3QpOiBGbG9hdDMyQXJyYXkge1xyXG4gICAgICAgIC8vIFdFIFdJTEwgTkVFRCBUSElTIFRPIEtOT1cgSE9XIExBUkdFIFRPIE1BS0UgT1VSIFZFUlRFWCBEQVRBIEJVRkZFUlxyXG4gICAgICAgIGxldCB0aWxlZExheWVyczogQXJyYXk8VGlsZWRMYXllcj4gPSA8QXJyYXk8VGlsZWRMYXllcj4+cmVuZGVyU2V0dXBEYXRhO1xyXG4gICAgICAgIGxldCB0aWxlZExheWVyOiBUaWxlZExheWVyID0gdGlsZWRMYXllcnNbMF07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVWZXJ0ZXhEYXRhKHRpbGVkTGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTaGFkZXJBdHRyaWJ1dGVOYW1lcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgLy8gWU9VJ0xMIE5FRUQgVE8gREVGSU5FIFRISVMgTUVUSE9EXHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTaGFkZXJVbmlmb3JtTmFtZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIC8vIFlPVSdMTCBORUVEIFRPIERFRklORSBUSElTIE1FVEhPRFxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKCAgd2ViR0w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydCA6IFZpZXdwb3J0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbGVkTGF5ZXJzOiBBcnJheTxUaWxlZExheWVyPik6IHZvaWQge1xyXG5cclxuICAgICAgICAgICAgLy8gU0VMRUNUIFRIRSBBTklNQVRFRCBTUFJJVEUgUkVOREVSSU5HIFNIQURFUiBQUk9HUkFNIEZPUiBVU0VcclxuICAgICAgICBsZXQgc2hhZGVyUHJvZ3JhbVRvVXNlID0gdGhpcy5zaGFkZXIuZ2V0UHJvZ3JhbSgpO1xyXG4gICAgICAgIHdlYkdMLnVzZVByb2dyYW0oc2hhZGVyUHJvZ3JhbVRvVXNlKTtcclxuXHJcbiAgICAgICAgLy8gQU5EIFRIRU4gUkVOREVSIEVBQ0ggTEFZRVJcclxuICAgICAgICBmb3IgKGxldCB0aWxlZExheWVyIG9mIHRpbGVkTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGlsZWRMYXllcih3ZWJHTCwgdmlld3BvcnQsIHRpbGVkTGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlclRpbGVkTGF5ZXIoXHJcbiAgICAgICAgd2ViR0w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcclxuICAgICAgICB2aWV3cG9ydCA6IFZpZXdwb3J0LFxyXG4gICAgICAgIHRpbGVkTGF5ZXI6IFRpbGVkTGF5ZXIpIHtcclxuICAgICAgICAgICAgLy8gWU9VJ0xMIE5FRUQgVE8gREVGSU5FIFRISVMgTUVUSE9EXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1NjZW5lT2JqZWN0fSBmcm9tICcuL1NjZW5lT2JqZWN0J1xyXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlfSBmcm9tICcuL3Nwcml0ZS9BbmltYXRlZFNwcml0ZSdcclxuaW1wb3J0IHtUaWxlZExheWVyfSBmcm9tICcuL3RpbGVzL1RpbGVkTGF5ZXInXHJcbmltcG9ydCB7VGlsZVNldH0gZnJvbSAnLi90aWxlcy9UaWxlU2V0J1xyXG5pbXBvcnQge1ZpZXdwb3J0fSBmcm9tICcuL1ZpZXdwb3J0JztcclxuXHJcbmV4cG9ydCBjbGFzcyBTY2VuZUdyYXBoIHtcclxuICAgIC8vIEFORCBBTEwgT0YgVEhFIEFOSU1BVEVEIFNQUklURVMsIFdISUNIIEFSRSBOT1QgU1RPUkVEXHJcbiAgICAvLyBTT1JURUQgT1IgSU4gQU5ZIFBBUlRJQ1VMQVIgT1JERVIuIE5PVEUgVEhBVCBBTklNQVRFRCBTUFJJVEVTXHJcbiAgICAvLyBBUkUgU0NFTkUgT0JKRUNUU1xyXG4gICAgcHJpdmF0ZSBhbmltYXRlZFNwcml0ZXMgOiBBcnJheTxBbmltYXRlZFNwcml0ZT47XHJcblxyXG4gICAgLy8gU0VUIE9GIFZJU0lCTEUgT0JKRUNUUywgTk9URSBUSEFUIEFUIFRIRSBNT01FTlQgT1VSXHJcbiAgICAvLyBTQ0VORSBHUkFQSCBJUyBRVUlURSBTSU1QTEUsIFNPIFRISVMgSVMgVEhFIFNBTUUgQVNcclxuICAgIC8vIE9VUiBMSVNUIE9GIEFOSU1BVEVEIFNQUklURVNcclxuICAgIHByaXZhdGUgdmlzaWJsZVNldCA6IEFycmF5PFNjZW5lT2JqZWN0PjtcclxuXHJcbiAgICAvLyBXRSBBUkUgQUxTTyBVU0lORyBBIFRJTElORyBFTkdJTkUgRk9SIFJFTkRFUklORyBPVVIgTEVWRUxcclxuICAgIC8vIE5PVEUgVEhBVCBXRSBNQU5BR0UgVEhJUyBIRVJFIEJFQ0FVU0UgV0UgTUFZIElOVk9MVkUgVEhFIFRJTEVEXHJcbiAgICAvLyBMQVlFUlMgSU4gUEhZU0lDUyBBTkQgUEFUSEZJTkRJTkcgQVMgV0VMTFxyXG4gICAgcHJpdmF0ZSB0aWxlZExheWVycyA6IEFycmF5PFRpbGVkTGF5ZXI+O1xyXG4gICAgcHJpdmF0ZSB0aWxlU2V0cyA6IEFycmF5PFRpbGVTZXQ+O1xyXG5cclxuICAgIC8vIFRIRSBWSUVXUE9SVCBJUyBVU0VEIFRPIEZJTFRFUiBPVVQgV0hBVCBJUyBOT1QgVklTSUJMRVxyXG4gICAgcHJpdmF0ZSB2aWV3cG9ydCA6IFZpZXdwb3J0O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyBERUZBVUxUIENPTlNUUlVDVE9SIElOSVRJQUxJWkVTIE9VUiBEQVRBIFNUUlVDVFVSRVNcclxuICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyKCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGVkU3ByaXRlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMudmlzaWJsZVNldCA9IFtdO1xyXG4gICAgICAgIHRoaXMudGlsZWRMYXllcnMgPSBbXTtcclxuICAgICAgICB0aGlzLnRpbGVTZXRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFRpbGVTZXQodGlsZVNldFRvQWRkIDogVGlsZVNldCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVTZXRzLnB1c2godGlsZVNldFRvQWRkKSAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE51bVRpbGVTZXRzKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVTZXRzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGlsZVNldChpbmRleCA6IG51bWJlcikgOiBUaWxlU2V0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aWxlU2V0c1tpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZExheWVyKGxheWVyVG9BZGQgOiBUaWxlZExheWVyKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudGlsZWRMYXllcnMucHVzaChsYXllclRvQWRkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TnVtVGlsZWRMYXllcnMoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZWRMYXllcnMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaWxlZExheWVycygpIDogQXJyYXk8VGlsZWRMYXllcj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVkTGF5ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaWxlZExheWVyKGxheWVySW5kZXggOiBudW1iZXIpIDogVGlsZWRMYXllciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZWRMYXllcnNbbGF5ZXJJbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE51bVNwcml0ZXMoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0ZWRTcHJpdGVzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Vmlld3BvcnQoaW5pdFZpZXdwb3J0IDogVmlld3BvcnQpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IGluaXRWaWV3cG9ydDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Vmlld3BvcnQoKSA6IFZpZXdwb3J0IHsgXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld3BvcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuaW1hdGVkU3ByaXRlKHNwcml0ZSA6IEFuaW1hdGVkU3ByaXRlKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZWRTcHJpdGVzLnB1c2goc3ByaXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3ByaXRlQXQodGVzdFggOiBudW1iZXIsIHRlc3RZIDogbnVtYmVyKSA6IEFuaW1hdGVkU3ByaXRlIHtcclxuICAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdGhpcy5hbmltYXRlZFNwcml0ZXMpIHtcclxuICAgICAgICAgICAgaWYgKHNwcml0ZS5jb250YWlucyh0ZXN0WCwgdGVzdFkpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwcml0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdmVNYW50aXMoKSA6IEFuaW1hdGVkU3ByaXRle1xyXG4gICAgICAgIGZvciAobGV0IHNwcml0ZSBvZiB0aGlzLmFuaW1hdGVkU3ByaXRlcyl7XHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUuZ2V0UGxheWVyKCkgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ByaXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdXBkYXRlXHJcbiAgICAgKiBcclxuICAgICAqIENhbGxlZCBvbmNlIHBlciBmcmFtZSwgdGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSBzdGF0ZSBvZiBhbGwgdGhlIG9iamVjdHNcclxuICAgICAqIGluIHRoZSBzY2VuZS5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGRlbHRhIFRoZSB0aW1lIHRoYXQgaGFzIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoaXMgdXBkYXRlXHJcbiAgICAgKiBmdW5jYXRpb24gd2FzIGNhbGxlZC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZShkZWx0YSA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdGhpcy5hbmltYXRlZFNwcml0ZXMpIHtcclxuICAgICAgICAgICAgc3ByaXRlLnVwZGF0ZShkZWx0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzY29wZSgpIDogQXJyYXk8U2NlbmVPYmplY3Q+IHtcclxuICAgICAgICAvLyBDTEVBUiBPVVQgVEhFIE9MRFxyXG4gICAgICAgIHRoaXMudmlzaWJsZVNldCA9IFtdO1xyXG5cclxuICAgICAgICAvLyBQVVQgQUxMIFRIRSBTQ0VORSBPQkpFQ1RTIElOVE8gVEhFIFZJU0lCTEUgU0VUXHJcbiAgICAgICAgZm9yIChsZXQgc3ByaXRlIG9mIHRoaXMuYW5pbWF0ZWRTcHJpdGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZVNldC5wdXNoKHNwcml0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy52aXNpYmxlU2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBudW1WaWV3cG9ydCgpIDogbnVtYmVye1xyXG4gICAgICAgIGxldCBjb3VudGVyIDogbnVtYmVyO1xyXG4gICAgICAgIGNvdW50ZXIgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IHNwcml0ZSBvZiB0aGlzLmFuaW1hdGVkU3ByaXRlcykge1xyXG4gICAgICAgICAgICBpZiAoc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WCgpID49IHRoaXMudmlld3BvcnQuZ2V0WCgpICYmIHNwcml0ZS5nZXRQb3NpdGlvbigpLmdldFgoKSA8PSAodGhpcy52aWV3cG9ydC5nZXRYKCkgKyB0aGlzLnZpZXdwb3J0LmdldFdpZHRoKCkpXHJcbiAgICAgICAgICAgICYmIHNwcml0ZS5nZXRQb3NpdGlvbigpLmdldFkoKSA+PSB0aGlzLnZpZXdwb3J0LmdldFkoKSAmJiBzcHJpdGUuZ2V0UG9zaXRpb24oKS5nZXRZKCkgPD0gKHRoaXMudmlld3BvcnQuZ2V0WSgpICsgdGhpcy52aWV3cG9ydC5nZXRIZWlnaHQoKSkpe1xyXG4gICAgICAgICAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3VudGVyO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtWZWN0b3IzfSBmcm9tICcuLi9tYXRoL1ZlY3RvcjMnXHJcblxyXG4vKipcclxuICogU2NlbmVPYmplY3RcclxuICogXHJcbiAqIEEgU2NlbmVPYmplY3QgaXMgc29tZXRoaW5nIHRoYXQgY2FuIGJlIHBsYWNlZCBpbnRvIHRoZSBzY2VuZSBncmFwaC4gSXQgaGFzXHJcbiAqIGEgcG9zaXRpb24sIHJvdGF0aW9uLCBhbmQgc2NhbGUgaW4gdGhlIGdhbWUgd29ybGQuIE5vdGUgdGhhdCBpdHMgcG9zaXRpb25cclxuICogaXMgdHlwaWNhbGx5IGl0cyBjZW50ZXJlZCBsb2NhdGlvbiwgc28gaWYgd2UncmUgdGFsa2luZyBhYm91dCBhIDJkIGJveCwgXHJcbiAqIGl0IHdvdWxkIGJlIHRoZSBjZW50ZXIgb2YgdGhhdCBib3guXHJcbiAqL1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU2NlbmVPYmplY3Qge1xyXG4gICAgcHJpdmF0ZSBwb3NpdGlvbiA6IFZlY3RvcjM7XHJcbiAgICBwcml2YXRlIHJvdGF0aW9uIDogVmVjdG9yMztcclxuICAgIHByaXZhdGUgc2NhbGUgOiBWZWN0b3IzO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcbiAgICAgICAgLy8gQ0xFQVIgQUxMIFZBTFVFU1xyXG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvbi5zZXQoMC4wLCAwLjAsIDAuMCwgMS4wKTtcclxuICAgICAgICB0aGlzLnNjYWxlLnNldCgxLjAsIDEuMCwgMS4wLCAxLjApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQb3NpdGlvbigpIDogVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIHB1YmxpYyBnZXRSb3RhdGlvbigpIDogVmVjdG9yMyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNjYWxlKCkgOiBWZWN0b3IzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgY29udGFpbnModGVzdFggOiBudW1iZXIsIHRlc3RZIDogbnVtYmVyKSA6IGJvb2xlYW47XHJcbn0iLCJleHBvcnQgY2xhc3MgVmlld3BvcnQge1xyXG4gICAgcHJpdmF0ZSB3aWR0aCA6IG51bWJlcjtcclxuICAgIHByaXZhdGUgaGVpZ2h0IDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB4IDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB5IDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihpbml0V2lkdGggOiBudW1iZXIsIGluaXRIZWlnaHQgOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gaW5pdFdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaW5pdEhlaWdodDtcclxuICAgICAgICB0aGlzLnggPSAwO1xyXG4gICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdpZHRoKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRIZWlnaHQoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRYKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLng7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFkoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5jKGluY1ggOiBudW1iZXIsIGluY1kgOiBudW1iZXIpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy54ICs9IGluY1g7XHJcbiAgICAgICAgdGhpcy55ICs9IGluY1k7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFBvc2l0aW9uKGluaXRYIDogbnVtYmVyLCBpbml0WSA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnggPSBpbml0WDtcclxuICAgICAgICB0aGlzLnkgPSBpbml0WTtcclxuICAgIH1cclxufSIsImltcG9ydCB7U2NlbmVPYmplY3R9IGZyb20gJy4uL1NjZW5lT2JqZWN0J1xyXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlVHlwZX0gZnJvbSAnLi9BbmltYXRlZFNwcml0ZVR5cGUnXHJcbmltcG9ydCB7QmVoYXZpb3J9IGZyb20gJy4vQmVoYXZpb3InXHJcbmltcG9ydCB7IFNjZW5lR3JhcGggfSBmcm9tICcuLi9TY2VuZUdyYXBoJztcclxuaW1wb3J0IHsgQnVnQmVoYXZpb3IxIH0gZnJvbSAnLi9CdWdCZWhhdmlvcjEnO1xyXG5pbXBvcnQgeyBCdWdCZWhhdmlvcjIgfSBmcm9tICcuL0J1Z0JlaGF2aW9yMic7XHJcblxyXG5leHBvcnQgY2xhc3MgQW5pbWF0ZWRTcHJpdGUgZXh0ZW5kcyBTY2VuZU9iamVjdCB7XHJcbiAgICBwcml2YXRlIHNwcml0ZVR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGU7XHJcbiAgICBwcml2YXRlIHN0YXRlIDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZUluZGV4IDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcmFtZUNvdW50ZXIgOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGJlaGF2aW9yOiBCZWhhdmlvcjtcclxuICAgIHByaXZhdGUgcGxheWVyIDogQm9vbGVhbjtcclxuICAgIC8vRGVwZW5kaW5nIG9uIGJlaGF2aW9yLCAvL3JvdGF0aW9uIDAgPSBVcCwgMSA9IHJpZ2h0LCAyID0gZG93biwgMyA9IGxlZnRcclxuICAgIHByaXZhdGUgZGlyZWN0aW9uIDogbnVtYmVyO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaW5pdFNwcml0ZVR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGUsIGluaXRTdGF0ZSA6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVUeXBlID0gaW5pdFNwcml0ZVR5cGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU1RBUlQgUkVTRVRcclxuICAgICAgICB0aGlzLnN0YXRlID0gaW5pdFN0YXRlO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuYmVoYXZpb3IgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRQbGF5ZXIoKSA6IHZvaWR7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQbGF5ZXIoKSA6IEFuaW1hdGVkU3ByaXRle1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllcil7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QW5pbWF0aW9uRnJhbWVJbmRleCgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25GcmFtZUluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGcmFtZUNvdW50ZXIoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVDb3VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTcHJpdGVUeXBlKCkgOiBBbmltYXRlZFNwcml0ZVR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZVR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFN0YXRlKCkgOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgc2V0U3RhdGUoaW5pdFN0YXRlIDogc3RyaW5nKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBpbml0U3RhdGU7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERpcmVjdGlvbigpIDogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RGlyZWN0aW9uKGRpcmVjdGlvbiA6IG51bWJlcikgOiB2b2lke1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRCZWhhdmlvcihzdGF0ZSA6IG51bWJlciwgc2NlbmUgOiBTY2VuZUdyYXBoLCB3b3JsZFdpZHRoIDogbnVtYmVyLCB3b3JsZEhlaWdodCA6IG51bWJlcikgOiB2b2lke1xyXG4gICAgICAgICAgICB0aGlzLmJlaGF2aW9yID0gbmV3IEJ1Z0JlaGF2aW9yMShzdGF0ZSwgc2NlbmUsIHdvcmxkV2lkdGgsIHdvcmxkSGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQmVoYXZpb3IyKHN0YXRlIDogbnVtYmVyLCBzY2VuZSA6IFNjZW5lR3JhcGgsIHdvcmxkV2lkdGggOiBudW1iZXIsIHdvcmxkSGVpZ2h0IDogbnVtYmVyLCBwbGF5ZXIgOiBBbmltYXRlZFNwcml0ZSkgOiB2b2lke1xyXG4gICAgICAgICAgICB0aGlzLmJlaGF2aW9yID0gbmV3IEJ1Z0JlaGF2aW9yMihzdGF0ZSwgc2NlbmUsIHdvcmxkV2lkdGgsIHdvcmxkSGVpZ2h0LCBwbGF5ZXIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgdXBkYXRlKGRlbHRhIDogbnVtYmVyKSA6IHZvaWQge1xyXG4gICAgICAgIC8vZG9udCBmb3JnZXQgdG8gY2hhbmdlIGFuaW1hdGlvbiBzdGF0ZVxyXG4gICAgICAgIGlmICh0aGlzLmJlaGF2aW9yICE9IG51bGwpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iZWhhdmlvci5nZXRTdGF0ZSgpID09IDEpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0U3RhdGUoKSA9PSBcIklETEVcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShcIldBTEtcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5iZWhhdmlvci50aGluayh0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WCgpLCB0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2godGVtcCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAtMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREaXJlY3Rpb24oMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERpcmVjdGlvbigxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERpcmVjdGlvbigwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCh0aGlzLmRpcmVjdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCkgLSA1IDw9IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uKCkuc2V0WSgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFkodGhpcy5nZXRQb3NpdGlvbigpLmdldFkoKSAtIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1icmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSArIDUgPj0gdGhpcy5iZWhhdmlvci5nZXRXaWR0aCgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFgodGhpcy5iZWhhdmlvci5nZXRXaWR0aCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFgodGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSArIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1icmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRQb3NpdGlvbigpLmdldFkoKSArIDUgPj0gdGhpcy5iZWhhdmlvci5nZXRIZWlnaHQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24oKS5zZXRZKHRoaXMuYmVoYXZpb3IuZ2V0SGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uKCkuc2V0WSh0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WCgpIC0gNSA8PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFgoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24oKS5zZXRYKHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmICh0aGlzLmJlaGF2aW9yLmdldFN0YXRlKCkgPT0gMil7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IDA7XHJcbiAgICAgICAgICAgICAgICB0ZW1wID0gdGhpcy5iZWhhdmlvci50aGluayh0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WCgpLCB0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iZWhhdmlvci5nZXRSdW5uaW5nKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCh0ZW1wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAtMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgLTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERpcmVjdGlvbigyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREaXJlY3Rpb24oMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREaXJlY3Rpb24oMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHRoaXMuZGlyZWN0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCkgLSA1IDw9IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24oKS5zZXRZKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFkodGhpcy5nZXRQb3NpdGlvbigpLmdldFkoKSAtIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSArIDUgPj0gdGhpcy5iZWhhdmlvci5nZXRXaWR0aCgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uKCkuc2V0WCh0aGlzLmJlaGF2aW9yLmdldFdpZHRoKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFgodGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSArIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRQb3NpdGlvbigpLmdldFkoKSArIDUgPj0gdGhpcy5iZWhhdmlvci5nZXRIZWlnaHQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFkodGhpcy5iZWhhdmlvci5nZXRIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uKCkuc2V0WSh0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WCgpIC0gNSA8PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uKCkuc2V0WCgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24oKS5zZXRYKHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1icmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2godGVtcCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgLTM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERpcmVjdGlvbigzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0yOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREaXJlY3Rpb24oMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFN0YXRlKCkgPT0gXCJXQUxLXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoXCJJRExFXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFN0YXRlKCkgPT0gXCJJRExFXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoXCJXQUxLXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHRoaXMuZGlyZWN0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpIC0gNSA8PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24oKS5zZXRZKDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24oKS5zZXRZKHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCkgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyA1ID49IHRoaXMuYmVoYXZpb3IuZ2V0V2lkdGgoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uKCkuc2V0WCh0aGlzLmJlaGF2aW9yLmdldFdpZHRoKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UG9zaXRpb24oKS5zZXRYKHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyA1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyA1ID49IHRoaXMuYmVoYXZpb3IuZ2V0SGVpZ2h0KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFkodGhpcy5iZWhhdmlvci5nZXRIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRQb3NpdGlvbigpLnNldFkodGhpcy5nZXRQb3NpdGlvbigpLmdldFkoKSArIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSAtIDUgPD0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uKCkuc2V0WCgwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBvc2l0aW9uKCkuc2V0WCh0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WCgpIC0gNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1icmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZyYW1lQ291bnRlcisrO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEhBVkUgV0UgR09ORSBQQVNUIFRIRSBMQVNUIEZSQU1FIElOIFRIRSBBTklNQVRJT04/XHJcbiAgICAgICAgdmFyIGN1cnJlbnRBbmltYXRpb24gPSB0aGlzLnNwcml0ZVR5cGUuZ2V0QW5pbWF0aW9uKHRoaXMuc3RhdGUpO1xyXG4gICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSBjdXJyZW50QW5pbWF0aW9uW3RoaXMuYW5pbWF0aW9uRnJhbWVJbmRleF07XHJcbiAgICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudGVyID4gKGN1cnJlbnRGcmFtZS5kdXJhdGlvbikpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUluZGV4Kys7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXggPj0gY3VycmVudEFuaW1hdGlvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29udGFpbnMocG9pbnRYIDogbnVtYmVyLCBwb2ludFkgOiBudW1iZXIpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHNwcml0ZVdpZHRoID0gdGhpcy5nZXRTcHJpdGVUeXBlKCkuZ2V0U3ByaXRlV2lkdGgoKTtcclxuICAgICAgICBsZXQgc3ByaXRlSGVpZ2h0ID0gdGhpcy5nZXRTcHJpdGVUeXBlKCkuZ2V0U3ByaXRlSGVpZ2h0KCk7XHJcbiAgICAgICAgbGV0IHNwcml0ZUxlZnQgPSB0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WCgpO1xyXG4gICAgICAgIGxldCBzcHJpdGVSaWdodCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyBzcHJpdGVXaWR0aDtcclxuICAgICAgICBsZXQgc3ByaXRlVG9wID0gdGhpcy5nZXRQb3NpdGlvbigpLmdldFkoKTtcclxuICAgICAgICBsZXQgc3ByaXRlQm90dG9tID0gdGhpcy5nZXRQb3NpdGlvbigpLmdldFkoKSArIHNwcml0ZUhlaWdodDtcclxuICAgICAgICBpZiAoICAgIChwb2ludFggPCBzcHJpdGVMZWZ0KVxyXG4gICAgICAgICAgICB8fCAgKHNwcml0ZVJpZ2h0IDwgcG9pbnRYKVxyXG4gICAgICAgICAgICB8fCAgKHBvaW50WSA8IHNwcml0ZVRvcClcclxuICAgICAgICAgICAgfHwgIChzcHJpdGVCb3R0b20gPCBwb2ludFkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlJFTkFNRSBUSElTIE1FVEhPRCBTTyBJVCBERU5PVEVTIFBJWEVMIExPQ0FUSU9OIElOIFRFWFRVUkUgKi9cclxuICAgIHB1YmxpYyBnZXRMZWZ0KCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZVR5cGUuZ2V0TGVmdCh0aGlzLnN0YXRlLCB0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgZ2V0VG9wKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZVR5cGUuZ2V0VG9wKHRoaXMuc3RhdGUsIHRoaXMuYW5pbWF0aW9uRnJhbWVJbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRvU3RyaW5nKCkgOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBzdW1tYXJ5IDogc3RyaW5nID0gIFwieyBwb3NpdGlvbjogKFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgdGhpcy5nZXRQb3NpdGlvbigpLmdldFgoKSArIFwiLCBcIiArIHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyBcIikgXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgICBcIihzdGF0ZTogXCIgKyB0aGlzLmdldFN0YXRlKCkgKyBcIikgXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgICBcIihhbmltYXRpb25GcmFtZUluZGV4OiBcIiArIHRoaXMuZ2V0QW5pbWF0aW9uRnJhbWVJbmRleCgpICsgXCIpIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgXCIoZnJhbWVDb3VudGVyOiBcIiArIHRoaXMuZ2V0RnJhbWVDb3VudGVyKCkgKyBcIikgXCI7XHJcbiAgICAgICAgcmV0dXJuIHN1bW1hcnk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge1dlYkdMR2FtZVRleHR1cmV9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9XZWJHTEdhbWVUZXh0dXJlJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkZyYW1lIHtcclxuICAgIHB1YmxpYyBsZWZ0IDogbnVtYmVyO1xyXG4gICAgcHVibGljIHRvcCA6IG51bWJlcjtcclxuICAgIHB1YmxpYyBkdXJhdGlvbiA6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihpbml0TGVmdCA6IG51bWJlciwgaW5pdFRvcCA6IG51bWJlciwgaW5pdER1cmF0aW9uIDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gaW5pdExlZnQ7XHJcbiAgICAgICAgdGhpcy50b3AgPSBpbml0VG9wO1xyXG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBpbml0RHVyYXRpb247XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRlZFNwcml0ZVR5cGUge1xyXG4gICAgcHJpdmF0ZSBzcHJpdGVTaGVldFRleHR1cmUgOiBXZWJHTEdhbWVUZXh0dXJlO1xyXG4gICAgcHJpdmF0ZSBhbmltYXRpb25zIDogTWFwPHN0cmluZywgQXJyYXk8QW5pbWF0aW9uRnJhbWU+PjtcclxuICAgIHByaXZhdGUgc3ByaXRlV2lkdGggOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHNwcml0ZUhlaWdodCA6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaW5pdFNwcml0ZVNoZWV0VGV4dHVyZSA6IFdlYkdMR2FtZVRleHR1cmUsIFxyXG4gICAgICAgICAgICAgICAgaW5pdFNwcml0ZVdpZHRoIDogbnVtYmVyLCBpbml0U3ByaXRlSGVpZ2h0IDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVTaGVldFRleHR1cmUgPSBpbml0U3ByaXRlU2hlZXRUZXh0dXJlO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnNwcml0ZVdpZHRoID0gaW5pdFNwcml0ZVdpZHRoO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlSGVpZ2h0ID0gaW5pdFNwcml0ZUhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0aW9uKHN0YXRlIDogc3RyaW5nKSA6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zZXQoc3RhdGUsIG5ldyBBcnJheTxBbmltYXRpb25GcmFtZT4oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuaW1hdGlvbkZyYW1lKHN0YXRlIDogc3RyaW5nLCBpbmRleCA6IG51bWJlciwgZnJhbWVEdXJhdGlvbiA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMuc3ByaXRlU2hlZXRUZXh0dXJlLndpZHRoL3RoaXMuc3ByaXRlV2lkdGg7XHJcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLnNwcml0ZVNoZWV0VGV4dHVyZS5oZWlnaHQvdGhpcy5zcHJpdGVIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGNvbCA9IGluZGV4ICUgY29sdW1ucztcclxuICAgICAgICB2YXIgcm93ID0gTWF0aC5mbG9vcihpbmRleCAvICBjb2x1bW5zKTtcclxuICAgICAgICB2YXIgbGVmdCA9IGNvbCAqIHRoaXMuc3ByaXRlV2lkdGg7XHJcbiAgICAgICAgdmFyIHRvcCA9IHJvdyAqIHRoaXMuc3ByaXRlSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5nZXQoc3RhdGUpLnB1c2gobmV3IEFuaW1hdGlvbkZyYW1lKGxlZnQsIHRvcCwgZnJhbWVEdXJhdGlvbikpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTcHJpdGVXaWR0aCgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3ByaXRlSGVpZ2h0KCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZUhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3ByaXRlU2hlZXRUZXh0dXJlKCkgOiBXZWJHTEdhbWVUZXh0dXJlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVTaGVldFRleHR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEFuaW1hdGlvbihzdGF0ZSA6IHN0cmluZykgOiBBcnJheTxBbmltYXRpb25GcmFtZT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuZ2V0KHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TGVmdChzdGF0ZSA6IHN0cmluZywgZnJhbWVJbmRleCA6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBhbmltYXRpb25GcmFtZSA6IEFuaW1hdGlvbkZyYW1lID0gdGhpcy5hbmltYXRpb25zLmdldChzdGF0ZSlbZnJhbWVJbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkZyYW1lLmxlZnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRvcChzdGF0ZSA6IHN0cmluZywgZnJhbWVJbmRleCA6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBhbmltYXRpb25GcmFtZSA6IEFuaW1hdGlvbkZyYW1lID0gdGhpcy5hbmltYXRpb25zLmdldChzdGF0ZSlbZnJhbWVJbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkZyYW1lLnRvcDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNjZW5lR3JhcGggfSBmcm9tIFwiLi4vU2NlbmVHcmFwaFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJlaGF2aW9ye1xyXG4gICAgcHJpdmF0ZSBzdGF0ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzY2VuZSA6IFNjZW5lR3JhcGg7XHJcbiAgICBwcml2YXRlIHdvcmxkV2lkdGggOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHdvcmxkSGVpZ2h0IDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBydW5Bd2F5IDogYm9vbGVhbjtcclxuXHJcbiAgICAvL1N0YXRlIGlzIHdoYXQgYmVoYXZpb3IgdG8gZG8sIDAgPSBub3RoaW5nLCAxID0gcmFuZG9tIHdhbGsgaW4gZGlyZWN0aW9uLCAyID0gcGF0cm9sIGJhY2sgYW5kIGZvcnRoIGluIHBsYWNlIHRoZW4gcnVuLCAzID0gZm9sbG93IG1vdXNlXHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHN0YXRlOiBudW1iZXIsIHNjZW5lIDogU2NlbmVHcmFwaCwgeCA6IG51bWJlciwgeSA6IG51bWJlcil7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLndvcmxkV2lkdGggPSB4O1xyXG4gICAgICAgIHRoaXMud29ybGRIZWlnaHQgPSB5O1xyXG4gICAgICAgIHRoaXMucnVuQXdheSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRSdW5uaW5nKCkgOiBib29sZWFue1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJ1bkF3YXk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZVJ1bm5pbmcoKSA6IHZvaWR7XHJcbiAgICAgICAgaWYgKHRoaXMucnVuQXdheSl7XHJcbiAgICAgICAgICAgIHRoaXMucnVuQXdheSA9IGZhbHNlO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnJ1bkF3YXkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U3RhdGUoc3RhdGU6IG51bWJlcikgOiB2b2lke1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3RhdGUoKSA6IG51bWJlcntcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2NlbmUoKSA6IFNjZW5lR3JhcGh7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdpZHRoKCkgOiBudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SGVpZ2h0KCkgOiBudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRoaW5rKHg6IG51bWJlciwgeSA6IG51bWJlcikgOiBudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBCZWhhdmlvciB9IGZyb20gJy4vQmVoYXZpb3InO1xyXG5pbXBvcnQgeyBTY2VuZUdyYXBoIH0gZnJvbSAnLi4vU2NlbmVHcmFwaCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQnVnQmVoYXZpb3IxIGV4dGVuZHMgQmVoYXZpb3Ige1xyXG4gICAgcHJpdmF0ZSB3YWxraW5nIDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgZnJhbWVDb3VudGVyIDogbnVtYmVyO1xyXG4gICAgLy9EaXJlY3Rpb24gMCA9IFVwLCAxID0gcmlnaHQsIDIgPSBkb3duLCAzID0gbGVmdFxyXG4gICAgcHJpdmF0ZSBkaXJlY3Rpb24gOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHN0YXRlIDogbnVtYmVyLCBzY2VuZSA6IFNjZW5lR3JhcGgsIHggOiBudW1iZXIsIHkgOiBudW1iZXIpe1xyXG4gICAgICAgIHN1cGVyKHN0YXRlLCBzY2VuZSwgeCwgeSk7XHJcbiAgICAgICAgdGhpcy53YWxraW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIgPSAwO1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0V2Fsa2luZygpIDogYm9vbGVhbntcclxuICAgICAgICByZXR1cm4gdGhpcy53YWxraW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRXYWxraW5nKCkgOiB2b2lke1xyXG4gICAgICAgIHRoaXMud2Fsa2luZyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEZyYW1lQ291bnRlcigpIDogbnVtYmVye1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lQ291bnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVjcmVtZW50RnJhbWVzKCkgOiB2b2lke1xyXG4gICAgICAgIHRoaXMuZnJhbWVDb3VudGVyIC09IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRvbmVXYWxraW5nKCkgOiB2b2lke1xyXG4gICAgICAgIHRoaXMud2Fsa2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByYW5kb21EaXJlY3Rpb24oKSA6IHZvaWR7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKDQpKTtcclxuICAgICAgICAvL1JhbmRvbSBudW1iZXIgb2YgZnJhbWVzIGZyb20gMCB0byAzMDAsIHNvIDAgdG8gNSBzZWNvbmRzIG9mIHdhbGtpbmcgaW4gYW55IGRpcmVjdGlvblxyXG4gICAgICAgIHRoaXMuZnJhbWVDb3VudGVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigzMDApKTtcclxuICAgICAgICB0aGlzLnNldFdhbGtpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGhpbmsoeCA6IG51bWJlciwgeSA6IG51bWJlcikgOiBudW1iZXJ7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0V2Fsa2luZygpKXtcclxuICAgICAgICAgICAgaWYgKHggPD0gMCAmJiB0aGlzLmRpcmVjdGlvbiA9PSAzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVtZW50RnJhbWVzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRGcmFtZUNvdW50ZXIoKSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmVXYWxraW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfWVsc2UgaWYgKHggPj0gdGhpcy5nZXRXaWR0aCgpICYmIHRoaXMuZGlyZWN0aW9uID09IDEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyZW1lbnRGcmFtZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldEZyYW1lQ291bnRlcigpID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZVdhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAoeSA8PSAwICYmIHRoaXMuZGlyZWN0aW9uID09IDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyZW1lbnRGcmFtZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldEZyYW1lQ291bnRlcigpID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZVdhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAoeSA+PSB0aGlzLmdldEhlaWdodCgpICYmIHRoaXMuZGlyZWN0aW9uID09IDIpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyZW1lbnRGcmFtZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldEZyYW1lQ291bnRlcigpID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZVdhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVtZW50RnJhbWVzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRGcmFtZUNvdW50ZXIoKSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbmVXYWxraW5nKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMucmFuZG9tRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0V2Fsa2luZygpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT0gMCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfWVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09IDEpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT0gMil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTI7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IEJlaGF2aW9yIH0gZnJvbSAnLi9CZWhhdmlvcic7XHJcbmltcG9ydCB7IFNjZW5lR3JhcGggfSBmcm9tICcuLi9TY2VuZUdyYXBoJztcclxuaW1wb3J0IHsgQW5pbWF0ZWRTcHJpdGUgfSBmcm9tICcuL0FuaW1hdGVkU3ByaXRlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWdCZWhhdmlvcjIgZXh0ZW5kcyBCZWhhdmlvciB7XHJcbiAgICBwcml2YXRlIHdhbGtpbmcgOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBmcmFtZUNvdW50ZXIgOiBudW1iZXI7XHJcbiAgICAvL0RpcmVjdGlvbiAwID0gVXAsIDEgPSByaWdodCwgMiA9IGRvd24sIDMgPSBsZWZ0XHJcbiAgICBwcml2YXRlIGRpcmVjdGlvbiA6IG51bWJlcjtcclxuICAgIHByaXZhdGUgY29vbGRvd24gOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBsYXllciA6IEFuaW1hdGVkU3ByaXRlO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihzdGF0ZSA6IG51bWJlciwgc2NlbmUgOiBTY2VuZUdyYXBoLCB4IDogbnVtYmVyLCB5IDogbnVtYmVyLCBwbGF5ZXIgOiBBbmltYXRlZFNwcml0ZSl7XHJcbiAgICAgICAgc3VwZXIoc3RhdGUsIHNjZW5lLCB4LCB5KTtcclxuICAgICAgICB0aGlzLndhbGtpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XHJcbiAgICAgICAgLy9EaXJlY3Rpb24gMCA9IFVwLCAxID0gcmlnaHQsIDIgPSBkb3duLCAzID0gbGVmdFxyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcig0KSk7XHJcbiAgICAgICAgdGhpcy5jb29sZG93biA9IDA7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdhbGtpbmcoKSA6IGJvb2xlYW57XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud2Fsa2luZztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UGxheWVyKCkgOiBBbmltYXRlZFNwcml0ZXtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFdhbGtpbmcoKSA6IHZvaWR7XHJcbiAgICAgICAgdGhpcy53YWxraW5nID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RnJhbWVDb3VudGVyKCkgOiBudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVDb3VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWNyZW1lbnRGcmFtZXMoKSA6IHZvaWR7XHJcbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIgLT0gMTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZG9uZVdhbGtpbmcoKSA6IHZvaWR7XHJcbiAgICAgICAgdGhpcy53YWxraW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvb2xkb3duKCkgOiBudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29vbGRvd247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlY3JlbWVudENvb2xkb3duKCkgOiB2b2lke1xyXG4gICAgICAgIHRoaXMuY29vbGRvd24gLT0gMTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVmcmVzaENvb2xkb3duKCkgOiB2b2lke1xyXG4gICAgICAgIHRoaXMuY29vbGRvd24gPSAxMjA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZURpcmVjdGlvbigpIDogdm9pZHtcclxuICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT0gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gMjtcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gMztcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT0gMil7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gMDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheWVyTmVhcmJ5KHggOiBudW1iZXIsIHkgOiBudW1iZXIpIDogbnVtYmVye1xyXG4gICAgICAgIGlmICh4IC0gdGhpcy5wbGF5ZXIuZ2V0UG9zaXRpb24oKS5nZXRYKCkgPD0gNjAgJiYgeCAtIHRoaXMucGxheWVyLmdldFBvc2l0aW9uKCkuZ2V0WCgpID49IDApe1xyXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IDE7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9ZWxzZSBpZiAodGhpcy5wbGF5ZXIuZ2V0UG9zaXRpb24oKS5nZXRYKCkgLSB4IDw9IDYwICYmIHRoaXMucGxheWVyLmdldFBvc2l0aW9uKCkuZ2V0WCgpIC0geCA+PSAwKXtcclxuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAzO1xyXG4gICAgICAgICAgICByZXR1cm4gLTM7XHJcbiAgICAgICAgfWVsc2UgaWYgKHkgLSB0aGlzLnBsYXllci5nZXRQb3NpdGlvbigpLmdldFkoKSA8PSA2MCAmJiB5IC0gdGhpcy5wbGF5ZXIuZ2V0UG9zaXRpb24oKS5nZXRZKCkgPj0gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gMjtcclxuICAgICAgICAgICAgcmV0dXJuIC0yO1xyXG4gICAgICAgIH1lbHNlIGlmICh0aGlzLnBsYXllci5nZXRQb3NpdGlvbigpLmdldFkoKSAtIHkgPD0gNjAgJiYgdGhpcy5wbGF5ZXIuZ2V0UG9zaXRpb24oKS5nZXRZKCkgLSB5ID49IDApe1xyXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRoaW5rKHggOiBudW1iZXIsIHkgOiBudW1iZXIpIDogbnVtYmVye1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllck5lYXJieSh4LCB5KSA9PSAxKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0UnVubmluZygpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlUnVubmluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFdhbGtpbmcoKSl7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCA8PSAwICYmIHRoaXMuZGlyZWN0aW9uID09IDMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVtZW50RnJhbWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0RnJhbWVDb3VudGVyKCkgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZVdhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQ29vbGRvd24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoeCA+PSB0aGlzLmdldFdpZHRoKCkgJiYgdGhpcy5kaXJlY3Rpb24gPT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNyZW1lbnRGcmFtZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRGcmFtZUNvdW50ZXIoKSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lV2Fsa2luZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hDb29sZG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmICh5IDw9IDAgJiYgdGhpcy5kaXJlY3Rpb24gPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNyZW1lbnRGcmFtZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRGcmFtZUNvdW50ZXIoKSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lV2Fsa2luZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hDb29sZG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmICh5ID49IHRoaXMuZ2V0SGVpZ2h0KCkgJiYgdGhpcy5kaXJlY3Rpb24gPT0gMil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNyZW1lbnRGcmFtZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRGcmFtZUNvdW50ZXIoKSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb25lV2Fsa2luZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hDb29sZG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjcmVtZW50RnJhbWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0RnJhbWVDb3VudGVyKCkgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZVdhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQ29vbGRvd24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29vbGRvd24gPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdhbGtpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDYwO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5kaXJlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlY3JlbWVudENvb2xkb3duKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaWYgKCEgdGhpcy5nZXRSdW5uaW5nKCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VSdW5uaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyTmVhcmJ5KHgsIHkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBXZWJHTEdhbWVUZXh0dXJlIH0gZnJvbSBcIi4uLy4uL3JlbmRlcmluZy9XZWJHTEdhbWVUZXh0dXJlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVGlsZVNldCB7XHJcbiAgICBwcml2YXRlIG5hbWUgOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNvbHVtbnMgOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJvd3MgOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHRpbGVXaWR0aCA6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdGlsZUhlaWdodCA6IG51bWJlcjtcclxuICAgIHByaXZhdGUgdGlsZVNwYWNpbmcgOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHRpbGVTaGVldFdpZHRoIDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0aWxlU2hlZXRIZWlnaHQgOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZpcnN0SW5kZXggOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHRleHR1cmUgOiBXZWJHTEdhbWVUZXh0dXJlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGluaXROYW1lIDogc3RyaW5nLCBcclxuICAgICAgICAgICAgICAgIGluaXRDb2x1bW5zIDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgaW5pdFJvd3MgOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBpbml0VGlsZVdpZHRoIDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgaW5pdFRpbGVIZWlnaHQgOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBpbml0VGlsZVNwYWNpbmcgOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBpbml0VGlsZVNoZWV0V2lkdGggOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBpbml0VGlsZVNoZWV0SGVpZ2h0IDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgaW5pdEZpcnN0SW5kZXggOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBpbml0VGV4dHVyZSA6IFdlYkdMR2FtZVRleHR1cmUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBpbml0TmFtZTtcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBpbml0Q29sdW1ucztcclxuICAgICAgICB0aGlzLnJvd3MgPSBpbml0Um93cztcclxuICAgICAgICB0aGlzLnRpbGVXaWR0aCA9IGluaXRUaWxlV2lkdGg7XHJcbiAgICAgICAgdGhpcy50aWxlSGVpZ2h0ID0gaW5pdFRpbGVIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy50aWxlU3BhY2luZyA9IGluaXRUaWxlU3BhY2luZztcclxuICAgICAgICB0aGlzLnRpbGVTaGVldFdpZHRoID0gaW5pdFRpbGVTaGVldFdpZHRoO1xyXG4gICAgICAgIHRoaXMudGlsZVNoZWV0SGVpZ2h0ID0gaW5pdFRpbGVTaGVldEhlaWdodDtcclxuICAgICAgICB0aGlzLmZpcnN0SW5kZXggPSBpbml0Rmlyc3RJbmRleDtcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSBpbml0VGV4dHVyZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TmFtZSgpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb2x1bW5zKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFJvd3MoKSA6IG51bWJlciB7IFxyXG4gICAgICAgIHJldHVybiB0aGlzLnJvd3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRpbGVXaWR0aCgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aWxlV2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRpbGVIZWlnaHQoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZUhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGlsZVNwYWNpbmcoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVNwYWNpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRpbGVTaGVldFdpZHRoKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVTaGVldFdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaWxlU2hlZXRIZWlnaHQoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVNoZWV0SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGaXJzdEluZGV4KCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0SW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRleHR1cmUoKSA6IFdlYkdMR2FtZVRleHR1cmUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBUaWxlU2V0IH0gZnJvbSBcIi4vVGlsZVNldFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRpbGVkTGF5ZXIge1xyXG4gICAgcHJpdmF0ZSBjb2xsaWRhYmxlIDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgdGlsZXMgOiBBcnJheTxudW1iZXI+O1xyXG4gICAgcHJpdmF0ZSBjb2x1bW5zIDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByb3dzIDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB0aWxlU2V0IDogVGlsZVNldDtcclxuICAgIFxyXG4gICAgLy8gV0UgV0lMTCBTVE9SRSBSRU5ERVJJTkctU1BFQ0lGSUMgREFUQSBIRVJFXHJcbiAgICBwcml2YXRlIHJlbmRlckRhdGEgOiBvYmplY3Q7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW5pdENvbHVtbnMgOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICBpbml0Um93cyA6IG51bWJlcixcclxuICAgICAgICAgICAgICAgIGluaXRUaWxlU2V0IDogVGlsZVNldCkge1xyXG4gICAgICAgIHRoaXMudGlsZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBpbml0Q29sdW1ucztcclxuICAgICAgICB0aGlzLnJvd3MgPSBpbml0Um93cztcclxuICAgICAgICB0aGlzLnRpbGVTZXQgPSBpbml0VGlsZVNldDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0UmVuZGVyRGF0YShpbml0UmVuZGVyRGF0YSA6IG9iamVjdCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbmRlckRhdGEgPSBpbml0UmVuZGVyRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UmVuZGVyRGF0YSgpIDogb2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRNaW5pbXVtVmlzaWJsZUNvbHVtbih2aWV3cG9ydExlZnQgOiBudW1iZXIpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKHZpZXdwb3J0TGVmdCAvIHRoaXMudGlsZVNldC5nZXRUaWxlV2lkdGgoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE1heGltdW1WaXNpYmxlQ29sdW1uKHZpZXdwb3J0UmlnaHQgOiBudW1iZXIpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKHZpZXdwb3J0UmlnaHQgLyB0aGlzLnRpbGVTZXQuZ2V0VGlsZVdpZHRoKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRNaW5pbXVtVmlzaWJsZVJvdyh2aWV3cG9ydFRvcCA6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAodmlld3BvcnRUb3AgLyB0aGlzLnRpbGVTZXQuZ2V0VGlsZUhlaWdodCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TWF4aW11bVZpc2libGVSb3codmlld3BvcnRCb3R0b20gOiBudW1iZXIpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gKHZpZXdwb3J0Qm90dG9tIC8gdGhpcy50aWxlU2V0LmdldFRpbGVIZWlnaHQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE51bUNlbGxzKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbnMgKiB0aGlzLnJvd3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbHVtbnMoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Um93cygpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3dzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaWxlU2V0KCkgOiBUaWxlU2V0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aWxlU2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxpZGFibGUoKSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxpZGFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFRpbGUodGlsZVNldENlbGxJbmRleCA6IG51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRpbGVzLnB1c2godGlsZVNldENlbGxJbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFRpbGUoY29sdW1uIDogbnVtYmVyLCByb3cgOiBudW1iZXIsIHRpbGVTZXRDZWxsSW5kZXggOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgdGlsZUluZGV4IDogbnVtYmVyID0gdGhpcy5nZXRUaWxlSW5kZXgoY29sdW1uLCByb3cpO1xyXG4gICAgICAgIHRoaXMudGlsZXNbdGlsZUluZGV4XSA9IHRpbGVTZXRDZWxsSW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRpbGVJbmRleChjb2x1bW4gOiBudW1iZXIsIHJvdyA6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAocm93ICogdGhpcy5jb2x1bW5zKSArIGNvbHVtbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGlsZVNldENlbGxJbmRleChjb2x1bW4gOiBudW1iZXIsIHJvdyA6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIGxldCB0aWxlSW5kZXggOiBudW1iZXIgPSB0aGlzLmdldFRpbGVJbmRleChjb2x1bW4sIHJvdyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZXNbdGlsZUluZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGlsZShjb2x1bW4gOiBudW1iZXIsIHJvdyA6IG51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0VGlsZUluZGV4KGNvbHVtbiwgcm93KTtcclxuICAgICAgICByZXR1cm4gdGhpcy50aWxlc1tpbmRleF07XHJcbiAgICB9XHJcbn0iLCIvKlxyXG4gKiBUaGlzIHByb3ZpZGVzIHJlc3BvbnNlcyB0byBVSSBpbnB1dC5cclxuICovXHJcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGV9IGZyb20gXCIuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGVcIlxyXG5pbXBvcnQge1NjZW5lR3JhcGh9IGZyb20gXCIuLi9zY2VuZS9TY2VuZUdyYXBoXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBVSUNvbnRyb2xsZXIge1xyXG4gICAgcHJpdmF0ZSBzcHJpdGVUb0RyYWcgOiBBbmltYXRlZFNwcml0ZTtcclxuICAgIHByaXZhdGUgc2NlbmUgOiBTY2VuZUdyYXBoO1xyXG4gICAgcHJpdmF0ZSBkcmFnT2Zmc2V0WCA6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZHJhZ09mZnNldFkgOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNhbnZhc0lkIDogc3RyaW5nLCBpbml0U2NlbmUgOiBTY2VuZUdyYXBoKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVUb0RyYWcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBpbml0U2NlbmU7XHJcbiAgICAgICAgdGhpcy5kcmFnT2Zmc2V0WCA9IC0xO1xyXG4gICAgICAgIHRoaXMuZHJhZ09mZnNldFkgPSAtMTtcclxuXHJcbiAgICAgICAgbGV0IGNhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50ID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc0lkKTtcclxuICAgICAgICBjYW52YXMudGFiSW5kZXggPSAxO1xyXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VEb3duSGFuZGxlcik7XHJcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZU1vdmVIYW5kbGVyKTtcclxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwSGFuZGxlcik7XHJcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuZEhhbmRsZXIpO1xyXG4gICAgICAgIC8vY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMubW91c2VFbnRlckhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd25IYW5kbGVyID0gKGV2ZW50IDogTW91c2VFdmVudCkgOiB2b2lkID0+IHtcclxuICAgICAgICBsZXQgbW91c2VQcmVzc1ggOiBudW1iZXIgPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgIGxldCBtb3VzZVByZXNzWSA6IG51bWJlciA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgbGV0IHNwcml0ZSA6IEFuaW1hdGVkU3ByaXRlID0gdGhpcy5zY2VuZS5nZXRTcHJpdGVBdChtb3VzZVByZXNzWCArIHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRYKCksIG1vdXNlUHJlc3NZICsgdGhpcy5zY2VuZS5nZXRWaWV3cG9ydCgpLmdldFkoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJtb3VzZVByZXNzWDogXCIgKyBtb3VzZVByZXNzWCk7IC8vKyB0aGlzLnNjZW5lLmdldFZpZXdwb3J0KCkuZ2V0WCgpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm1vdXNlUHJlc3NZOiBcIiArIG1vdXNlUHJlc3NZKTsgLy8rIHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRZKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3ByaXRlOiBcIiArIHNwcml0ZSk7XHJcbiAgICAgICAgaWYgKHNwcml0ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIFNUQVJUIERSQUdHSU5HIElUXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlVG9EcmFnID0gc3ByaXRlO1xyXG4gICAgICAgICAgICB0aGlzLmRyYWdPZmZzZXRYID0gc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WCgpIC0gbW91c2VQcmVzc1g7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ09mZnNldFkgPSBzcHJpdGUuZ2V0UG9zaXRpb24oKS5nZXRZKCkgLSBtb3VzZVByZXNzWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBtb3VzZU1vdmVIYW5kbGVyID0gKGV2ZW50IDogTW91c2VFdmVudCkgOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGVUb0RyYWcgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZy5nZXRQb3NpdGlvbigpLnNldChldmVudC5jbGllbnRYICsgdGhpcy5kcmFnT2Zmc2V0WCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNsaWVudFkgKyB0aGlzLmRyYWdPZmZzZXRZLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGVUb0RyYWcuZ2V0UG9zaXRpb24oKS5nZXRaKCksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZy5nZXRQb3NpdGlvbigpLmdldFcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZVVwSGFuZGxlciA9IChldmVudCA6IE1vdXNlRXZlbnQpIDogdm9pZCA9PiB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVUb0RyYWcgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkSGFuZGxlciA9IChldmVudCA6IEtleWJvYXJkRXZlbnQpIDogdm9pZCA9PiB7XHJcbiAgICAgICAgbGV0IHdvcmxkV2lkdGggOiBudW1iZXIgPSB0aGlzLnNjZW5lLmdldFRpbGVkTGF5ZXJzKClbMF0uZ2V0Q29sdW1ucygpICogdGhpcy5zY2VuZS5nZXRUaWxlZExheWVycygpWzBdLmdldFRpbGVTZXQoKS5nZXRUaWxlV2lkdGgoKTtcclxuICAgICAgICBsZXQgd29ybGRIZWlnaHQgOiBudW1iZXIgPSB0aGlzLnNjZW5lLmdldFRpbGVkTGF5ZXJzKClbMF0uZ2V0Um93cygpICogdGhpcy5zY2VuZS5nZXRUaWxlZExheWVycygpWzBdLmdldFRpbGVTZXQoKS5nZXRUaWxlSGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDY4KXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJLRVkgUFJFU1NFRDogZFwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRYKCkgKyAxMDAgPj0gd29ybGRXaWR0aCAtIHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRXaWR0aCgpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5zZXRQb3NpdGlvbih3b3JsZFdpZHRoIC0gdGhpcy5zY2VuZS5nZXRWaWV3cG9ydCgpLmdldFdpZHRoKCksIHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRZKCkpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5pbmMoMTAwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDY1KXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJLRVkgUFJFU1NFRDogYVwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRYKCkgLSAxMDAgPD0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldFZpZXdwb3J0KCkuc2V0UG9zaXRpb24oMCwgdGhpcy5zY2VuZS5nZXRWaWV3cG9ydCgpLmdldFkoKSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXRWaWV3cG9ydCgpLmluYygtMTAwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDg3KXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJLRVkgUFJFU1NFRDogd1wiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRZKCkgLSAxMDAgPD0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldFZpZXdwb3J0KCkuc2V0UG9zaXRpb24odGhpcy5zY2VuZS5nZXRWaWV3cG9ydCgpLmdldFgoKSwgMCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXRWaWV3cG9ydCgpLmluYygwLCAtMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDgzKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJLRVkgUFJFU1NFRDogc1wiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRZKCkgKyAxMDAgPj0gd29ybGRIZWlnaHQgLSB0aGlzLnNjZW5lLmdldFZpZXdwb3J0KCkuZ2V0SGVpZ2h0KCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXRWaWV3cG9ydCgpLnNldFBvc2l0aW9uKHRoaXMuc2NlbmUuZ2V0Vmlld3BvcnQoKS5nZXRYKCksIHdvcmxkSGVpZ2h0IC0gdGhpcy5zY2VuZS5nZXRWaWV3cG9ydCgpLmdldEhlaWdodCgpKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldFZpZXdwb3J0KCkuaW5jKDAsIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLypwdWJsaWMgbW91c2VFbnRlckhhbmRsZXIgPSAoZXZlbnQgOiBNb3VzZUV2ZW50KSA6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwibW91c2VQcmVzc1g6IFwiICsgZXZlbnQuY2xpZW50WCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJtb3VzZVByZXNzWTogXCIgKyBldmVudC5jbGllbnRZKTtcclxuICAgICAgICBsZXQgdGFyZ2V0WCA9IGV2ZW50LmNsaWVudFg7IC8vKyB0aGlzLmRyYWdPZmZzZXRYO1xyXG4gICAgICAgIGxldCB0YXJnZXRZID0gZXZlbnQuY2xpZW50WTsgLy8rIHRoaXMuZHJhZ09mZnNldFk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGRpZmZYID0gdGFyZ2V0WCAtIHRoaXMuc2NlbmUubW92ZU1hbnRpcygpLmdldFBvc2l0aW9uKCkuZ2V0WCgpO1xyXG4gICAgICAgIGxldCBkaWZmWSA9IHRhcmdldFkgLSB0aGlzLnNjZW5lLm1vdmVNYW50aXMoKS5nZXRQb3NpdGlvbigpLmdldFkoKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoTWF0aC5hYnMgKGRpZmZYKSA+PSAxKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFggKz0gKGRpZmZYICogMC4xKTtcdFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoTWF0aC5hYnMgKGRpZmZZKSA+PSAxKSB7XHJcbiAgICAgICAgICAgIHRhcmdldFkgKz0gKGRpZmZZICogMC4xKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUubW92ZU1hbnRpcygpLmdldFBvc2l0aW9uKCkuc2V0KHRhcmdldFgsIHRhcmdldFksXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlVG9EcmFnLmdldFBvc2l0aW9uKCkuZ2V0WigpLCBcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGVUb0RyYWcuZ2V0UG9zaXRpb24oKS5nZXRXKCkpO1xyXG4gICAgfSovXHJcbn0iXX0="}